(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{105:function(e,t,a){e.exports=a(120)},118:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),l=a(8),s=a(9),c=a(11),u=a(10),m=a(56),d=(a(22),m),h=r.a.createContext(m.initializeApp({apiKey:"AIzaSyCGE8_j8cfIBmIzcvP6CVgG2yC6EE1Ep1U",authDomain:"wodtrackrr.firebaseapp.com",databaseURL:"https://wodtrackrr.firebaseio.com",projectId:"wodtrackrr",storageBucket:"wodtrackrr.appspot.com",messagingSenderId:"743601990099",appId:"1:743601990099:web:5937e9151eaad13e93a726",measurementId:"G-39CF0BRPMH"})),p=(a(93),a(27),a(20)),f=a(14),v=a(159),b=a(180),y=a(181),E=a(86),g=a.n(E),x=(a(28),a(15)),w=a(99),k=a(59),B=a(171),D=a(184),j=a(175),O=a(95),S=a.n(O),M=a(185),I=a(172),L=a(173),A=a(174),C=a(30),W=a.n(C),T=a(163),V=a(164),P=a(187),U=a(166),F=a(167),R=a(170);a(121),a(18),a(48),a(36),d.storage(),d.database();d.database();var N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={spec:n.generateSpec(e.values)},n}return Object(s.a)(a,[{key:"generateSpec",value:function(e){return{$schema:"https://vega.github.io/schema/vega/v5.json",width:400,height:200,padding:5,data:[{name:"table",values:e}],signals:[{name:"tooltip",value:{},on:[{events:"rect:mouseover",update:"datum"},{events:"rect:mouseout",update:"{}"}]}],scales:[{name:"xscale",type:"band",domain:{data:"table",field:"category"},range:"width",padding:.05,round:!0},{name:"yscale",domain:{data:"table",field:"amount"},nice:!0,range:"height"}],axes:[{orient:"bottom",scale:"xscale"},{orient:"left",scale:"yscale"}],marks:[{type:"rect",from:{data:"table"},encode:{enter:{x:{scale:"xscale",field:"category"},width:{scale:"xscale",band:1},y:{scale:"yscale",field:"amount"},y2:{scale:"yscale",value:0}},update:{fill:{value:"steelblue"}},hover:{fill:{value:"red"}}}},{type:"text",encode:{enter:{align:{value:"center"},baseline:{value:"bottom"},fill:{value:"#333"}},update:{x:{scale:"xscale",signal:"tooltip.category",band:.5},y:{scale:"yscale",signal:"tooltip.amount",offset:-2},text:{signal:"tooltip.amount"},fillOpacity:[{test:"isNaN(tooltip.amount)",value:0},{value:1}]}}}]}}},{key:"componentDidMount",value:function(){var e=this;fetch("https://vega.github.io/vega/examples/bar-chart.vg.json").then((function(e){return e.json()})).then((function(t){return e.renderSpec(t)})).catch((function(e){return console.error(e)}))}},{key:"renderSpec",value:function(e){var t=window.VEGA;return new t.View(t.parse(e),{renderer:"canvas",container:"#barChart",hover:!0}).runAsync()}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"componentWillUnmount",value:function(){console.log("Component will unmount")}},{key:"objListToArray",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"render",value:function(){return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:2},r.a.createElement("div",{id:"barChart"})))}}]),a}(n.Component),z=N=Object(M.a)(N),G=d.database(),K=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={wodID:e.wodID,scores:new Array,rawScores:new Array},n}return Object(s.a)(a,[{key:"getRawScores",value:function(e){return e.map((function(e){return e.get("score")}))}},{key:"getSummaryStats",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t="scores/".concat(this.state.wodID);this.scoreListener=G.ref(t).on("value",(function(t){if(t&&t.exists()){var a=e.objListToArray(t.val());e.setState({scores:a,rawScores:e.getRawScores(a)})}}))}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"componentWillUnmount",value:function(){console.log("Component will unmount")}},{key:"objListToArray",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"render",value:function(){return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:2},r.a.createElement(z,{values:[{category:"A",amount:28},{category:"B",amount:55},{category:"C",amount:43},{category:"D",amount:91},{category:"E",amount:81},{category:"F",amount:53},{category:"G",amount:19},{category:"H",amount:87}]})))}}]),a}(n.Component),Z=K=Object(M.a)(K),H=d.database();function J(e){var t=e.info.get("score"),a=e.info.get("username");return r.a.createElement(T.a,null,r.a.createElement(V.a,{primary:a}),r.a.createElement(V.a,{primary:t}))}var $=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var r=e.wodMD.get("wodID");return n.state={userMD:e.userMD,wodID:r,wodMD:e.wodMD,scores:new Array},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="scores/".concat(this.state.wodID);this.scoreListener=H.ref(t).on("value",(function(t){t&&t.exists()&&e.setState({scores:e.objListToArray(t.val())})}))}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"componentWillUnmount",value:function(){console.log("Component will unmount"),this.scoreListener()}},{key:"objListToArray",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"handleAddScore",value:function(){if(this.state.userMD){var e=document.getElementById("scoreViewUserScore").value,t=this.state.userMD.username,a=this.state.userMD.uid,n="scores/".concat(this.state.wodID,"/").concat(a);console.log(t,e,a),H.ref(n).set({username:t,score:e,wodID:this.state.wodMD.get("wodID"),boxID:this.state.wodMD.get("boxID")})}}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(k.a,null,this.state.wodMD.get("title")),r.a.createElement(k.a,null,this.state.wodMD.get("scoreType")),r.a.createElement(k.a,null,this.state.wodMD.get("wodText"))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(P.a,null,r.a.createElement(U.a,{style:{background:this.props.theme.palette.primary.main},expandIcon:r.a.createElement(W.a,null),"aria-label":"Expand","aria-controls":"additional-actions2-content",id:"additional-actions2-header"},r.a.createElement(k.a,null,"Add Score")),r.a.createElement(F.a,null,r.a.createElement(k.a,null,this.state.wodMD.get("scoreType")),r.a.createElement(D.a,{id:"scoreViewUserScore",type:"text",style:{margin:8},pattern:"[\\sA-Za-z0-9]{35}",inputProps:{title:"Letters only, max length 35",placeholder:"Score"},margin:"normal",color:"primary",InputLabelProps:{shrink:!0}}),r.a.createElement(B.a,{variant:"outline",color:"primary",onClick:this.handleAddScore.bind(this)},"Add")))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(Z,{wodID:this.state.wodMD.get("wodID")})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,null,this.state.scores.length>0?r.a.createElement(R.a,null,this.state.scores.map((function(e){return r.a.createElement(J,{info:e})}))):r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(I.a,{variant:"outlined",color:"primary"},r.a.createElement(L.a,null,r.a.createElement(k.a,{variant:"h5",component:"h2",gutterBottom:!0},"No Scores!")))))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"outlined",color:"secondary",onClick:function(){e.props.handleBack()}},"Back")))}}]),a}(n.Component),_=$=Object(M.a)($),q=d.database();function Q(e){var t=e.info.get("title"),a=e.info.get("scoreType"),n=e.info.get("wodText");return r.a.createElement(v.a,{item:!0,xs:4},r.a.createElement(I.a,{variant:"outlined",color:"primary"},r.a.createElement(L.a,null,r.a.createElement(k.a,{variant:"h5",component:"h2",gutterBottom:!0},t),r.a.createElement(k.a,{color:"textSecondary"},a),r.a.createElement(k.a,{color:"textSecondary"},n)),r.a.createElement(A.a,null,r.a.createElement(B.a,{size:"small",color:"primary",onClick:function(){return e.handleScoreView(e.info)}},"View Scores"))))}var X=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={userMD:e.userMD,boxID:e.boxID,boxMD:new Map,wods:new Array,showWodList:!0,currentWodID:"",currentWodMD:new Map},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="boxes/".concat(this.props.boxID),a="wods/".concat(this.props.boxID);this.boxListener=q.ref(t).on("value",(function(t){t&&t.exists()&&e.setState({boxMD:new Map(Object.entries(t.val()))})})),this.wodListener=q.ref(a).on("value",(function(t){t&&t.exists()&&e.setState({wods:e.objListToArray(t.val())})}))}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"componentWillUnmount",value:function(){console.log("Component will unmount"),this.wodListener(),this.boxListener()}},{key:"objListToArray",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"handleScoreView",value:function(e){this.setState({showWodList:!1,currentWodMD:e})}},{key:"handleBack",value:function(){this.setState({showWodList:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:2},r.a.createElement(k.a,{align:"center",variant:"h3"},this.state.boxMD.get("title")),this.state.showWodList?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h4"},"Wods"),r.a.createElement(v.a,{container:!0,item:!0,xs:12},this.state.wods.length>0?this.state.wods.map((function(t){return r.a.createElement(Q,{handleScoreView:e.handleScoreView.bind(e),info:t})})):r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(I.a,{variant:"outlined",color:"primary"},r.a.createElement(L.a,null,r.a.createElement(k.a,{variant:"h5",component:"h2",gutterBottom:!0},"No Wods!")))))):r.a.createElement(_,{userMD:this.state.userMD,wodMD:this.state.currentWodMD,handleBack:this.handleBack.bind(this)})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"outlined",color:"secondary",onClick:function(){e.props.handleBack()}},"Back")))}}]),a}(n.Component),Y=X=Object(M.a)(X),ee=d.database();function te(e){var t=e.info.get("title"),a=e.info.get("boxID");return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,null,r.a.createElement(v.a,{container:!0,itemxs:12},r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(k.a,{align:"left",style:{padding:"2.5vw"},variant:"body1"},t)),r.a.createElement(v.a,{item:!0,xs:2},r.a.createElement(B.a,{variant:"outlined",onClick:function(){e.handleBoxView(a)}},"View")))))}var ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD,allBoxes:new Array,filteredBoxes:new Array},n}return Object(s.a)(a,[{key:"objectsToArray",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"componentDidMount",value:function(){var e=this;this.allBoxesListener=ee.ref("boxes").on("value",(function(t){if(t&&t.exists()){var a=e.objectsToArray(t.val());a.sort((function(e,t){return e.get("title").toLowerCase()>t.get("title").toLowerCase()?-1:1})),e.setState({allBoxes:a,filteredBoxes:a})}}))}},{key:"componentWillUnmount",value:function(){void 0!==this.allBoxesListener&&this.allBoxesListener()}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"onKeyUp",value:function(e){e.keyCode||e.which}},{key:"onChange",value:function(e){var t=e.target.value;console.log(t);var a=this.state.allBoxes.filter((function(e){return e.get("title").toLowerCase().includes(t.toLowerCase())}));this.setState({filteredBoxes:a})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:2,component:"form"},r.a.createElement(D.a,{fullWidth:!0,variant:"outlined",onKeyUp:this.onKeyUp.bind(this),onChange:this.onChange.bind(this),placeholder:"Search Boxes",InputProps:{startAdornment:r.a.createElement(j.a,{position:"start"},r.a.createElement(S.a,{color:"primary"}))}})),r.a.createElement(v.a,{item:!0,xs:12},this.state.filteredBoxes.map((function(t,a){return r.a.createElement(te,{key:a,info:t,handleBoxView:e.props.handleBoxView})}))))}}]),a}(n.Component),ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD,showBoxView:!1,currentBoxID:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handleBoxView",value:function(e){console.log("Show details for: ".concat(e)),this.setState({showBoxView:!0,currentBoxID:e})}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"handleBack",value:function(){this.setState({showBoxView:!1})}},{key:"render",value:function(){return r.a.createElement(v.a,{item:!0,xs:12},this.state.showBoxView?r.a.createElement(Y,{userMD:this.state.userMD,handleBack:this.handleBack.bind(this),boxID:this.state.currentBoxID}):r.a.createElement(ae,{handleBoxView:this.handleBoxView.bind(this)}),"}")}}]),a}(n.Component),re=ne=Object(M.a)(ne),oe=a(165),ie=a(183),le=(a(118),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleSubmit",value:function(e){var t=this,a=document.getElementById("email"),n=document.getElementById("password");document.getElementById("passwordConfirm");console.log(a.value,n),m.auth().signInWithEmailAndPassword(a.value,n.value).then((function(e){console.log("Firebase res"),console.log(e),t.props.onLogin(e.user)})).catch((function(e){console.log(e);e.code,e.message}))}},{key:"render",value:function(){return r.a.createElement(v.a,{container:!0,id:"login",align:"center",justify:"center"},r.a.createElement("br",null),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:"2"},r.a.createElement(k.a,{variant:"h4"},"Login"),r.a.createElement("br",null),r.a.createElement(D.a,{id:"email",style:{margin:8},placeholder:"Email",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(D.a,{id:"password",type:"password",style:{margin:8},placeholder:"Passowrd",margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:"2"},r.a.createElement(B.a,{variant:"outlined",color:"primary",onClick:this.handleSubmit.bind(this)},"Login"),r.a.createElement(p.b,{to:"/register",className:"no-line",style:{"padding-left":"10px"}},r.a.createElement(B.a,{variant:"outlined",color:"secondary"},"Register")))))}}]),a}(n.Component)),se=a(66),ce=a(182),ue=a(176),me=(d.database(),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD,userBoxes:e.userBoxes,hasBoxes:e.hasBoxes,showBoxList:!0,currentBoxID:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"componentWillUnmount",value:function(){console.log("Component will unmount")}},{key:"handleBoxView",value:function(e){console.log("Show boxView for: ",e),this.setState({showBoxList:!1,currentBoxID:e})}},{key:"handleBack",value:function(){this.setState({showBoxList:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(P.a,null,r.a.createElement(U.a,{style:{background:this.props.theme.palette.primary.main},expandIcon:r.a.createElement(W.a,null),"aria-label":"Expand","aria-controls":"additional-actions2-content",id:"additional-actions2-header"},r.a.createElement(k.a,null,"Boxes and Wods")),r.a.createElement(F.a,null,this.state.showBoxList?r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{container:!0,item:12},this.state.userBoxes.length>0?this.state.userBoxes.map((function(t,a){return r.a.createElement(de,{key:a,handleBoxView:e.handleBoxView.bind(e),info:t})})):r.a.createElement(v.a,{item:!0,zeroMinWidth:!0,xs:6},r.a.createElement(w.a,{elevation:4,style:{padding:"1vw"}},r.a.createElement(k.a,{noWrap:!0,align:"left"},"No boxes Found!"))))):r.a.createElement(Y,{handleBack:this.handleBack.bind(this),boxID:this.state.currentBoxID})))}}]),a}(n.Component));function de(e){console.log(e.info.get("title"));var t=e.info.get("title"),a=e.info.get("boxID");return r.a.createElement(v.a,{item:!0,zeroMinWidth:!0,xs:6},r.a.createElement(w.a,{elevation:4,style:{padding:"1vw"}},r.a.createElement(k.a,{noWrap:!0,align:"left"},"Title: ",t),r.a.createElement(k.a,{noWrap:!0,align:"left"},"Id: ",a),r.a.createElement(B.a,{variant:"outlined",color:"primary",onClick:function(){e.handleBoxView(a)}},"View")))}var he=me=Object(M.a)(me),pe=d.database(),fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD,userBoxes:new Array,hasBoxes:!1,addBoxProgress:!0,scoreTypeSelectVal:"",boxIDSelectVal:""},n}return Object(s.a)(a,[{key:"getArrayOfBoxes",value:function(e){return Array.from(Object.entries(e),(function(e){return new Map(Object.entries(e[1]))}))}},{key:"listenForBoxes",value:function(){var e=this;if(null!==this.state.user){console.log("Listening for boxes");var t="users/".concat(this.state.user.uid,"/boxes");this.boxListener=pe.ref(t).on("value",(function(t){null!=t&&t.exists()&&(console.log("Snapshot:"),console.log(t.val()),e.updateState({hasBoxes:!0,userBoxes:e.getArrayOfBoxes(t.val())}))}))}}},{key:"updateState",value:function(e){console.log("Seeting state"),console.log(e),this.setState(Object(x.a)({},e))}},{key:"componentDidMount",value:function(){this.listenForBoxes()}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e)),"owner"===e.userMD.accountType&&this.listenForBoxes()}},{key:"componentWillUnmount",value:function(){console.log("Component will Unmounting"),void 0!==this.boxListener&&(console.log("Unmounting OwnerBox"),this.boxListener())}},{key:"onKeyUp",value:function(e){if(13==(e.keyCode||e.which)){var t=document.getElementById("ownerBoxAddBoxTitle").value;this.setState({showAddBoxProgress:!0}),this.createBox(t)}}},{key:"createWOD",value:function(){var e=document.getElementById("ownerBoxAddWodBoxID").value,t=document.getElementById("ownerBoxAddWodTitle").value,a=document.getElementById("ownerBoxAddWodScoreType").value,n=document.getElementById("ownerBoxAddWodWodText").value;if(!e||!t||!a||!n)return console.log("Error with input createWod"),void console.log(e,t,a,n);var r="wods/".concat(e),o=pe.ref(r).push().key,i="".concat(r,"/").concat(o);pe.ref(i).set({boxID:e,wodID:o,title:t,scoreType:a,wodText:n})}},{key:"createBox",value:function(e){var t=this,a="boxNames/".concat(e),n="users/".concat(this.props.user.uid,"/boxes");pe.ref(a).once("value",(function(r){if(r.exists())alert("Title is taken");else{console.log("Adding box data");var o=pe.ref("boxes").push().key,i={title:e,ownerUID:t.props.user.uid,boxID:o};pe.ref("".concat("boxes","/").concat(o)).set(i),pe.ref(a).set(i),pe.ref("".concat(n,"/").concat(o)).set(i),t.setState({showAddBoxProgress:!1})}}))}},{key:"handleSelectValChange",value:function(e){var t=e.target.name;console.log(t),this.setState(Object(se.a)({},t,e.target.value))}},{key:"render",value:function(){return r.a.createElement(v.a,{item:!0,xs:12,id:"ownerBox"},r.a.createElement(k.a,{variant:"h3"},"Welcome, ",this.state.userMD.accountType,"!"),r.a.createElement(P.a,null,r.a.createElement(U.a,{style:{background:this.props.theme.palette.primary.mainGrad},expandIcon:r.a.createElement(W.a,null),"aria-label":"Expand","aria-controls":"additional-actions0-content",id:"additional-actions0-header"},r.a.createElement(k.a,null,"Add WOD")),r.a.createElement(F.a,null,r.a.createElement(ce.a,{native:!0,inputProps:{name:"Box",id:"ownerBoxAddWodBoxID"}},r.a.createElement("option",{"aria-label":"None",value:""}),this.state.hasBoxes?this.state.userBoxes.map((function(e,t){return r.a.createElement("option",{key:t,value:e.get("boxID")},e.get("title"))})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(D.a,{id:"ownerBoxAddWodTitle",type:"text",style:{margin:8},pattern:"[\\sA-Za-z0-9]{35}",inputProps:{title:"Letters only, max length 35",placeholder:"Title"},margin:"normal",color:"primary",InputLabelProps:{shrink:!0}}),r.a.createElement(D.a,{id:"ownerBoxAddWodWodText",type:"text",style:{margin:8},pattern:"[\\sA-Za-z0-9]{35}",inputProps:{title:"Letters only, max length 35",placeholder:"Workout here"},margin:"normal",color:"primary",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.a,{native:!0,inputProps:{name:"Score Type",id:"ownerBoxAddWodScoreType"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"time"},"Time"),r.a.createElement("option",{value:"reps"},"Reps"),r.a.createElement("option",{value:"rounds"},"Rounds")),r.a.createElement(B.a,{variant:"outlined",onClick:this.createWOD.bind(this)},"Enter WOD"))),r.a.createElement(P.a,null,r.a.createElement(U.a,{style:{background:this.props.theme.palette.primary.mainGrad},expandIcon:r.a.createElement(W.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},r.a.createElement(k.a,null,"Add Box")),r.a.createElement(F.a,null,r.a.createElement(D.a,{id:"ownerBoxAddBoxTitle",type:"text",style:{margin:8},pattern:"[\\sA-Za-z0-9]{35}",inputProps:{title:"Letters only, max length 35",placeholder:"Name of box"},onKeyUp:this.onKeyUp.bind(this),margin:"normal",color:"primary",InputLabelProps:{shrink:!0}}),this.state.showAddBoxProgress?r.a.createElement(ue.a,{color:"secondary"}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(he,{user:this.state.user,userMD:this.state.userMD,userBoxes:this.state.userBoxes,hasBoxes:this.state.hasBoxes}))}}]),a}(n.Component),ve=fe=Object(M.a)(fe),be=d.database(),ye=(n.Component,a(21)),Ee=Object(ye.a)(),ge=(d.database(),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD},console.log(e),n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"sendVerificationEmail",value:function(){var e=this;this.state.user.sendEmailVerification().then((function(){e.setState({emailAlertOpen:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{container:!0,align:"center"},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(oe.a,{in:this.state.emailAlertOpen},r.a.createElement(ie.a,{onClose:function(){e.setState({emailAlertOpen:!1})}},"Email sent!"))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(w.a,{elevation:2}),this.state.user.emailVerified?r.a.createElement(r.a.Fragment,null):r.a.createElement(w.a,{elevation:2},r.a.createElement(B.a,{variant:"outline",onClick:this.sendVerificationEmail.bind(this)},r.a.createElement(k.a,{variant:"h5",component:"h3"},"Send Verification Email"))),r.a.createElement(w.a,{elevation:2},r.a.createElement(ve,{user:this.state.user,userMD:this.state.userMD}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(v.a,{item:!0,xs:12,className:"compBorderOutline"},r.a.createElement(w.a,{elevation:2},r.a.createElement(B.a,{variant:"outlined",color:"secondary",onClick:this.props.onLogout},r.a.createElement(k.a,{variant:"h6",component:"h6"},"Logout"))))))}}]),a}(n.Component)),xe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={user:e.user,userMD:e.userMD},n}return Object(s.a)(a,[{key:"handleLogout",value:function(){var e=this;d.auth().signOut().then((function(){alert("Signed Out"),e.setState({user:null})}),(function(e){console.error("Sign Out Error",e)}))}},{key:"handleLogIn",value:function(e){this.setState({user:e})}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(x.a)({},e))}},{key:"render",value:function(){return r.a.createElement(v.a,{item:!0,xs:12,id:"profilepage"},null!==this.state.user?r.a.createElement(ge,{onLogout:this.handleLogout.bind(this),user:this.state.user,userMD:this.state.userMD}):r.a.createElement(le,{onLogin:this.handleLogIn.bind(this)}))}}]),a}(n.Component),we=a(177),ke=a(178),Be=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(we.a,{position:"static",style:{background:this.props.theme.palette.background.toolbar}},r.a.createElement(ke.a,{disableGutters:!1},r.a.createElement(k.a,{gutterBottom:!0,variant:"h3",style:{margin:"0 auto"}},"WodTrackrr")))}}]),a}(n.Component),De=Be=Object(M.a)(Be),je=a(96),Oe=a(186),Se=a(179),Me={palette:{common:{black:"#000",white:"#fff"},background:{paper:"#2e3134",toolbar:"#0d0e0e",tableHeader:"#1b1d1e",default:"rgba(48, 48, 48, 1)"},primary:{main:"#03ceec",mainGrad:"linear-gradient(90deg,#0890fd,#01d3fe)",contrastText:"rgba(255, 255, 255, 1)"},secondary:{light:"#6C30FF",main:"#6C30FF",dark:"#6C30FF",contrastText:"#fff"},error:{light:"#ea4331",main:"#c43627",dark:"#2d0d0b",contrastText:"rgba(255, 255, 255, 1)"},text:{primary:"#ffffff",secondary:"#e0dfdf",disabled:"#bdbdbd",hint:"#afafaf"}}},Ie=Me=Me,Le=d.database(),Ae=Object(je.a)(Ie);Ae=Object(Oe.a)(Ae);var Ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={btmnav:0,user:d.auth().currentUser,userMD:!1},n.firebaseAuthListener=d.auth().onAuthStateChanged((function(e){e&&(console.log("Firebase user listener"),n.setState({user:e}),n.userMDListener=Le.ref("users/"+e.uid).on("value",(function(e){e.val()&&(console.log("Metadata change"),console.log(e.val()),n.setState({userMD:e.val()}))})))})),n}return Object(s.a)(a,[{key:"componentWillUnmount",value:function(){void 0!==this.firebaseAuthListener&&this.firebaseAuthListener&&this.firebaseAuthListener(),null!==this.userMDListener&&this.userMDListener&&this.userMDListener()}},{key:"render",value:function(){var e=this;return r.a.createElement(h.Provider,null,r.a.createElement(p.a,{history:Ee},r.a.createElement(Se.a,{theme:Ae},r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:12,id:"page-header"},r.a.createElement(De,{className:"header"})),r.a.createElement(v.a,{item:!0,xs:11,id:"page-container",className:"page-content"},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/boxSearch"},r.a.createElement(re,{user:this.state.user,userMD:this.state.userMD})),r.a.createElement(f.a,{exact:!0,path:"/profile"},r.a.createElement(xe,{user:this.state.user,userMD:this.state.userMD})))),r.a.createElement(v.a,{item:!0,xs:12,className:"footer"},r.a.createElement(b.a,{className:"footer",value:this.state.btmnav,onChange:function(t,a){e.setState({btmnav:a})},style:{background:Ae.palette.background.toolbar},showLabels:!0},r.a.createElement(y.a,{label:"Search",component:p.b,to:"/boxSearch",icon:r.a.createElement(g.a,null)}),r.a.createElement(y.a,{label:"Profile",component:p.b,to:"/profile",icon:r.a.createElement(g.a,null)})))))))}}]),a}(r.a.Component);Ce.contextType=h,i.a.render(r.a.createElement(Ce,null),document.getElementById("root"))},28:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.53535da0.chunk.js.map