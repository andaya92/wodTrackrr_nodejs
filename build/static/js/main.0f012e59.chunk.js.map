{"version":3,"sources":["context/firebaseContext.js","comps/actionCancelModal.js","utils/firestore/classAdmin.js","utils/firestore/wods.js","utils/firestore/classMember.js","utils/firestore/gymClass.js","comps/gymClasses/gymClassList.js","comps/backButton.js","comps/boxes/boxView.js","utils/firestore/follows.js","comps/boxes/boxSearch.js","utils/firestore/boxes.js","utils/firestore/scores.js","utils/firestore/testData.js","pages/boxSearchPage.js","comps/settings/resetPassword.js","comps/settings/deleteAccount.js","utils/firestore/users.js","comps/settings/usernamePanel.js","comps/settings/userEmail.js","utils/promises.js","pages/settings.js","comps/profile/registerUser.js","comps/wods/editWod.js","utils/formatting.js","comps/searchSortTable.js","comps/gymClasses/inviteView.js","comps/gymClasses/inviteAdminView.js","comps/gymClasses/inviteMemberView.js","comps/admins/classAdminList.js","comps/members/classMemberList.js","comps/wods/addWodClass.js","utils/valid.js","comps/gymClasses/gymClassView.js","comps/lineChart.js","comps/barChart.js","comps/scores/scoreDataView.js","comps/scores/scoreList.js","comps/scores/addScore.js","comps/scores/scoreView.js","comps/boxes/ownerBoxes.js","comps/gymClasses/addGymClass.js","comps/wods/addWod.js","comps/boxes/addBox.js","comps/ownerControls.js","comps/followers/userFollows.js","comps/scores/userScoreList.js","comps/profile/athlete.js","comps/profile/adminInvites.js","comps/profile/memberInvites.js","comps/profile/classAdminView.js","comps/profile/classMemberView.js","comps/calendar/cells.js","comps/calendar/calendarView.js","pages/profile.js","comps/header.js","comps/profile/login.js","css/apptheme.js","css/applighttheme.js","app.js","index.js"],"names":["firebase","FirebaseAuthContext","React","createContext","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ActionCancelModal","props","state","open","Modal","this","onClose","aria-labelledby","aria-describedby","style","position","top","left","width","transform","Grid","item","align","xs","Paper","height","display","flexDirection","justifyContent","container","Typography","marginTop","modalText","Button","variant","onClick","cancelText","color","onAction","actionText","Component","withTheme","fs","firestore","sendAdminInvite","uid","gymClassMD","sender","senderUsername","inviteRef","collection","doc","boxID","gymClassID","userInviteRef","data","owner","boxTitle","gymClassTitle","title","date","Date","now","Promise","res","rej","console","log","isClassAdmin","then","isAdmin","get","ss","exists","err","isNotificationSent","isSent","all","set","notifyID","id","catch","adminSS","setClassAdmin","username","classTitle","isMember","shallow","classAdminID","removeAdmin","delete","getWod","wodID","setWod","scoreType","wodText","isPrivate","deleteUserScores","wodInfo","batch","wodPath","scorePath","scoreUIDs","empty","forEach","push","getScoreUIDs","promises","map","where","cnt","result","size","ref","commit","removeWod","removeScoresFromWod","removed","resScore","rejScore","deleteCollection","collectionName","fieldName","fieldID","sendMemberInvite","isClassMember","setClassMember","removeMember","getGymClasses","setGymClass","removeAdminsFromClass","gymClassInfo","UIDs","uids","removeMembersFromClass","removeAdminInvitesFromClass","ids","getAdminInviteIDs","notify","removeMemberInvitesFromClass","getMemberInviteIDs","removeGymClass","resolve","reject","deletes","results","GymClass","info","TableRow","name","ev","onRowClick","TableCell","isOwner","onRemove","Fragment","EmptyClass","colSpan","GymClassList","user","userMD","filteredGymClasses","gymClasses","removeClass","openModal","gymClassListener","onSnapshot","setState","classes","keyCode","which","val","target","value","filter","gymClass","toLowerCase","includes","tagName","indexOf","history","closeModal","onAlert","type","message","margin","elevation","component","TextField","fullWidth","onKeyUp","bind","onChange","placeholder","InputProps","startAdornment","InputAdornment","TableContainer","Table","stickyHeader","TableHead","TableBody","length","i","key","handleRemoveGymClass","withRouter","BackButton","Box","IconButton","goBack","theme","palette","text","primary","ArrowBackIos","BoxView","boxMD","boxListener","undefined","getBoxListener","checkListeners","showOwnerBtns","Object","keys","removeFollow","getUserFollowers","setFollow","userDoc","isUserFollowing","handleUnfollow","handleFollow","fill","handleRemoveBox","EmptyBox","BoxSearch","allBoxes","filteredBoxes","userFollowing","listenForFollowing","followListener","boxIDs","docs","follow","getFollowsFromSS","following","box","boxInfo","mainGrad","handleBoxView","setBox","removeUserFollowing","deleteUserFollowing","removeFollowers","deleteFollowers","removeFollowersAndUserFollowing","removeGymClasses","removeBox","removeClassesandFollowers","setScore","userScore","score","scoreDoc","scoreID","update","removeScore","BoxSearchPage","allBoxesListener","boxes","sort","x","y","isReadOnly","ResetPassword","currentPassword","newPassword","confirmPassword","creds","auth","EmailAuthProvider","credential","email","reauthenticateWithCredential","updatePassword","persist","InputLabelProps","shrink","handleSubmit","DeleteAccount","userConfirmText","slice","confirmText","redirect","redirectUrl","removeUser","error","main","withStyles","root","borderBottom","TC","UsernamePanel","usernameInput","document","getElementById","exec","followID","setUsername","updateUsername","pattern","inputProps","UserEmail","emailVerifyPromise","sendEmailVerification","cancelablePromise","promise","hasCanceled_","isCanceled","cancel","makeCancelable","emailVerified","sendVerificationEmail","SettingsRow","openSetting","Settings","currentPage","settings","gutterBottom","setting","handleBack","RegisterUser","pass1","pass2","createUserWithEmailAndPassword","admin","accountType","alert","justify","StyledGrid","database","marginBottom","EditWod","userBoxes","hasBoxes","editWod","handleValChange","multiline","rows","editWOD","cvtTimetoInt","split","mins","seconds","parseInt","cvtIntToTime","Math","floor","secs","padding","WodRow","backgroundColor","borderRadius","Wod","onViewScores","overflowWrap","toLocaleDateString","alignItems","handleEdit","handleRemove","EmptyWod","StyledTablePagination","overflow","actions","TablePagination","SearchSortTable","headers","filteredRows","orderTableBy","orderTable","pageNum","rowsPerPage","pageStart","pageEnd","wod","a","b","orderBy","order","descendingComparator","comparator","stabilizedThis","el","index","isAsc","newPage","start","end","url","header","sortable","TableSortLabel","active","direction","createSortHandler","label","stableSort","getComparator","row","handleView","rowsPerPageOptions","count","page","onChangePage","handleChangePage","onChangeRowsPerPage","handleChangeRowsPerPage","InviteView","filteredUsers","modalOpen","onModalClose","endAdornment","Select","native","onSelectChange","JSON","stringify","aria-label","borderColor","sendInvite","InviteAdminView","allUsers","selectedUser","listener","users","String","parse","InviteMemberView","AdminRow","handleRemoveAdmin","EmptyAdmin","ClassAdminList","filteredAdmins","admins","showRemoveAlert","removeClassAdmin","fontSize","handleModalClose","onRemoveAdmin","MemberRow","handleRemoveMember","EmptyMember","ClassMemberList","filteredMembers","members","classMember","member","onRemoveMember","SCORETYPES","AddWodClass","titleForm","scoreTypeForm","wodTextForm","onScoreTypeSelectChange","replace","toUpperCase","onTitleChange","onWodTextChange","createWOD","isEmpty","obj","constructor","GymClassView","wods","currentWodID","currentWodMD","showEditModal","editWodInfo","curRemovewodInfo","inviteModalOpen","inviteMemberModalOpen","adminUids","memberUids","showAdminList","showMemberList","showAddWod","getWodListener","userBoxesListener","adminListener","memberListener","wodListener","getWods","getUserBoxListener","getAdminListener","getMemberListener","getGymClassListener","filteredWods","viewMemberBtnSize","isOnlyMember","closeDetailView","spacing","openAdminInvite","openViewAdmins","onInviteModalClose","openMemberInvite","openViewMembers","onInviteMemberModalClose","toggleShowAddWod","handleRemoveWod","deleteWod","handleEditModalClose","LineChart","values","stats","createChart","ctx","grd","getContext","createLinearGradient","addColorStop","lineChart","destroy","Chart","datasets","barPercentage","barThickness","maxBarThickness","minBarLength","options","scales","yAxes","ticks","callback","labels","tooltips","callbacks","tooltipItem","datasetIndex","yLabel","maintainAspectRatio","plugins","beforeInit","chart","BarChart","binData","barChart","parseFloat","_mean","sd","bins","binA","format","binB","unshift","standardDeviation","mean","createLabels","binnedData","diff","numSDAway","abs","getDescStats","vals","min","max","median","ScoreDataView","scores","graphData","rawScores","transformData","ScoreList","isCurUserScore","ScoreRow","isUserScore","Card","CardContent","selected","BorderlessTableCell","AddScore","wodMD","Array","from","entries","entry","Map","s","search","isNumInSane","isNaN","Accordion","AccordionSummary","background","expandIcon","aria-controls","AccordionDetails","handleAddScore","RenderWodTextRaw","lines","line","ScoreView","curRemoveScore","scoreListener","isTime","DateTime","fromMillis","monthLong","day","year","handleRemoveScore","BoxListAccordion","currentBoxID","curRemoveBoxID","curRemoveBoxTitle","zeroMinWidth","noWrap","deleteBox","AddGymClass","createGymClass","checked","Checkbox","handleCheckboxChange","AddWod","setGymClassListner","initClass","onBoxSelectChange","onClassSelectChange","AddBox","createBox","OwnerControls","addBoxProgress","tabs","0","1","2","3","listenForBoxes","AppBar","Tabs","selectionFollowsFocus","handleChange","Tab","minHeight","maxHeight","overflowY","className","isOwnerView","UserFollows","userFollows","follows","followingSS","extractData","to","Link","UserScoreList","removeScoreID","hideRemoveAlert","onViewBox","handleViewBox","onViewWod","handleViewWod","onView","Athlete","Notification","adminInviteID","gymClassBoxTitle","acceptInvite","Check","removeNotification","Close","AdminInvites","notifications","getListener","notificationsListener","onRemoveNotification","memberInviteID","MemberInvites","ClassAdminView","userClassAdminsListener","classAdmin","ClassMemberView","userClassMembersListener","Cell","SuperCell","CellRow","RedCell","GreyCell","GreenCell","WhiteCell","BlueCell","PurpleCell","GoldCell","cellData","valid","isToday","CalendarScoreView","today","calendar","createCalendar","local","month","daysInMonth","getFirstOfMonth","getEndOfMonth","fullWeek1","fullWeek2","getFirstAndLast","first","last","firstWeek","fullWeek","lastWeek","weekday","startOffset","getOffsetDayOfMonthFromDate","endOffset","c","col","offset","week","scoreDate","fillCalendar","j","border","PageContentRaw","emailAlertOpen","listenForUserScores","field","Collapse","in","Alert","PageContent","ProfilePage","StyledMenuItem","common","white","MenuItem","StyledTypography","StyledPaper","UserAlert","severity","alertInfo","onCloseAlert","Header","menuRef","createRef","alertOpen","preventDefault","toolbar","Toolbar","disableGutters","marginLeft","marginRight","handleToggle","Menu","Popper","anchorEl","current","placement","transition","disablePortal","popper","TransitionProps","Fade","transformOrigin","ClickAwayListener","onClickAway","handleClose","MenuList","onKeyDown","handleListKeyDown","changeTheme","handleLogout","zIndex","Login","signInWithEmailAndPassword","onLogin","apptheme","borderBottomColor","applighttheme","darkTheme","createMuiTheme","responsiveFontSizes","lightTheme","lightapptheme","BackgroundGrid","paper","StyledBottomNavigation","BottomNavigation","StyledHeader","App","btmnav","currentUser","firebaseAuthListener","onAuthStateChanged","userMDListener","metadata","signOut","newTheme","Provider","ThemeProvider","paddingTop","exact","path","render","match","params","handleLogin","event","newValue","showLabels","BottomNavigationAction","icon","contextType","ReactDOM"],"mappings":"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","file":"static/js/main.0f012e59.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport React from \"react\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCGE8_j8cfIBmIzcvP6CVgG2yC6EE1Ep1U\",\n  authDomain: \"wodtrackrr.firebaseapp.com\",\n  databaseURL: \"https://wodtrackrr.firebaseio.com\",\n  projectId: \"wodtrackrr\",\n  storageBucket: \"wodtrackrr.appspot.com\",\n  messagingSenderId: \"743601990099\",\n  appId: \"1:743601990099:web:5937e9151eaad13e93a726\",\n  measurementId: \"G-39CF0BRPMH\"\n};\n\n\n\nexport default firebase\nexport const FirebaseAuthContext = React.createContext(firebase.initializeApp(firebaseConfig));","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\n\n\n\nclass ActionCancelModal extends Component{\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\topen: props.open\n\t\t}\n\t\t/*\n\t\topen\n\t\tactionText\n\t\tcancelText\n\t\tmodalText\n\t\tonAction\n\t\tonClose\n\t\t*/\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"simple-modal-title\"\n\t\t\t    aria-describedby=\"simple-modal-description\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Typography style={{marginTop: \"32px\"}}>\n\t\t\t\t\t\t\t\t\t{this.props.modalText}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\tvariant=\"outlined\" \n\t\t\t\t\t\t\t\t\tonClick={()=>{ this.props.onClose()}}>\n\t\t\t\t\t\t\t\t\t{this.props.cancelText}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\" \n\t\t\t\t\t\t\t\t\tonClick={()=>{ this.props.onAction()}}>\n\t\t\t\t\t\t\t\t\t{this.props.actionText}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t)\n\t}\n\n}\n\nexport default ActionCancelModal = withTheme(ActionCancelModal);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { ContactsOutlined } from \"@material-ui/icons\";\n\nlet fs = firebase.firestore()\n\nconst CLASS_ADMIN = \"classAdmins\"\nconst ADMINS = \"admins\"\nconst CLASSES = \"classes\"\nconst USER_CLASS_ADMIN = \"userClassAdmins\"\nconst ADMIN_NOTIFICATIONS = \"adminNotifications\"\nconst NOTIFICATIONS = \"notifications\"\nconst USER_NOTIFICATIONS = \"userAdminNotifications\"\nconst INVITES = \"invites\"\nconst USERS = \"users\"\n\n\nexport default function mTea(){}\n\n\n\nexport function sendAdminInvite(uid, gymClassMD, sender, senderUsername){\n\n\n    let inviteRef = fs.collection(ADMIN_NOTIFICATIONS).doc(gymClassMD.boxID)\n    .collection(CLASSES).doc(gymClassMD.gymClassID)\n    .collection(ADMIN_NOTIFICATIONS)\n\n    let userInviteRef = fs.collection(USER_NOTIFICATIONS).doc(uid)\n    .collection(NOTIFICATIONS).doc()\n\n\n\n\n    let data = {\n        uid: uid,\n        sender: sender,\n        senderUsername: senderUsername,\n        owner: gymClassMD.owner,\n        boxID: gymClassMD.boxID,\n        gymClassID: gymClassMD.gymClassID,\n        boxTitle: gymClassMD.boxTitle,\n        gymClassTitle: gymClassMD.title,\n        date: Date.now()\n    }\n\n    return new Promise((res, rej) => {\n        console.log(\"idAdmin?\")\n        isClassAdmin(uid, gymClassMD.boxID, gymClassMD.gymClassID).then(isAdmin => {\n            if(!isAdmin){\n                console.log(\"isSent?\")\n                isNotificationSent(uid, gymClassMD.boxID, gymClassMD.gymClassID)\n                .then(isSent => {\n                    if(isSent){\n                        res(\"Admin notified already.\")\n                    }else{\n\n                        console.log(\"Setting adminf notify data\")\n\n                        Promise.all([\n                            userInviteRef.set({ ...data, notifyID: userInviteRef.id }),\n                            inviteRef.doc(uid).set(data)\n                        ])\n                        .then(() => { res(\"Sent admin invite.\") })\n                        .catch(err => { rej(err) })\n                    }\n                })\n                .catch(err => {\n                    rej(err)\n                })\n            }else{\n                res(\"Already an admin.\")\n            }\n        })\n\n    })\n}\n\nfunction isNotificationSent(uid, boxID, gymClassID){\n    /* Checks if notifications has been sent to the user for a class invite.\n\n    Queries \"notifications/admins/invites/\" for uid and gymClassID.\n    Returns true if found, otherwise false\n\n    Args:\n        uid A string autogenerated for the user.\n        gymClassID A string autogenerated for the document.\n     */\n    return new Promise((res, rej) => {\n        console.log(\"isSent: start\")\n        fs.collection(ADMIN_NOTIFICATIONS).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(ADMIN_NOTIFICATIONS).doc(uid)\n        .get().then(ss => {\n            console.log(\"isSent: snapshot\")\n            console.log(ss)\n            res(ss.exists)\n        },\n        err => { rej(err) })\n    })\n}\n\nexport function getUserAdminInvites(uid){\n    // go through boxes and classes to find all invites.\n    return fs.collection(USER_NOTIFICATIONS).doc(uid)\n    .collection(NOTIFICATIONS)\n}\n\n\nexport function removeNotification(notify){\n    return new Promise((res, rej) => {\n\n            Promise.all([\n                fs.collection(ADMIN_NOTIFICATIONS).doc(notify.boxID)\n                .collection(CLASSES).doc(notify.gymClassID)\n                .collection(ADMIN_NOTIFICATIONS).doc(notify.uid)\n                .delete(),\n\n                fs.collection(USER_NOTIFICATIONS).doc(notify.uid)\n                .collection(NOTIFICATIONS).doc(notify.notifyID).delete()\n\n            ])\n            .then( () => {\n                res(\"Removed notification.\")\n            })\n            .catch(err => {\n                console.log(err)\n                rej(err)\n            })\n\n    })\n}\n\n\n\nexport function getClassAdmins(boxID, gymClassID){\n    return fs.collection(CLASS_ADMIN).doc(boxID)\n    .collection(CLASSES).doc(gymClassID)\n    .collection(ADMINS)\n\n}\n\nexport function getUserClassAdmins(uid){\n    // Need to proccess\n    return fs.collection(USER_CLASS_ADMIN).doc(uid)\n    .collection(\"classes\")\n\n\n\n}\n\nexport function isClassAdmin (uid, boxID, gymClassID){\n    return new Promise((res, rej) => {\n        fs.collection(CLASS_ADMIN).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(ADMINS).doc(uid)\n        .get()\n        .then(adminSS => {\n            console.log(adminSS)\n            if(adminSS.exists){\n                res(true)\n            }else{\n                res(false)\n            }\n        })\n        .catch(err => {\n            rej(err)\n        })\n    })\n}\n\nexport function setClassAdmin(uid, boxID, gymClassID, owner, username, boxTitle, classTitle){\n    return new Promise((res, rej) => {\n        isClassAdmin(uid, boxID, gymClassID)\n        .then(isMember => {\n            if(!isMember){\n                let data = {\n                    uid: uid,\n                    boxID: boxID,\n                    gymClassID: gymClassID,\n                    owner: owner,\n                    username: username,\n                    boxTitle: boxTitle,\n                    classTitle: classTitle,\n                    date: Date.now()\n                }\n\n                let doc = fs.collection(CLASS_ADMIN).doc(boxID)\n                .collection(CLASSES).doc(gymClassID)\n                .collection(ADMINS).doc(uid)\n\n                let shallow = fs.collection(USER_CLASS_ADMIN).doc(uid)\n                .collection(CLASSES).doc(gymClassID)\n\n\n\n                Promise.all([\n                    doc.set({ ...data, classAdminID: doc.id }),\n                    shallow.set({...data, classAdminID: doc.id})\n                ])\n                .then( () => {\n                    res(\"Added user as an admin.\")\n                })\n\n\n\n\n\n                .catch(err => { rej(err) })\n            }else{\n                res(\"User is an admin.\")\n            }\n        })\n        .catch(err => {\n            rej(err)\n        })\n    })\n}\n\nexport function removeAdmin({boxID, gymClassID, uid}){\n\n    return Promise.all([\n        fs.collection(CLASS_ADMIN).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(ADMINS).doc(uid).delete(),\n\n        fs.collection(USER_CLASS_ADMIN).doc(uid)\n        .collection(CLASSES).doc(gymClassID).delete()\n    ])\n}\n\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n\nexport default function mTea(){}\n\n/*\n\tWods\n*/\nlet fs = firebase.firestore();\n\nexport function getWods(boxID, gymClassMD){\n\tlet doc = fs.collection(\"wods\").doc(boxID)\n\t.collection(\"classes\").doc(gymClassMD.gymClassID)\n\t.collection(\"wods\").where(\"isPrivate\", \"==\", gymClassMD.isPrivate)\n\t.where(\"owner\", \"==\", gymClassMD.owner)\n\treturn doc\n}\n\nexport function getWod(boxID, gymClassID, wodID){\n\treturn fs.collection(\"wods\").doc(boxID)\n\t.collection(\"classes\").doc(gymClassID)\n\t.collection(\"wods\").doc(wodID)\n\n}\n\nexport function setWod(title, boxID, gymClassID, owner, boxTitle, classTitle, scoreType, wodText, isPrivate){\n\n\tlet doc = fs.collection(\"wods\").doc(boxID)\n\t.collection(\"classes\").doc(gymClassID)\n\t.collection(\"wods\").doc()\n\n\tlet data = {\n\t\ttitle: title,\n\t\tboxID: boxID,\n\t\tgymClassID: gymClassID,\n\t\towner: owner,\n\t\tboxTitle: boxTitle,\n\t\tclassTitle: classTitle,\n\t\tscoreType: scoreType,\n\t\twodText: wodText,\n\t\tisPrivate: isPrivate,\n\t\tdate: Date.now(),\n\t\twodID: doc.id\n\t}\n\treturn new Promise((res, rej) => {\n\t\tdoc.set(data)\n\t\t.then(() => {\n\t\t\tres(doc.id)\n\t\t})\n\t\t.catch(err => {\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\nexport function editWod(boxID, gymClassID, wodID, title, wodText){\n\tlet fs = firebase.firestore()\n\tlet data = {\n\t\ttitle: title,\n\t\twodText: wodText,\n\t}\n\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"wods\").doc(boxID)\n\t\t.collection(\"classes\").doc(gymClassID)\n\t\t.collection(\"wods\").doc(wodID)\n\t\t.update(data)\n\t\t.then(()=> {res(\"Finished updating.\")})\n\t\t.catch(err => {rej(err)})\n\t})\n}\n\n\nfunction deleteCollection(collectionName, fieldName, fieldID, res, rej){\n\t/* General form to delete a collection by field name.\n\n\t*/\n\tconst batch = fs.batch()\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tif(ss.size == 0) res(1)\n\n\t\tss.forEach(doc => {\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)\n\t\t\tdeleteCollection(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n\t.catch(err => {\n\t\tconsole.log(err)\n\t\trej(err)\n\t})\n\tres(1)\n}\n\n\nfunction deleteUserScores(wodInfo, res, rej){\n\t/*\n\t\tGets collection queries for users that have scores and deletes them.\n\t*/\n\tconst batch = fs.batch()\n\tgetScoreUIDs(wodInfo).then(scoreUIDs => {\n\t\tif(scoreUIDs == null){\n\t\t\tres(false)\n\t\t}\n\t\tlet promises = scoreUIDs.map(uid => {\n\t\t\treturn fs.collection(\"userScores\").doc(uid).collection(\"scores\").where(\"wodID\", \"==\", wodInfo.wodID).get()\n\t\t})\n\n\t\tlet cnt = 0\n\t\tPromise.all(promises).then( result => {\n\t\t\tresult.forEach( ss => {\n\t\t\t\tif(ss.size == 0) res(true)\n\n\t\t\t\tconsole.log(ss)\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tconsole.log(doc)\n\t\t\t\t\t\tbatch.delete(doc.ref)\n\t\t\t\t\t\tcnt++\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\t.then(() => {\n\t\t\tbatch.commit().then(() => {\n\t\t\t\tif(cnt >= 500)\n\t\t\t\t\tdeleteUserScores(wodInfo, res, rej)\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\t})\n\t.catch(err => {\n\t\tconsole.log(err)\n\t\trej(err)\n\t})\n\n}\n\nfunction getScoreUIDs(wodInfo){\n\t/* Get current scoreIDs for a wod.\n\t*/\n\tlet wodPath = `${wodInfo.boxID}/classes/${wodInfo.gymClassID}/wods/${wodInfo.wodID}`\n\tlet scorePath = `scores/${wodPath}/scores`\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(scorePath)\n\t\t.get().then(ss =>{\n\t\t\tlet scoreUIDs = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tscoreUIDs.push(doc.data().uid)\n\t\t\t\t})\n\t\t\t\tconsole.log(scoreUIDs)\n\t\t\t\tres(scoreUIDs)\n\t\t\t}\n\t\t\tres(null)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\nfunction removeScoresFromWod(wodInfo){\n\t/* Deletes scores stored under userScores\n\t */\n\treturn new Promise((res, rej) => {\n\t\tdeleteUserScores(wodInfo, res, rej)\n\t})\n}\n\n\n\nexport function removeWod(wodInfo){\n\t/*Removes wod and its scores.\n\n\tDeletes userScores, scores and finally the wod.\n\n\n\t*/\n\n\t// return Promise.all(promises)\n\treturn new Promise((res, rej) => {\n\t\tremoveScoresFromWod(wodInfo)\n\t\t.then((removed) => {\n\t\t\tnew Promise((resScore, rejScore) => {\n\t\t\t\tconsole.log(\"scores removed? \", removed)\n\t\t\t\tif(removed){\n\t\t\t\t\t// Remove scores\n\t\t\t\t\tdeleteCollection(\n\t\t\t\t\t\t`scores/${wodInfo.boxID}/classes/${wodInfo.gymClassID}/wods/${wodInfo.wodID}/scores`,\n\t\t\t\t\t\t\"wodID\",\n\t\t\t\t\t\twodInfo.wodID,\n\t\t\t\t\t\tresScore,\n\t\t\t\t\t\trejScore\n\t\t\t\t\t)\n\t\t\t\t}else{\n\t\t\t\t\tresScore(false)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// Remove wod\n\t\t\t\tfs.collection(`wods/${wodInfo.boxID}/classes/${wodInfo.gymClassID}/wods`)\n\t\t\t\t.doc(wodInfo.wodID)\n\t\t\t\t.delete()\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\n\t})\n}\n\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore()\n\nconst CLASS_MEMBER = \"classMembers\"\nconst USER_CLASS_MEMBER = \"userClassMembers\"\nconst MEMBERS = \"members\"\nconst MEMBER_NOTIFICATIONS = \"memberNotifications\"\nconst USER_NOTIFICATIONS = \"userMemberNotifications\"\nconst USERS = \"users\"\nconst NOTIFICATIONS = \"notifications\"\nconst INVITES = \"invites\"\nconst CLASSES = \"classes\"\n\n\nexport default function mTea(){}\n\n\n\nexport function sendMemberInvite(uid, gymClassMD, sender, senderUsername){\n\n\n    let inviteRef = fs.collection(MEMBER_NOTIFICATIONS).doc(gymClassMD.boxID)\n    .collection(CLASSES).doc(gymClassMD.gymClassID)\n    .collection(MEMBER_NOTIFICATIONS)\n\n    let userInviteRef = fs.collection(USER_NOTIFICATIONS).doc(uid)\n    .collection(NOTIFICATIONS).doc()\n\n\n\n\n    let data = {\n        uid: uid,\n        sender: sender,\n        senderUsername: senderUsername,\n        owner: gymClassMD.owner,\n        boxID: gymClassMD.boxID,\n        gymClassID: gymClassMD.gymClassID,\n        boxTitle: gymClassMD.boxTitle,\n        gymClassTitle: gymClassMD.title,\n        date: Date.now()\n    }\n\n    return new Promise((res, rej) => {\n        console.log(\"idAdmin?\")\n        isClassMember(uid, gymClassMD.boxID, gymClassMD.gymClassID).then(isAdmin => {\n            if(!isAdmin){\n                console.log(\"isSent?\")\n                isNotificationSent(uid, gymClassMD.boxID, gymClassMD.gymClassID)\n                .then(isSent => {\n                    if(isSent){\n                        res(\"Admin notified already.\")\n                    }else{\n\n                        console.log(\"Setting adminf notify data\")\n\n                        Promise.all([\n                            userInviteRef.set({ ...data, notifyID: userInviteRef.id }),\n                            inviteRef.doc(uid).set(data)\n                        ])\n                        .then(() => { res(\"Sent admin invite.\") })\n                        .catch(err => { rej(err) })\n                    }\n                })\n                .catch(err => {\n                    rej(err)\n                })\n            }else{\n                res(\"Already an admin.\")\n            }\n        })\n\n    })\n}\n\nfunction isNotificationSent(uid, boxID, gymClassID){\n    /* Checks if notifications has been sent to the user for a class invite.\n\n    Queries \"notifications/admins/invites/\" for uid and gymClassID.\n    Returns true if found, otherwise false\n\n    Args:\n        uid A string autogenerated for the user.\n        gymClassID A string autogenerated for the document.\n     */\n    return new Promise((res, rej) => {\n        console.log(\"isSent: start\")\n        fs.collection(MEMBER_NOTIFICATIONS).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(MEMBER_NOTIFICATIONS).doc(uid)\n        .get().then(ss => {\n            console.log(\"isSent: snapshot\")\n            console.log(ss)\n            res(ss.exists)\n        },\n        err => { rej(err) })\n    })\n}\n\nexport function getUserMemberInvites(uid) {\n    // go through boxes and classes to find all invites.\n    return fs.collection(USER_NOTIFICATIONS).doc(uid)\n    .collection(NOTIFICATIONS)\n}\n\n\nexport function removeNotification(notify){\n    return new Promise((res, rej) => {\n            res(\"No notifications found.\")\n            Promise.all([\n                fs.collection(MEMBER_NOTIFICATIONS).doc(notify.boxID)\n                .collection(CLASSES).doc(notify.gymClassID)\n                .collection(MEMBER_NOTIFICATIONS).doc(notify.uid)\n                .delete(),\n\n                fs.collection(USER_NOTIFICATIONS).doc(notify.uid)\n                .collection(NOTIFICATIONS).doc(notify.notifyID).delete()\n\n            ])\n            .then( () => {\n                res(\"Removed notification.\")\n            })\n            .catch(err => {\n                rej(err)\n            })\n\n    })\n}\n\n\n\nexport function getClassMembers(boxID, gymClassID){\n    return fs.collection(CLASS_MEMBER).doc(boxID)\n    .collection(CLASSES).doc(gymClassID)\n    .collection(MEMBERS)\n\n}\n\nexport function getUserClassMembers(uid){\n    // Need to proccess\n    return fs.collection(USER_CLASS_MEMBER).doc(uid)\n    .collection(\"classes\").where(\"uid\", \"==\", uid)\n\n\n\n}\n\nexport function isClassMember (uid, boxID, gymClassID){\n    return new Promise((res, rej) => {\n        fs.collection(CLASS_MEMBER).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(MEMBERS).doc(uid)\n        .get()\n        .then(adminSS => {\n            console.log(adminSS)\n            if(adminSS.exists){\n                res(true)\n            }else{\n                res(false)\n            }\n        })\n        .catch(err => {\n            rej(err)\n        })\n    })\n}\n\nexport function setClassMember(uid, boxID, gymClassID, owner, username, boxTitle, classTitle){\n    return new Promise((res, rej) => {\n        isClassMember(uid, boxID, gymClassID)\n        .then(isMember => {\n            if(!isMember){\n                let data = {\n                    uid: uid,\n                    boxID: boxID,\n                    gymClassID: gymClassID,\n                    owner: owner,\n                    username: username,\n                    boxTitle: boxTitle,\n                    classTitle: classTitle,\n                    date: Date.now()\n                }\n\n                let doc = fs.collection(CLASS_MEMBER).doc(boxID)\n                .collection(CLASSES).doc(gymClassID)\n                .collection(MEMBERS).doc(uid)\n\n                let shallow = fs.collection(USER_CLASS_MEMBER).doc(uid)\n                .collection(CLASSES).doc(gymClassID)\n\n\n\n                Promise.all([\n                    doc.set({ ...data, classAdminID: doc.id }),\n                    shallow.set({...data, classAdminID: doc.id})\n                ])\n                .then( () => {\n                    res(\"Added user as an admin.\")\n                })\n\n\n\n\n\n                .catch(err => { rej(err) })\n            }else{\n                res(\"User is an admin.\")\n            }\n        })\n        .catch(err => {\n            rej(err)\n        })\n    })\n}\n\n\nexport function removeMember({boxID, gymClassID, uid}){\n\n    return Promise.all([\n        fs.collection(CLASS_MEMBER).doc(boxID)\n        .collection(CLASSES).doc(gymClassID)\n        .collection(MEMBERS).doc(uid).delete(),\n\n        fs.collection(USER_CLASS_MEMBER).doc(uid)\n        .collection(CLASSES).doc(gymClassID).delete()\n    ])\n}\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport { removeAdmin } from \"./classAdmin\"\nimport { removeWod } from \"./wods\"\nimport { removeMember } from \"./classMember\"\n\n\nlet fs = firebase.firestore()\n\n\nexport default function mTea(){}\n\nconst GYM_CLASSES = \"gymClasses\"\nconst CLASSES = \"classes\"\nconst ADMIN_NOTIFICATIONS = \"adminNotifications\"\n/*\n\tGymClasses\n*/\n\nexport function getGymClasses(boxID){\n\treturn fs.collection(\"gymClasses\").doc(boxID).collection(\"classes\")\n}\n\n\n\nexport function setGymClass(title, uid, boxID, boxTitle, isPrivate, owner){\n\t/* Sets the data for a new class.\n\n\t\tAdds two entries:\n\t\tTHe first is for the list of class owners and the second entry is for\n\t\tthe list of classes\n\n\t*/\n  \treturn new Promise((res, rej) => {\n  \t\tfs.collection(GYM_CLASSES).doc(boxID)\n\t\t.collection(CLASSES)\n\t\t.where(\"title\", \"==\", title)\n  \t\t.get().then(result => {\n  \t\t\tif(result.empty){\n\t\t\t\tlet doc = fs.collection(GYM_CLASSES).doc(boxID)\n\t\t\t\t.collection(CLASSES).doc()\n\n\t\t\t\tdoc.set({\n\t\t\t\t\tgymClassID: doc.id,\n\t\t\t\t\tboxID: boxID,\n\t\t\t\t\tboxTitle: boxTitle,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\tuid, uid,\n\t\t\t\t\tisPrivate: isPrivate,\n\t\t\t\t\towner: owner,\n\t\t\t\t\tdate: Date.now(),\n\n\t\t\t\t})\n\t\t  \t\t.then(()=>{\n\t\t  \t\t\tres(doc.id)\n\t\t  \t\t})\n\t\t\t\t.catch(err => { rej(err) })\n  \t\t\t}else{\n  \t\t\t\tres(\"Name Taken\")\n  \t\t\t}\n  \t\t})\n\t\t.catch(err => {rej(err)})\n  \t})\n }\n\n\nfunction deleteCollection(collectionName, fieldName, fieldID, res, rej){\n\tconst batch = fs.batch()\n\tlet snapshotSize = 0\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tsnapshotSize = ss.size\n\n\t\tss.forEach(doc => {\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)\n\t\t\tdeleteCollection(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => rej(0))\n\t})\n\tres(1)\n}\n\n\n\n\nfunction getWodIDs(boxID, gymClassID, isPrivate){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"wods\").doc(boxID).collection(\"classes\").doc(gymClassID)\n\t\t.collection(\"wods\").where(\"isPrivate\", \"==\", isPrivate)\n\t\t.get().then(ss => {\n\t\t\tconsole.log(ss)\n\t\t\tlet ids = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tids.push(doc.data().wodID)\n\t\t\t\t})\n\t\t\t\tconsole.log(ids)\n\t\t\t\tres(ids)\n\t\t\t}\n\t\t\tres(false)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\nconst CLASS_ADMIN = \"classAdmins\"\nconst ADMINS = \"admins\"\n\nfunction removeAdminsFromClass(wodInfo){\n\treturn new Promise((res, rej) => {\n\t\tgetAdminUIDs(wodInfo).then(uids => {\n\t\t\tif(uids == null){\n\t\t\t\tres(false)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet promises = uids.map(uid => {\n\t\t\t\tlet data = {\n\t\t\t\t\tboxID: wodInfo.boxID,\n\t\t\t\t\tgymClassID: wodInfo.gymClassID,\n\t\t\t\t\tuid: uid\n\t\t\t\t}\n\t\t\t\treturn removeAdmin(data)\n\t\t\t})\n\t\t\tPromise.all(promises)\n\t\t\t.then(() => {\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\n\t})\n}\nfunction getAdminUIDs(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(CLASS_ADMIN).doc(gymClassInfo.boxID)\n        .collection(CLASSES).doc(gymClassInfo.gymClassID)\n        .collection(ADMINS)\n\t\t.get().then(ss =>{\n\t\t\tlet UIDs = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tUIDs.push(doc.data().uid)\n\t\t\t\t})\n\t\t\t\tconsole.log(UIDs)\n\t\t\t\tres(UIDs)\n\t\t\t}\n\t\t\tres(null)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\nconst CLASS_MEMBER = \"classMembers\"\nconst MEMBERS = \"members\"\n\nfunction removeMembersFromClass(wodInfo){\n\treturn new Promise((res, rej) => {\n\t\tgetMemberUIDs(wodInfo).then(uids => {\n\t\t\tif(uids == null){\n\t\t\t\tres(false)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet promises = uids.map(uid => {\n\t\t\t\tlet data = {\n\t\t\t\t\tboxID: wodInfo.boxID,\n\t\t\t\t\tgymClassID: wodInfo.gymClassID,\n\t\t\t\t\tuid: uid\n\t\t\t\t}\n\t\t\t\treturn removeMember(data)\n\t\t\t})\n\t\t\tPromise.all(promises)\n\t\t\t.then(() => {\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\n\t})\n}\nfunction getMemberUIDs(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(CLASS_MEMBER).doc(gymClassInfo.boxID)\n        .collection(CLASSES).doc(gymClassInfo.gymClassID)\n        .collection(MEMBERS)\n\t\t.get().then(ss =>{\n\t\t\tlet UIDs = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tUIDs.push(doc.data().uid)\n\t\t\t\t})\n\t\t\t\tconsole.log(UIDs)\n\t\t\t\tres(UIDs)\n\t\t\t}\n\t\t\tres(null)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\nconst NOTIFICATIONS = \"notifications\"\nconst USER_NOTIFICATIONS = \"userAdminNotifications\"\n\nexport function removeAdminNotification(notify){\n    return new Promise((res, rej) => {\n\t\t\tfs.collection(USER_NOTIFICATIONS).doc(notify.uid)\n\t\t\t.collection(NOTIFICATIONS).where(\"uid\", \"==\", notify.uid)\n\t\t\t.get().then(ss => {\n\t\t\t\tconsole.log(ss)\n\n\t\t\t\tif(!ss.empty){\n\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tdoc.ref.delete()\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tfs.collection(ADMIN_NOTIFICATIONS).doc(notify.boxID)\n                .collection(CLASSES).doc(notify.gymClassID)\n                .collection(ADMIN_NOTIFICATIONS).doc(notify.uid)\n                .delete()\n\t\t\t\t.catch(err => {console.log(err)})\n\t\t\t})\n            .then( () => {\n                res(\"Removed notification.\")\n            })\n            .catch(err => {\n                console.log(err)\n                rej(err)\n            })\n\n    })\n}\n\n\nfunction removeAdminInvitesFromClass(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tgetAdminInviteIDs(gymClassInfo).then(uids => {\n\t\t\tconsole.log(uids)\n\t\t\tif(uids == null){\n\t\t\t\tres(false)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet promises = uids.map(uid => {\n\t\t\t\tlet data = {\n\t\t\t\t\tboxID: gymClassInfo.boxID,\n\t\t\t\t\tgymClassID: gymClassInfo.gymClassID,\n\t\t\t\t\tuid: uid\n\t\t\t\t}\n\t\t\t\tconsole.log(data)\n\t\t\t\treturn removeAdminNotification(data)\n\t\t\t})\n\n\t\t\tPromise.all(promises)\n\t\t\t.then(() => {\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\n\t})\n}\n\n\nfunction getAdminInviteIDs(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(ADMIN_NOTIFICATIONS).doc(gymClassInfo.boxID)\n\t\t.collection(CLASSES).doc(gymClassInfo.gymClassID)\n\t\t.collection(ADMIN_NOTIFICATIONS).where(\"owner\", \"==\", gymClassInfo.owner)\n\t\t.get().then(ss =>{\n\t\t\tconsole.log(ss)\n\t\t\tlet ids = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tids.push(doc.data().uid)\n\t\t\t\t})\n\t\t\t\tconsole.log(ids)\n\t\t\t\tres(ids)\n\t\t\t}\n\t\t\tres(null)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\nconst USER_MEMBER_NOTIFICATIONS = \"userMemberNotifications\"\nconst MEMBER_NOTIFICATIONS = \"memberNotifications\"\n\nexport function removeMemberNotification(notify){\n    return new Promise((res, rej) => {\n\t\t\tfs.collection(USER_MEMBER_NOTIFICATIONS).doc(notify.uid)\n\t\t\t.collection(NOTIFICATIONS).where(\"uid\", \"==\", notify.uid)\n\t\t\t.get().then(ss => {\n\t\t\t\tconsole.log(ss)\n\n\t\t\t\tif(!ss.empty){\n\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tdoc.ref.delete()\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tfs.collection(MEMBER_NOTIFICATIONS).doc(notify.boxID)\n                .collection(CLASSES).doc(notify.gymClassID)\n                .collection(MEMBER_NOTIFICATIONS).doc(notify.uid)\n                .delete()\n\t\t\t\t.catch(err => {console.log(err)})\n\t\t\t})\n            .then( () => {\n                res(\"Removed notification.\")\n            })\n            .catch(err => {\n                console.log(err)\n                rej(err)\n            })\n\n    })\n}\n\n\nfunction removeMemberInvitesFromClass(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tgetMemberInviteIDs(gymClassInfo).then(uids => {\n\t\t\tconsole.log(uids)\n\t\t\tif(uids == null){\n\t\t\t\tres(false)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet promises = uids.map(uid => {\n\t\t\t\tlet data = {\n\t\t\t\t\tboxID: gymClassInfo.boxID,\n\t\t\t\t\tgymClassID: gymClassInfo.gymClassID,\n\t\t\t\t\tuid: uid\n\t\t\t\t}\n\t\t\t\tconsole.log(data)\n\t\t\t\treturn removeMemberNotification(data)\n\t\t\t})\n\n\t\t\tPromise.all(promises)\n\t\t\t.then(() => {\n\t\t\t\tres(true)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err)\n\t\t\t})\n\t\t})\n\n\t})\n}\n\n\n\nfunction getMemberInviteIDs(gymClassInfo){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(MEMBER_NOTIFICATIONS).doc(gymClassInfo.boxID)\n\t\t.collection(CLASSES).doc(gymClassInfo.gymClassID)\n\t\t.collection(MEMBER_NOTIFICATIONS).where(\"owner\", \"==\", gymClassInfo.owner)\n\t\t.get().then(ss =>{\n\t\t\tconsole.log(ss)\n\t\t\tlet ids = []\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tids.push(doc.data().uid)\n\t\t\t\t})\n\t\t\t\tconsole.log(ids)\n\t\t\t\tres(ids)\n\t\t\t}\n\t\t\tres(null)\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\n\n\nexport function removeGymClass(gymClassInfo){\n\treturn new Promise((resolve, reject) => {\n\t\tlet deletes = [\n\t\t\tremoveAdminInvitesFromClass(gymClassInfo),\n\t\t\tremoveMemberInvitesFromClass(gymClassInfo),\n\t\t\tremoveAdminsFromClass(gymClassInfo),\n\t\t\tremoveMembersFromClass(gymClassInfo),\n\t\t\tnew Promise((res, rej) => {\n\t\t\t\tgetWodIDs(gymClassInfo.boxID, gymClassInfo.gymClassID, gymClassInfo.isPrivate)\n\t\t\t\t.then((ids =>{\n\t\t\t\t\tif(!ids){\n\t\t\t\t\t\tres(false)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tlet promises = ids.map(id => {\n\t\t\t\t\t\tlet wodInfo = {\n\t\t\t\t\t\t\tboxID: gymClassInfo.boxID,\n\t\t\t\t\t\t\tgymClassID: gymClassInfo.gymClassID,\n\t\t\t\t\t\t\twodID: id,\n\t\t\t\t\t\t\tisPrivate: gymClassInfo.isPrivate\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn removeWod(wodInfo)\n\t\t\t\t\t})\n\n\t\t\t\t\tPromise.all(promises)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconsole.log(`Deleted wods from class: ${gymClassInfo.gymClassID}`)\n\t\t\t\t\t\tres(`Deleted wods from class: ${gymClassInfo.gymClassID}`)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(`Error deleteing wods from class: ${gymClassInfo.gymClassID}`)\n\t\t\t\t\t\trej(err)\n\t\t\t\t\t})\n\t\t\t\t}))\n\t\t\t})\n\t\t]\n\n\t\tPromise.all(deletes)\n\t\t.then((results) =>{\n\t\t\tconsole.log(results)\n\t\t\tconsole.log(\"DELETING CLASSSSSSSS\")\n\t\t\tfs.collection(\"gymClasses\").doc(gymClassInfo.boxID).collection(\"classes\").doc(gymClassInfo.gymClassID)\n\t\t\t.delete()\n\t\t\t.then(() => {\n\t\t\t\tresolve(`Deleted class: ${gymClassInfo.gymClassID}`)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\treject(`Error deleting class: ${gymClassInfo.gymClassID}`)\n\t\t\t})\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(\"Errorasdlkasndlkasndlknaskldn\")\n\t\t\tconsole.log(err)\n\n\t\t})\n\n\n\t})\n\n}","import firebase from \"../../context/firebaseContext\"\n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom'\nimport { withRouter } from \"react-router-dom\"\n\nimport\n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\n\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport Delete from '@material-ui/icons/Delete'\n\nimport ActionCancelModal from \"../actionCancelModal\"\nimport { getGymClasses, removeGymClass } from '../../utils/firestore/gymClass'\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction GymClassRaw(props){\n  let title = props.info[\"title\"]\n  let boxID = props.info[\"boxID\"]\n  let gymClassID = props.info[\"gymClassID\"]\n\n  return(\n    <TableRow id={`class/${gymClassID}`} name=\"GymClassRow\"\n          onClick={(ev) => {props.onRowClick(ev, `/class/${boxID}/${gymClassID}`)} }>\n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          { title }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.onRemove(props.info)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n}\n\nconst GymClass = withTheme(GymClassRaw)\n\n\nfunction EmptyClassRaw(props){\n  return(\n    <TableRow>\n      <TableCell colSpan={3} align=\"center\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          No Classes!\n        </Typography>\n      </TableCell>\n    </TableRow>\n  )\n}\nconst EmptyClass = withTheme(EmptyClassRaw)\n\n\n\nclass GymClassList extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      boxID: props.boxID,\n      filteredGymClasses:[],\n      gymClasses: [],\n      removeClass: {},\n      openModal: false\n    }\n  }\n\n  componentDidMount(){\n    console.log(this.state)\n    this.getGymClasses(this.state.boxID)\n  }\n\n  getGymClasses(boxID){\n    if(boxID && ! this.gymClassListener){\n      this.gymClassListener = getGymClasses(this.state.boxID)\n      .onSnapshot(ss => {\n        console.log(ss)\n        if(!ss.empty){\n          let classes = []\n          ss.forEach(doc => {\n            classes.push(doc.data())\n          })\n          this.setState({gymClasses: classes, filteredGymClasses: classes})\n        }else{\n          this.setState({gymClasses: [], filteredGymClasses: []})\n        }\n      },\n      err => {console.log(err)})\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  componentDidUpdate(){\n    this.getGymClasses(this.state.boxID)\n  }\n\n  componentWillUnmount(){\n    if(this.gymClassListener){\n      this.gymClassListener()\n    }\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredGymClasses = this.state.gymClasses.filter(gymClass =>{\n      return gymClass[\"title\"].toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredGymClasses: filteredGymClasses})\n  }\n\n  onRowClick(ev, id){\n    let tagName = ev.target.tagName\n    if([\"span\", \"svg\", \"path\"].indexOf(tagName) < 0){\n      console.log(\"pushed \", id)\n      this.props.history.push(id)\n    }\n  }\n\n  handleRemoveGymClass(){\n    this.closeModal()\n    if(!this.state.boxID && !this.state.removeClass.gymClassID){\n      this.props.onAlert({type: \"error\", message: \"Class info missing!\"})\n      return\n    }\n    removeGymClass(this.state.removeClass)\n    .then((res) => {\n      console.log(res)\n      this.props.onAlert({type: \"success\", message: \"Deleted class!\"})\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  onRemove(gymClass){\n    this.setState({openModal: true, removeClass: gymClass})\n  }\n\n  closeModal(){\n    this.setState({openModal: false})\n  }\n\n  render () {\n    console.log(this.state.gymClasses)\n    return (\n      <Grid item xs={12}>\n        <Grid item xs={12}>\n\n          <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n            <Paper elevation={2} component=\"form\">\n              <TextField\n                fullWidth\n                  variant=\"outlined\"\n                  onKeyUp={this.onKeyUp.bind(this)}\n                  onChange={this.onChange.bind(this)}\n                  placeholder=\"Search Classes\"\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon color=\"primary\" />\n                      </InputAdornment>\n                    )\n                  }}\n              />\n            </Paper>\n          </Grid>\n\n          <Grid item xs={12}>\n            <TableContainer>\n              <Table stickyHeader>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Classes</TableCell>\n                    <TableCell></TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                {this.state.filteredGymClasses.length > 0?\n                  this.state.filteredGymClasses.map((gymClass, i) => {\n                    return <GymClass\n                            key={i}\n                            info={gymClass}\n                            onRemove={this.onRemove.bind(this)}\n                            isOwner={this.props.isOwner}\n                            onRowClick={this.onRowClick.bind(this)}\n                            />\n                  })\n                :\n                  <EmptyClass />\n                }\n\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Grid>\n        </Grid>\n        <ActionCancelModal\n          open={this.state.openModal}\n          actionText=\"Remove\"\n          cancelText=\"Cancel\"\n          modalText={`Remove Class (${this.state.removeClass.title})?`}\n          onAction={this.handleRemoveGymClass.bind(this)}\n          onClose={this.closeModal.bind(this)}\n        />\n      </Grid>\n    )\n  }\n}\n\n\n\nexport default GymClassList = withRouter(withTheme(GymClassList))\n","import React, { Component } from 'react'\nimport { withTheme } from '@material-ui/core/styles';\nimport { withRouter } from \"react-router-dom\";\n\nimport\n{ \tGrid, Paper, Box, Button, Typography, IconButton\n} from '@material-ui/core';\n\nimport { ArrowBackIos } from '@material-ui/icons';\n\nclass BackButton extends Component{\n    constructor(props){\n        super(props)\n    }\n\n    render(){\n        return(\n            <Box  style={{}}>\n                <IconButton onClick={this.props.history.goBack }\n                    style={{color: this.props.theme.palette.text.primary}}>\n                    <ArrowBackIos />\n                </IconButton>\n            </Box>\n        )\n    }\n}\n\n\nexport default BackButton = withRouter(withTheme(BackButton))","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport\n{ \tGrid\n} from '@material-ui/core';\n\nimport { withTheme } from '@material-ui/core/styles';\n\n// WodTrackrr\n\nimport GymClassList from \"../gymClasses/gymClassList\"\nimport BackButton  from \"../backButton\"\n\n\nimport \"../../styles.css\"\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass BoxView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tconsole.log(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tboxID: props.boxID,\n\t\t\tboxMD: {}\n\t\t}\n\t}\n\n\n\tgetBoxListener(){\n\t\tif(!this.boxListener){\n\t\t\tthis.boxListener = fs.collection(\"boxes\").doc(this.state.boxID)\n\t\t\t.onSnapshot(ss => {\n\n\t\t\t\tif(ss.exists){\n\n\t\t\t\t\tthis.setState({boxMD: ss.data()})\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({boxMD: {}})\n\t\t\t\t}\n\t\t\t}, err => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t}\n\t}\n\n\n\tcheckListeners(){\n\t\tif(this.boxListener === undefined)\n\t\t\tthis.getBoxListener()\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.checkListeners()\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\tcomponentDidUpdate(){\n\t\tthis.checkListeners()\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.boxListener)\n\t\t\tthis.boxListener()\n\t}\n\n\trender(){\n\t\tlet uid = this.state.userMD.uid\n\t\tlet boxOwnerUid = this.state.boxMD[\"uid\"]\n\t\tlet showOwnerBtns = uid === boxOwnerUid\n\n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<BackButton />\n\t\t\t\t{Object.keys(this.state.boxMD).length > 0 ?\n\t\t\t\t\t<GymClassList\n\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\t\tboxID={this.state.boxID}\n\t\t\t\t\t\tisOwner={showOwnerBtns}\n\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t}\n\n\t\t\t</Grid>\n\t\t)\n\t}\n}\n\nexport default BoxView = withTheme(BoxView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nexport default function mTea(){}\n\n\n\n\nexport function removeFollow(uid, boxID){\n\tconst fs = firebase.firestore()\n\n\treturn Promise.all([\n\t\tfs.collection(\"userFollowing\").doc(uid)\n\t\t.collection(\"following\").doc(boxID).delete(),\n\t\tfs.collection(\"followers\").doc(boxID)\n\t\t.collection(\"followers\").doc(uid).delete()\n\t])\n\n}\n\nexport function getFollowsFromSS(ss){\n\tlet boxIDs = []\n\tif(!ss.empty){\n\t\tss.docs.forEach(follow => {\n\t\t\tboxIDs.push(follow.data().boxID)\n\t\t})\n\n\t}\n\treturn boxIDs\n}\n\nexport function getUserFollowers(uid){\n\tlet fs = firebase.firestore()\n\n\treturn fs.collection(\"userFollowing\").doc(uid)\n\t.collection(\"following\").where(\"uid\", \"==\", uid)\n\n\n}\n\nexport function setFollow(uid, username, boxID, title, owner){\n\tlet fs = firebase.firestore()\n\treturn new Promise((res, rej) => {\n\t\tlet doc = fs.collection(\"userFollowing\").doc(uid)\n\t\t.collection(\"following\").doc(boxID)\n\n\t\tlet userDoc = fs.collection(\"followers\").doc(boxID)\n\t\t.collection(\"followers\").doc(uid)\n\n\t\tlet data = {\n\t\t\tuid: uid,\n\t\t\towner: owner,\n\t\t\tusername: username,\n\t\t\tboxID: boxID,\n\t\t\ttitle: title,\n\t\t\tdate: Date.now()\n\t\t}\n\t\tPromise.all([\n\t\t\tdoc.set(data),\n\t\t\tuserDoc.set(data)\n\t\t])\n\t\t.then(() => {res(\"Followed.\")})\n\t\t.catch(err => {rej(err)})\n\n\n\t})\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\n\nimport\n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\nimport { withRouter } from \"react-router-dom\";\n\n\nimport { Alert } from '@material-ui/lab'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport Delete from '@material-ui/icons/Delete'\nimport Waves from '@material-ui/icons/Waves'\nimport Whatshot from '@material-ui/icons/Whatshot'\n\nimport BoxView from \"./boxView\"\n\nimport { setFollow, removeFollow, getUserFollowers, getFollowsFromSS } from \"../../utils/firestore/follows\"\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction BoxRaw(props){\n  let title = props.info[\"title\"]\n  let boxID = props.info[\"boxID\"]\n\n  return(\n    <TableRow id={`box/${boxID}`} onClick={(ev) => props.onRowClick(ev, `box/${boxID}`)}>\n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          { title }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isUserFollowing ?\n          <IconButton variant=\"outlined\"\n              onClick={()=>{props.handleUnfollow(boxID)}}>\n            <Whatshot color=\"primary\" />\n          </IconButton>\n        :\n          <IconButton\n            onClick={()=>{props.handleFollow(props.info)}}>\n            <Whatshot style={{fill: props.theme.palette.text.primary}}/>\n          </IconButton>\n        }\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.handleRemoveBox(boxID, title)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n\n}\nconst Box = withTheme(BoxRaw)\n\n\nfunction EmptyBoxRaw(props){\n  return(\n    <TableRow>\n      <TableCell colSpan={3} align=\"center\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          No Gyms!\n        </Typography>\n      </TableCell>\n    </TableRow>\n  )\n}\nconst EmptyBox = withTheme(EmptyBoxRaw)\n\nclass BoxSearch extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      allBoxes: props.allBoxes,\n      filteredBoxes: props.filteredBoxes,\n      userFollowing: {}\n  }\n}\n\n  componentDidMount(){\n    this.listenForFollowing()\n  }\n\n  componentWillUnmount(){\n    if(this.followListener){\n      this.followListener()\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return state.userMD? state: props\n  }\n\n  componentDidUpdate(){\n    this.listenForFollowing()\n  }\n\n  listenForFollowing(){\n    if(this.state.userMD && !this.followListener){\n      this.followListener = getUserFollowers(this.state.userMD.uid)\n      .onSnapshot( ss => {\n        let boxIDs = getFollowsFromSS(ss)\n        let following = {}\n        boxIDs.forEach(id =>{\n          following[id] = true\n        })\n\n\n\n        this.setState({userFollowing: following})\n      },\n      err => { console.log(err) })\n\n\n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredBoxes = this.state.allBoxes.filter(box =>{\n      return box[\"title\"].toLowerCase().includes(val.toLowerCase())\n    })\n    console.log(\"filteredBoxes\")\n    console.log(filteredBoxes)\n    this.setState({filteredBoxes: filteredBoxes})\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n    }\n  }\n\n  isUserFollowing(boxID){\n    return (this.state.userFollowing[boxID])? true: false\n  }\n\n  handleFollow(boxInfo){\n    setFollow(this.state.userMD.uid, this.state.userMD.username, boxInfo.boxID,\n              boxInfo.title, boxInfo.uid)\n    .then(res => {console.log(\"Succefully followed.\")})\n    .catch(err => {console.log(err)})\n  }\n\n  handleUnfollow(boxID){\n\n    removeFollow(this.state.userMD.uid, boxID)\n    .then(res => {\n      if(res){\n        console.log(\"Succefully unfollowed.\")\n      }\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  onRowClick(ev, id){\n    let tagName = ev.target.tagName\n    if([\"span\", \"svg\", \"path\", \"BUTTON\", \"SPAN\"].indexOf(tagName) < 0){\n      this.props.history.push(id);\n    }\n  }\n\n  render () {\n    return (\n      <Grid item xs={12} style={{marginTop: \"3vh\"}}>\n        <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n        <Paper elevation={2} component=\"form\">\n           <TextField\n             fullWidth\n              variant=\"outlined\"\n              onKeyUp={this.onKeyUp.bind(this)}\n              onChange={this.onChange.bind(this)}\n              placeholder=\"Search Boxes\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon color=\"primary\" />\n                  </InputAdornment>\n                )\n              }}\n          />\n        </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <TableContainer>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Boxes</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n    { this.state.filteredBoxes.length > 0?\n      this.state.filteredBoxes.map((box, i) => {\n        return <Box\n                key={i}\n                theme={this.props.theme}\n                info={box}\n                color={this.props.theme.palette.primary.mainGrad}\n                handleBoxView={this.props.handleBoxView}\n                handleRemoveBox={this.props.handleRemoveBox}\n                isOwner={this.props.isOwner}\n                isUserFollowing={this.isUserFollowing(box[\"boxID\"])}\n                handleFollow={this.handleFollow.bind(this)}\n                handleUnfollow={this.handleUnfollow.bind(this)}\n                onRowClick={this.onRowClick.bind(this)}\n                />\n      })\n    :\n      <EmptyBox />\n    }\n\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default BoxSearch = withRouter(withTheme(BoxSearch))\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport { removeGymClass } from \"./gymClass\"\n\nlet fs = firebase.firestore();\n\nexport default function mTea(){}\n\n/*\n\tBoxes\n*/\n\nexport function setBox(title, uid){\n\n  \treturn new Promise((res, rej) => {\n  \t\tfs.collection(\"boxes\").where(\"title\", \"==\", title)\n  \t\t.get().then(result => {\n  \t\t\tif(result.empty){\n\t\t\t\t\tlet doc = fs.collection(\"boxes\").doc()\n\t\t  \t\tdoc.set({\n\t\t  \t\t\tboxID: doc.id,\n\t\t  \t\t\ttitle: title,\n\t\t  \t\t\tuid, uid,\n\t\t  \t\t\tdate: Date.now()\n\t\t  \t\t})\n\t\t  \t\t.then(()=>{\n\t\t  \t\t\tres(doc.id)\n\t\t  \t\t})\n\n  \t\t\t}else{\n  \t\t\t\trej(\"Name Taken\")\n  \t\t\t}\n  \t\t})\n  \t})\n }\n\n\nfunction batchDelete(collectionName, fieldName, fieldID, res, rej){\n\tconst batch = fs.batch()\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\n\t\tss.forEach(doc => {\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)  // bacth limits to 500 changes\n\t\t\tbatchDelete(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => rej(0))\n\t})\n\tres(1)\n}\n\n\nfunction deleteUserFollowing(boxID, res, rej){\n\tconst batch = fs.batch()\n\tfs.collection(\"followers\").doc(boxID)\n\t.collection(\"followers\")\n\t.get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tif(!ss.empty){\n\t\t\tlet following = []\n\t\t\tss.forEach(doc => {\n\t\t\t\tfollowing.push(\n\t\t\t\t\tfs.collection(\"userFollowing\").doc(doc.data().uid)\n\t\t\t\t\t.collection(\"following\").doc(boxID).get()\n\t\t\t\t)\n\t\t\t})\n\t\t\tPromise.all(following)\n\t\t\t.then((docs) => {\n\t\t\t\tfor(let doc of docs){\n\t\t\t\t\tbatch.delete(doc.ref)\n\t\t\t\t\tcnt++\n\t\t\t\t}\n\t\t\t\tbatch.commit().then(() => {\n\t\t\t\t\tif(cnt >= 500)  // bacth limits to 500 changes\n\t\t\t\t\tdeleteUserFollowing(boxID, res, rej)\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t\trej(err.message)\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch( err => {\n\n\t\t\t})\n\n\t\t}else{\n\t\t\tres(1)\n\t\t}\n\n\t})\n\t.catch( err => {\n\t\tconsole.log(err)\n\t\trej(err.message)\n\t})\n\tres(1)\n}\n\nfunction deleteFollowers(boxID, res, rej){\n\tconst batch = fs.batch()\n\tfs.collection(\"followers\").doc(boxID)\n\t.collection(\"followers\")\n\t.get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tif(!ss.empty){\n\t\t\tlet following = []\n\t\t\tss.forEach(doc => {\n\t\t\t\tbatch.delete(doc.ref)\n\t\t\t\tcnt++\n\n\t\t\t})\n\t\t\tbatch.commit().then(() => {\n\t\t\t\tif(cnt >= 500)  // bacth limits to 500 changes\n\t\t\t\tdeleteFollowers(boxID, res, rej)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err.message)\n\t\t\t})\n\t\t}else{\n\t\t\tres(1)\n\t\t}\n\n\t})\n\t.catch( err => {\n\t\tconsole.log(err)\n\t\trej(err.message)\n\t})\n\tres(1)\n}\n\nfunction removeUserFollowing(boxID){\n\treturn new Promise((res, rej) => {\n\t\tdeleteUserFollowing(boxID, res, rej)\n\t})\n}\n\nfunction removeFollowers(boxID){\n\treturn new Promise((res, rej) => {\n\t\tdeleteFollowers(boxID, res, rej)\n\t})\n}\n\nfunction removeFollowersAndUserFollowing(boxID){\n\treturn new Promise((res, rej) => {\n\t\tremoveUserFollowing(boxID)\n\t\t.then(() => {\n\t\t\tremoveFollowers(boxID)\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Removed Followers\")\n\t\t\t\tres(true)\n\t\t\t})\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err)\n\t\t})\n\t})\n}\n\nfunction removeGymClasses(boxID){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"gymClasses\").doc(boxID).collection(\"classes\")\n\t\t.get().then( ss => {\n\t\t\tconsole.log(ss)\n\t\t\tif(!ss.empty){\n\t\t\t\tlet promises = []\n\t\t\t\tss.docs.forEach( doc => {\n\t\t\t\t\tconsole.log(\"Remove class w. data: \")\n\t\t\t\t\tconsole.log(doc.data())\n\t\t\t\t\tpromises.push(removeGymClass(doc.data()))\n\n\t\t\t\t})\n\t\t\t\tPromise.all(promises)\n\t\t\t\t.then((result) => {\n\t\t\t\t\t// Remove followers & then boxes\n\t\t\t\t\tfs.collection(\"userFollowing\").doc(boxID)\n\t\t\t\t\tconsole.log(result)\n\t\t\t\t\tres(result)\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t\trej(err.message)\n\t\t\t\t})\n\n\n\t\t\t}else{\n\t\t\t\tres(false)\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err.message)\n\t\t})\n\t})\n}\n\nfunction removeClassesandFollowers(boxID){\n\treturn Promise.all([\n\t\tremoveFollowersAndUserFollowing(boxID),\n\t\tremoveGymClasses(boxID),\n\t])\n}\n\nexport function removeBox(boxID){\n\treturn new Promise((res, rej) => {\n\t\tremoveClassesandFollowers(boxID)\n\t\t.then((result) => {\n\t\t\tfs.collection(\"boxes\").doc(boxID)\n\t\t\t.get()\n\t\t\t.then( ss => {\n\t\t\t\tconsole.log(ss)\n\t\t\t\tif(ss.exists){\n\t\t\t\t\tss.ref.delete()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tres(\"Deleted box!\")\n\t\t\t\t\t})\n\t\t\t\t\t.catch( err => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\trej(err.message)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err.message)\n\t\t\t})\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\trej(err.message)\n\t\t})\n\n\n\n\t})\n\n}","/*\n\tScores\n*/\n\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore();\n\nexport function getWodScores(boxID, gymClassID, wodID){\n\treturn fs.collection(\"scores\").doc(boxID)\n\t\t\t.collection(\"classes\").doc(gymClassID)\n\t\t\t.collection(\"wods\").doc(wodID)\n\t\t\t.collection(\"scores\")\n}\n\n\nexport function getUserScores(uid, field, value){\n\treturn fs.collection(\"userScores\").doc(uid)\n\t\t.collection(\"scores\").orderBy(\"date\", \"asc\")\n\t\t.where(field, \"==\", value)\n\n}\n\n\n\nexport function setScore(title, boxID, gymClassID, wodID, owner, uid, username, userScore, scoreType){\n\treturn new Promise((res, rej) => {\n\t\tlet data = {\n\t\t\t\tuid: uid,\n\t\t\t\twodID: wodID,\n\t\t\t\tgymClassID: gymClassID,\n\t\t\t\tboxID: boxID,\n\t\t\t\tusername: username,\n\t\t\t\ttitle: title,\n\t\t\t\tscore: userScore,\n\t\t\t\tscoreType: scoreType,\n\t\t\t\towner: owner,\n\t\t\t\tdate: Date.now()\n\t\t\t}\n\n\t\tlet doc = fs.collection(\"scores\").doc(boxID)\n\t\t.collection(\"classes\").doc(gymClassID)\n\t\t.collection(\"wods\").doc(wodID)\n\t\t.collection(\"scores\").doc(uid)\n\n\t\tlet userDoc = fs.collection(\"userScores\").doc(uid)\n\t\t.collection(\"scores\")\n\n\n\t\tuserDoc.where(\"wodID\", \"==\", wodID)\n\t\t.get().then( ss => {\n\t\t\tconsole.log(ss)\n\t\t\tif(ss.empty){\n\t\t\t\tlet scoreDoc = userDoc.doc()\n\n\t\t\t\tscoreDoc.set({\n\t\t\t\t\t...data,\n\t\t\t\t\tscoreID: scoreDoc.id\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tlet scoreID = ss.docs[0].data().scoreID\n\t\t\t\tuserDoc.doc(scoreID).update(data)\n\t\t\t}\n\t\t\tdoc.set(data)\n\t\t\t.then(() => {res(\"Added new score.\")})\n\t\t\t.catch(err => {rej(err)})\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\n\n\n\t})\n}\n\nexport function updateScore(score, boxID, gymClassID, wodID, uid){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"scores\").doc(boxID)\n\t\t.collection(\"classes\").doc(gymClassID)\n\t\t.collection(\"wods\").doc(wodID)\n\t\t.collection(\"scores\").doc(uid)\n\t\t.update({score: score})\n\t\t.then(() => {res(\"Updated score.\")})\n\t\t.catch(err => {rej(err)})\n\t})\n}\n\nexport function removeScore(boxID, gymClassID, wodID, uid, scoreID){\n\treturn new Promise((res, rej) => {\n\t\tPromise.all([\n\t\t\tfs.collection(\"scores\").doc(boxID)\n\t\t\t.collection(\"classes\").doc(gymClassID)\n\t\t\t.collection(\"wods\").doc(wodID)\n\t\t\t.collection(\"scores\").doc(uid)\n\t\t\t.delete(),\n\n\t\t\tfs.collection(\"userScores\").doc(uid)\n\t\t\t.collection(\"scores\").where(\"wodID\", \"==\", wodID)\n\t\t\t.get().then( ss => {\n\t\t\t\tconsole.log(\"userScores SS\")\n\t\t\t\tconsole.log(ss)\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.forEach( doc => {\n\t\t\t\t\t\tconsole.log(doc)\n\t\t\t\t\t\tdoc.ref.delete()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\trej(err)\n\t\t\t})\n\t\t])\n\t\t.then(()=>{res(`Successfully removed score: ${wodID}`)})\n\t\t.catch((err) => {rej(err.message)})\n\t})\n}\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport { setBox } from \"./boxes.js\"\nimport { setClassAdmin} from \"./classAdmin.js\"\nimport { setClassMember } from \"./classMember\"\nimport { setFollow } from \"./follows\"\nimport { setGymClass } from \"./gymClass\"\nimport { setScore } from \"./scores\"\nimport {setWod } from \"./wods\"\n\n\nlet fs = firebase.firestore()\nconst uid = \"7yT7qYHwXvNySI0DVb71PeOTvQl1\"\nconst uidA = \"w4H00HnAr3VZ6gfDl9atBTu6NN83\"\nconst boxTitle = \"Test Box\"\nconst classTitle = \"Test Class\"\n\nexport default function mTea(){}\n\nexport function createTestData(){\n    setBox(boxTitle, uid).then(boxID =>{\n        setFollow(uid, \"Owner1\", boxID, boxTitle)\n        setGymClass(classTitle, uid, boxID, boxTitle, true).then(gymClassID => {\n\n\n            console.log(\"Waiting...\")\n            new Promise(resolve => setTimeout(resolve, 5000)).then(() => {\n                console.log(\"Waited 5 seconds\")\n                let data = {uid: uid, gymClassID: gymClassID}\n                setClassMember(uid, gymClassID, data)\n                setClassAdmin(uid, gymClassID, data)\n\n                let dataA = {uid: uidA, gymClassID: gymClassID}\n                setClassMember(uidA, gymClassID, dataA)\n                setClassAdmin(uidA, gymClassID, dataA)\n\n                setWod(data).then( wodID => {\n                    setScore(classTitle, \"Owner1\", uid, 13, wodID, gymClassID, boxID, \"reps\")\n                })\n\n\n            })\n\n        })\n    })\n}","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button }\nfrom '@material-ui/core';\n\nimport { withTheme } from '@material-ui/core/styles';\n\n\n\nimport BoxSearch from \"../comps/boxes/boxSearch\"\n\nimport { createTestData } from \"../utils/firestore/testData\"\n\nimport \"../styles.css\"\n\nlet fs = firebase.firestore()\n\nclass BoxSearchPage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      allBoxes: []\n    }\n  }\n\n  componentDidMount(){\n    this.allBoxesListener = fs.collection(\"boxes\")\n    .onSnapshot(ss => {\n      if(!ss.empty){\n        let boxes = []\n        ss.forEach(doc => {\n          boxes.push(doc.data())\n        })\n        boxes.sort((x, y) => {\n          return x[\"title\"].toLowerCase() > y[\"title\"].toLowerCase() ? -1 : 1\n        })\n        this.setState({\n          allBoxes: boxes\n        })\n      }\n    })\n  }\n\n  componentWillUnmount(){\n    if(this.allBoxesListener){\n      this.allBoxesListener()\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12} >\n        {\n          this.state.allBoxes.length > 0?\n          <BoxSearch\n              user={this.state.user}\n              userMD={this.state.userMD}\n              allBoxes={this.state.allBoxes}\n              filteredBoxes={this.state.allBoxes}\n              isOwner={false}\n              isReadOnly={false}\n              handleRemoveBox={this.props.handleRemoveBox}\n          />\n          :\n          <Grid item xs={12}>\n            <Paper elevation={2}>\n              No boxes!\n            </Paper>\n          </Grid>\n        }\n  \t\t</Grid>\n    )\n  }\n}\n\nexport default BoxSearchPage = withTheme(BoxSearchPage);\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \n\nimport React, { Component } from 'react'\nimport {\n  Grid, TextField, Button, Paper, Typography , Collapse, IconButton\n} from '@material-ui/core';\n\nimport { withTheme } from '@material-ui/core/styles';\n\n\n\nclass ResetPassword extends Component {\n   constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      currentPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\"\n    }\n   }\n\n\n  static getDerivedStateFromProps(props, state){\n    return state.user? state: props\n  }\n\n  handleSubmit(ev){\n\n    let currentPassword = this.state.currentPassword\n    let newPassword = this.state.newPassword\n    let confirmPassword = this.state.confirmPassword\n    \n    console.log(this.state)\n    console.log(currentPassword, newPassword, confirmPassword)\n    \n    if(newPassword === confirmPassword){\n\n      let creds = firebase.auth.EmailAuthProvider.credential(\n          this.state.user.email,\n          currentPassword\n      );\n\n      this.state.user.reauthenticateWithCredential(creds)\n      .then(() => {\n          this.state.user.updatePassword(newPassword)\n          .then((res) => {\n            console.log(\"Changed password.\")\n\n          }).catch((err) => {\n            console.log(err)\n          })\n\n      }).catch((err) => {\n          console.log(err)\n          console.log(\"Incorrect password.\")\n      })\n    }else{\n       console.log(`New passwords do not match.`)\n    }\n  }\n\n\n  onChange(ev){\n    console.log(ev)\n    ev.persist()\n    const  { name, value } = ev.target\n    this.setState({[name]: value})\n  }\n\n\n  render () {\n    return (\n      <React.Fragment>\n      {\n        this.state.user?\n          <Paper elevation={6}>\n          <Grid container item xs={12}>\n            <Grid item xs={12} align=\"center\">\n              <Typography variant=\"h3\">\n                Change Password\n              </Typography>\n            </Grid>\n            \n            <Grid item xs={12} align=\"center\">\n              <TextField\n                  id=\"currentPassword\"\n                  type=\"password\"\n                  name=\"currentPassword\"\n                  onChange={this.onChange.bind(this)}\n                  style={{ margin: 8 }}\n                  placeholder=\"Current Password\"\n                  margin=\"normal\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n            \n              <TextField\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"newPassword\"\n                  color=\"primary\"\n                  onChange={this.onChange.bind(this)}\n                  style={{ margin: 8 }}\n                  placeholder=\"New Password\"\n                  margin=\"normal\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                />\n              </Grid>\n\n              <Grid item xs={12} align=\"center\">\n                  <TextField\n                  id=\"passwordConfirm\"\n                  name=\"confirmPassword\"\n                  onChange={this.onChange.bind(this)}\n                  type=\"password\"\n                  style={{ margin: 8 }}\n                  placeholder=\"Confirm Password\"\n                  margin=\"normal\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                /> \n              </Grid>\n\n              <Grid item xs={12} align=\"center\" style={{margin: \"16px 0px 16px 0px\"}}>\n                <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n                  Change Password\n                </Button>\n              </Grid>\n          </Grid>\n          </Paper>\n        :\n          <h1>Loading</h1>\n      }\n      </React.Fragment>\n    );\n  }\n}\n\n\n\nexport default ResetPassword = withTheme(ResetPassword)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\nimport { Redirect } from \"react-router\";\nimport { withRouter } from \"react-router-dom\";\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\n\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport \"../../styles.css\"\n\n\n\nconst fs = firebase.firestore();\n\nclass DeleteAccount extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            user: props.user,\n            userConfirmText: \"\"\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn state.user? state: props\n\t}\n\n    componentWillUnmount(){\n    }\n\n    confirmText(){\n        return this.state.user.uid.slice(-5)\n    }\n\n    onChange(ev){\n        let value = ev.target.value\n        this.setState({userConfirmText: value})\n    }\n\n    removeUser(){\n        if(this.state.userConfirmText === this.confirmText()){\n            console.log(\"Deleting user, actual code commented out.\")\n            // this.state.user.delete()\n            // .then(() => {\n            //     console.log(\"User deleted.\")\n            // })\n            // .catch(err => {\n            //     console.log(\"Error deleting user.\")\n            // })\n            this.setState({redirect: true, redirectUrl: \"/boxSearch\"})\n            this.props.history(\"/boxSearch\")\n\n        }else{\n            console.log(\"User entered incorrect confirmation.\")\n        }\n    }\n\n\n  render(){\n\t\treturn(\n            <Paper elevation={6}>\n                <Grid item container align=\"center\" xs={12} style={{marginTop: \"16px\"}}>\n                    <Grid item xs={12}>\n                        <Typography>Type to Confirm Delete: {this.confirmText()}</Typography>\n                    </Grid>\n                    <Grid item xs={12} style={{marginTop: \"16px\"}}>\n                        <TextField\n                            type=\"text\"\n                            placeholder=\"Type username to confirm delete\"\n                            onChange={this.onChange.bind(this)}\n                        />\n                    </Grid>\n                    <Grid item xs={12} style={{marginTop: \"32px\"}}>\n                        <Button size=\"small\" fullWidth variant=\"outlined\"\n                            onClick={this.removeUser.bind(this)}\n                            style={{color: this.props.theme.palette.error.main}}>\n                                Confirm Remove\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n    )}\n}\n\nexport default DeleteAccount = withRouter(withTheme(DeleteAccount))","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore();\n\nexport default function mTea(){}\n\n\nexport function setUsername(uid, username){\n\tlet data = {username: username}\n\tlet promises = [fs.collection(\"users\").doc(uid).update(data)]\n\n\tfs.collection(\"scores\").where(\"uid\", \"==\", uid)\n\t.get().then(ss => {\n\t\tlet promises = ss.docs.map(doc => {\n\t\t\tconsole.log(doc.data())\n\t\t\treturn fs.collection(\"scores\").doc(doc.data().scoreID).update(data)\n\t\t})\n\t})\n\n\tfs.collection(\"following\").where(\"uid\", \"==\", uid)\n\t.get().then(ss => {\n\t\tlet promises = ss.docs.map(doc => {\n\t\t\tconsole.log(doc.data())\n\t\t\treturn fs.collection(\"following\").doc(doc.data().followID).update(data)\n\t\t})\n\t})\n\t\n\treturn new Promise((res, rej) => {\n\t\tPromise.all(promises)\n\t\t.then(() => {res(\"Updated!\")})\n\t\t.catch(err => {rej(err)})\n\t})\n}","import React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, TableBody, Table, TableContainer,\n          TableHead, TableRow }\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles'\n\nimport Edit from '@material-ui/icons/Edit'\nimport { setUsername } from '../../utils/firestore/users'\nimport \"../../styles.css\"\n\n\nconst TableCell = withStyles({root:{\n  borderBottom: \"none\"\n}})(TC)\nconst USERNAME_MAX_LEN = 12\nconst USERNAME_MAX_LENGTH_ERR_MSG = \"Username cannot be longer than 12 characters\"\nconst USERNAME_ERR_MSG = \"Username can only contain letters & numbers\"\n\nclass UsernamePanel extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n\n    return props\n  }\n\n  updateUsername(ev){\n    let usernameInput = document.getElementById('updateUsernameInput')\n\n    if(usernameInput.style.display === \"none\"){\n      usernameInput.style.display = \"block\"\n    }else{\n      let re = /\\W/g  // match non word characters ^[A-Za-z0-9]\n\n      if(usernameInput.value.length > USERNAME_MAX_LEN){\n        this.props.onAlert({\n          type: \"warning\",\n          message: USERNAME_MAX_LENGTH_ERR_MSG\n        })\n        return\n      }\n      if(re.exec(usernameInput.value) !== null ){\n        this.props.onAlert({\n          type: \"warning\",\n          message: USERNAME_ERR_MSG\n        })\n        return\n      }\n      if(usernameInput.value.length <= 0){\n        return\n      }\n\n      setUsername(this.state.userMD.uid, usernameInput.value)\n      .then((res) => {\n        console.log(res)\n      })\n      .catch(err => { console.log(err) })\n    }\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        this.updateUsername()\n    }\n  }\n\n\n\n  render () {\n    return (\n    <Grid container id=\"usernamePanel\" >\n    {\n      !this.state.userMD\n      ?\n        <h1> Loading </h1>\n      :\n      <Grid item container align=\"center\" xs={12}>\n        <Grid item xs={12}>\n          <Typography variant=\"h5\" color=\"primary\">\n              {this.state.userMD.username}\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id=\"updateUsernameInput\"\n            type=\"text\"\n\n            pattern=\"[A-Za-z]{12}\"\n            inputProps={{\n              title: \"Letters only, max length 12\",\n              placeholder: \"New username\"\n            }}\n            onKeyUp={this.onKeyUp.bind(this) }\n            margin=\"normal\"\n            color=\"primary\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} style={{marginTop: \"8px\"}}>\n          <Button size=\"small\" variant=\"outlined\" color=\"primary\"\n              onClick={this.updateUsername.bind(this)}>\n              Update\n          </Button>\n        </Grid>\n      </Grid>\n    }\n    </Grid>\n    );\n  }\n}\n\nexport default UsernamePanel = withTheme(UsernamePanel)","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport React, { Component } from 'react'\n\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { Grid, Paper, Button, Typography, Collapse,\n        Accordion, AccordionSummary, AccordionDetails }\nfrom '@material-ui/core';\n\nimport makeCancelable from \"../../utils/promises\"\n\n\n\nclass UserEmail extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            user: props.user\n        }\n    }\n\n    sendVerificationEmail(){\n        let emailVerifyPromise = new Promise(\n          (res, rej) => {\n          this.state.user.sendEmailVerification()\n          .then(() => {\n                console.log(\"Sent Email verification.\")\n                this.props.onAlert({\n                    type: \"success\",\n                    message: \"Sent email verification\"\n                })\n          })\n          .catch( err => {\n            this.props.onAlert({\n                type: \"error\",\n                message: err.message\n            })\n           })\n        })\n\n        this.cancelablePromise = makeCancelable(emailVerifyPromise)\n      }\n\n    render(){\n        return(\n            <Grid item  xs={12}>\n                <Grid item container xs={12}>\n                    <Grid item xs={6} align=\"center\">\n                    <Paper>\n                        <Typography>\n                            Email\n                        </Typography>\n                    </Paper>\n\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Paper>\n                            <Typography>\n                                {this.state.user.email}\n                            </Typography>\n                        </Paper>\n                    </Grid>\n                </Grid>\n\n                {!this.state.user.emailVerified ?\n                    <Grid item xs={12} align=\"center\" style={{margin: \"16px 0px 0px 0px \"}}>\n                      <Paper elevation={4}>\n                        <Typography >\n                          Verification\n                        </Typography>\n\n                        <Button color=\"secondary\" style={{margin: \"0px 0px 4px 0px \"}}\n                          onClick={this.sendVerificationEmail.bind(this)} >\n                          <Typography  variant=\"subtitle2\">\n                            Send Verification Email\n                          </Typography>\n                        </Button>\n                      </Paper>\n                    </Grid>\n                  :\n                    <React.Fragment></React.Fragment>\n                  }\n            </Grid>\n\n        )\n    }\n}\n\nexport default UserEmail = withTheme(UserEmail)","\nexport default function makeCancelable(promise){\n    let hasCanceled_ = false;\n  \n    const wrappedPromise = new Promise((resolve, reject) => {\n      promise.then(\n        val => hasCanceled_ ? reject({isCanceled: true}) : resolve(val),\n        error => hasCanceled_ ? reject({isCanceled: true}) : reject(error)\n      );\n    });\n  \n    return {\n      promise: wrappedPromise,\n      cancel() {\n        hasCanceled_ = true;\n      },\n    };\n  };","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport React, { Component } from 'react'\n\nimport\n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tTableRow, TableHead, TableContainer,\n\tTableBody, Table, TableCell, IconButton\n}\nfrom '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles';\nimport { ArrowBackIos } from '@material-ui/icons';\n\nimport ResetPassword from \"../comps/settings/resetPassword\"\nimport DeleteAccount from \"../comps/settings/deleteAccount\"\nimport UsernamePanel from \"../comps/settings/usernamePanel\"\nimport BackButton  from \"../comps/backButton\"\nimport UserEmail from \"../comps/settings/userEmail\"\n\n\nlet fs = firebase.firestore();\n\nconst HOME = \"home\"\nconst CHANGE_USERNAME = \"change username\"\nconst CHANGE_PASSWORD = \"change password\"\nconst DELETE_ACCOUNT = \"delete account\"\nconst EMAIL = \"email\"\n\n\nfunction SettingsRowRaw(props){\n    return(\n        <TableRow onClick={() => { props.openSetting(props.info.id) }}>\n            <TableCell align=\"left\" colSpan={2}>\n                {props.info.title}\n            </TableCell>\n        </TableRow>\n    )\n}\n\nconst SettingsRow = withTheme(SettingsRowRaw)\n\n\n\n\nclass Settings extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n        user: props.user,\n        userMD: props.userMD,\n        currentPage: HOME\n    }\n\n    this.settings = [\n        {\n            id: CHANGE_USERNAME,\n            title: \"Change Username\",\n\n        },\n        {\n            id: EMAIL,\n            title: \"Email\",\n\n        },\n        {\n            id: CHANGE_PASSWORD,\n            title: \"Change Password\",\n\n        },\n        {\n            id: DELETE_ACCOUNT,\n            title: \"Delete Account\",\n\n        },\n    ]\n  }\n\n  componentDidMount(){\n  }\n\n  static getDerivedStateFromProps(props, state){\n    let pageChange = props.userMD.currentPage !== state.userMD.currentPage\n\n\treturn pageChange || state.user? state: props\n  }\n\n  openSetting(id){\n      console.log(\"clicked \", id)\n    this.setState({\n        currentPage: id\n    })\n  }\n\n  handleBack(){\n      this.setState({currentPage: HOME})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12}>\n            {this.state.currentPage === HOME?\n                <Table>\n                    <TableHead>\n                        <BackButton />\n                        <TableRow>\n                                <TableCell align=\"center\" colSpan={2}>\n                                    <Typography gutterBottom variant=\"h3\">\n                                        Settings\n                                    </Typography>\n                                </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {this.settings.map((setting, i) => {\n                            return(\n                                <SettingsRow key={i}\n                                    info={setting}\n                                    openSetting={this.openSetting.bind(this)}\n                                />\n                            )\n                        })}\n                    </TableBody>\n                </Table>\n\n            : this.state.currentPage === CHANGE_PASSWORD?\n                <Grid container item xs={12}>\n                    <Grid item xs={12}>\n                        <IconButton style={{color: this.props.theme.palette.text.primary}} onClick={this.handleBack.bind(this)}>\n                            <ArrowBackIos />\n                        </IconButton>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <ResetPassword user={this.state.user} />\n                    </Grid>\n\n                </Grid>\n            : this.state.currentPage == DELETE_ACCOUNT?\n                <Grid container item xs={12}>\n                    <Grid item xs={12}>\n                        <IconButton style={{color: this.props.theme.palette.text.primary}} onClick={this.handleBack.bind(this)}>\n                            <ArrowBackIos />\n                        </IconButton>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <DeleteAccount user={this.state.user} />\n                    </Grid>\n\n                </Grid>\n            : this.state.currentPage === CHANGE_USERNAME?\n                <Grid container item xs={12}>\n                    <Grid item xs={12}>\n                        <IconButton style={{color: this.props.theme.palette.text.primary}} onClick={this.handleBack.bind(this)}>\n                            <ArrowBackIos />\n                        </IconButton>\n                    </Grid>\n                    <Grid item xs={12}>\n                    <UsernamePanel\n                        userMD={this.state.userMD}\n                        onAlert={this.props.onAlert}\n                    />\n                    </Grid>\n                </Grid>\n            : this.state.currentPage === EMAIL?\n            <Grid container item xs={12}>\n                <Grid item xs={12}>\n                    <IconButton style={{color: this.props.theme.palette.text.primary}} onClick={this.handleBack.bind(this)}>\n                        <ArrowBackIos />\n                    </IconButton>\n                </Grid>\n                <Grid item xs={12}>\n                    <UserEmail\n                        user={this.state.user}\n                        onAlert={this.props.onAlert}\n                    />\n                </Grid>\n            </Grid>\n            :\n                <span>Default</span>\n            }\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default Settings = withTheme(Settings);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\";\nimport { withRouter } from \"react-router-dom\";\n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Paper } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\nimport { withTheme } from '@material-ui/core/styles';\n\nclass RegisterUser extends Component {\n  constructor(props){\n    super(props)\n    this.state = {redirect: false}\n  }\n\n  componentDidMount(){\n  }\n\n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n\n    console.log(email.value, pass1.value)\n\n\n    if(pass1.value === pass2.value){\n      firebase.auth().createUserWithEmailAndPassword(email.value, pass1.value)\n      .then(res => {\n        console.log(res)\n        let fs = firebase.firestore();\n        let data = {\n          username: \"\",\n          admin: false,\n          uid: res.user.uid,\n          accountType: \"athlete\"\n        }\n\n        fs.collection('users').doc(res.user.uid).set(data)\n\t\t.then( () => {\n\t\t\tconsole.log(\"Set user data.\")\n\t\t\tthis.props.history.push(\"/profile\")\n\t\t})\n      })\n      .catch(err => {\n        console.log(err)\n      });\n    }else{\n      alert(\"Passwords do not match\")\n    }\n  }\n\n  render () {\n    return (\n\t\t<Grid container xs={12} id=\"login\" align=\"center\" justify=\"center\">\n\t\t\t<Paper elevation={2}>\n\t\t\t\t<br />\n\t\t\t\t<Grid item xs={12} ><h1>Register</h1></Grid>\n\t\t\t\t<br />\n\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<TextField\n\t\t\t\t\tid=\"email\"\n\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\t/><br /><br />\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t\t<br/><br/>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"passwordConfirm\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t\tplaceholder=\"Confirm Password\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/> <br/><br/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</Grid>\n    );\n  }\n}\n\n\n\nexport default RegisterUser = withRouter(withTheme(RegisterUser))","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n}\nfrom '@material-ui/core';\n\nimport { editWod } from \"../../utils/firestore/wods\"\n\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nvar db = firebase.database();\n\nconst StyledGrid = withStyles((theme) => ({\n\troot: {\n\t\tmarginTop: \"2.5vh\",\n\t\tmarginBottom: \"2.5vh\"\n\t},\n}))(Grid);\n\n\nclass EditWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\topen: props.open,\n\t\t\twodInfo: props.wodInfo,\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\topen: props.open,\n\t\t\tonClose: props.onClose\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\teditWOD(){\n\t\tthis.props.onClose()\n\t\tlet boxID = this.state.wodInfo.boxID\n\t\tlet gymClassID = this.state.wodInfo.gymClassID\n\t\tlet wodID = this.state.wodInfo.wodID\n\t\tlet title = this.state.wodInfo.title\n\t\tlet wodText = this.state.wodInfo.wodText\n\n\t\tif(!boxID || !gymClassID || !wodID || !title || !wodText){\n\t\t\tconsole.log(\"Missing edit wod info: \")\n\t\t\tconsole.log(boxID, gymClassID, wodID, title, wodText)\n\t\t\treturn\n\t\t}\n\n\t  \teditWod(boxID, gymClassID, wodID, title, wodText)\n\t  \t.then((res)=> {\n\t\t\tthis.props.onAlert({\n\t\t\ttype: \"success\",\n\t\t\tmessage: res\n\t\t})\n\t  \t})\n\t  \t.catch((err)=>{\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n\t\t})\n\t  }\n\n\thandleValChange(ev){\n\t    let wodInfo = this.state.wodInfo\n\t\tconst {name, value} = ev.target\n\t\twodInfo[name] = value\n\t\tthis.setState({\n\t      wodInfo: wodInfo\n\t  \t})\n\t}\n\n\n\trender(){\n\t\tlet scoreTypes = [\"time\", \"reps\"]\n\t\treturn(\n\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"edit-wod-modal\"\n\t\t\t    aria-describedby=\"edit-wod\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\titem\n\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\txs={12}>\n\t\t\t\t\t\t<Paper style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tEdit Wod ({this.state.wodInfo[\"wodID\"]})\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<StyledGrid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tstyle={{ margin: 8}}\n\t\t\t\t\t\t\t\t\tvalue= {this.state.wodInfo['title']}\n\t\t\t\t\t\t\t\t\tonChange={this.handleValChange.bind(this)}\n\t\t\t\t\t\t\t\t\tpattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\ttitle: \"Letters only, max length 35\",\n\t\t\t\t\t\t\t\t\t\tplaceholder: \"Title\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</StyledGrid>\n\t\t\t\t\t\t\t<StyledGrid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"wodText\"\n\t\t\t\t\t\t\t\tstyle={{ margin: 8}}\n\t\t\t\t\t\t\t\tvalue= {this.state.wodInfo['wodText']}\n\t\t\t\t\t\t\t\tonChange={this.handleValChange.bind(this)}\n\t\t\t\t\t\t\t\tpattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\ttitle: \"Letters only, max length 35\",\n\t\t\t\t\t\t\t\t\tplaceholder: \"Workout here\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</StyledGrid>\n\n\t\t\t\t\t\t<StyledGrid container item xs={12}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={this.props.onClose}>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={this.editWOD.bind(this)}>\n\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</StyledGrid>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t)\n\t}\n}\n\nexport default EditWod = withTheme(EditWod);","export default function cvtReps(x){\n\treturn parseInt(x)\n}\n\nexport function cvtTimetoInt(x){\n\tlet [mins, seconds] = x.split(\":\")\n\treturn (parseInt(mins) * 60) + parseInt(seconds)\n}\n\nexport function dupNewLine(text){\n\tconsole.log(\"\\n\".charCodeAt(0))\n\t\n\tlet newLinePattern = /\\\\n/\n\tlet newText = text.replace(newLinePattern, \"\\\\n\\\\n\")\n\t\n\tfor(let c of newText){\n\t\tconsole.log(c)\n\t\tconsole.log(c.charCodeAt(0))\n\t}\n\treturn newText\n}\n\nexport function cvtIntToTime(x){\n\tlet mins = Math.floor(x / 60)\n\tlet secs = Math.floor(x - (mins*60))\n\tif(secs < 10){\n\t\tsecs = `0${secs}`\n\t}\n\treturn `${mins}:${secs}`\n}\n\n\nexport function cvtTimetoIntList(rawScores){\n\treturn rawScores.map((score) => {\n\t\tcvtTimetoInt(score)\n\t})\n}\n\n\nexport function msToDate(ms){\n\treturn new Date(ms).toLocaleDateString(\"en-US\")\n}\n\n\nexport function formatDate(){\n  const [{ value: month },,{ value: day },,{ value: year }] \n    = new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' })\n      .formatToParts(new Date())  \n  console.log(new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' }))\n  return `${year}/${month}/${day}`\n}\n","// Firebase\nimport firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\"\n\nimport ReactMarkdown from 'react-markdown'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, IconButton, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableContainer,\n\tTableHead, TableRow, TablePagination, TableSortLabel\n} from '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\n\nimport Delete from '@material-ui/icons/Delete'\nimport Edit from '@material-ui/icons/Edit'\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport {msToDate} from \"../utils/formatting\"\n\n\n\nconst TableCell = withStyles({root:{\n\tpadding: \"4px 0px 4px 4px\"\n}})(TC)\n\n\nconst WodRow = withStyles(theme => ({root:{\n\tmargin: \"8px 0px 8px 0px\",\n\tpadding: \"4px 0px 4px 4px\",\n\tbackgroundColor: theme.palette.primary.main,\n\tborderRadius: \"8px\"\n}}))(Grid)\n\n\nfunction WodRaw(props){\n\tlet title = props.info[\"title\"]\n\tlet scoreType = props.info[\"scoreType\"]\n\tlet wodText = props.info[\"wodText\"]\n\tlet boxID = props.info.boxID\n\tlet wodID = props.info[\"wodID\"]\n\tlet gymClassID = props.info[\"gymClassID\"]\n\tlet date = props.info[\"date\"]\n\n\treturn(\n\t\t<WodRow container item xs={12} style={{margin: \"8px 0px 8px 0px\"}}\n\t\t\tonClick={(ev) => {\n\t\t\tlet tagName = ev.target.tagName\n\t\t\tif([\"path\", \"svg\"].indexOf(tagName) > -1)\n\t\t\t\treturn\n\t\t\tprops.onViewScores(`/wod/${boxID}/${gymClassID}/${wodID}`)\n\t\t}}>\n\n\t\t\t<Grid item xs={10} align=\"left\">\n\t\t\t\t<Typography variant=\"subtitle2\" component=\"h2\" gutterBottom style={{overflowWrap: \"break-word\"}} >\n\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"caption\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{msToDate(date)}\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\n\n\t\t\t<Grid item alignItems=\"center\" container xs={2} align=\"right\" justify=\"center\">\n\n\t\t\t\t{ props.showOwnerBtns ?\n\t\t\t\t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<IconButton size=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => props.handleEdit(props.info)}>\n\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<IconButton size=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={() => props.handleRemove(props.info)}>\n\t\t\t\t\t\t\t\t\t<Delete color=\"error\"/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t:\n\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t</WodRow>\n\t)\n}\nconst Wod = withTheme(WodRaw)\n\nfunction EmptyWodRaw(props){\n\treturn(\n\t  <Grid item xs={12} align=\"center\">\n\t\t<Typography variant=\"subtitle1\" color=\"primary\">\n\t\tNo Workouts!\n\t\t</Typography>\n\t  </Grid>\n\t)\n  }\nconst EmptyWod = withTheme(EmptyWodRaw)\n\nconst StyledTablePagination = withStyles({\n\troot:{\n\t\toverflow: \"hidden\"\n\t},\n\tactions:{\n\t\tmargin: \"0px\"\n\t}\n})(TablePagination)\n\nclass SearchSortTable extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\theaders: props.headers,\n\t\t\trows: props.rows,\n\t\t\tfilteredRows: props.filteredRows,\n\t\t\torderTableBy: \"date\",\n\t\t\torderTable: \"asc\",\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage:5,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: 5\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn state.rows.length > 0? state: props\n\t}\n\n\t/*\n\t\tSearch Table\n\t*/\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\n\t\t}\n\t}\n\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tconsole.log(val)\n\t\tlet filteredRows = this.state.rows.filter(wod =>{\n\t\t  return wod[\"title\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\n\t\tthis.setState({filteredRows: filteredRows})\n\t}\n\n\tdescendingComparator(a, b, orderBy) {\n\t\tif(b[orderBy] < a[orderBy]){\n\t\t\treturn -1;\n\t\t}\n\t\tif(b[orderBy] > a[orderBy]){\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tgetComparator(order, orderBy) {\n\t\treturn order === 'desc'\n\t\t? (a, b) => this.descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -this.descendingComparator(a, b, orderBy);\n\t}\n\n\tstableSort(comparator) {\n\t\tlet arr = this.state.filteredRows\n\t\tconst stabilizedThis = arr.map((el, index) => [el, index]);\n\n\t\tstabilizedThis.sort((a, b) => {\n\t\t\tconst order = comparator(a[0], b[0]);\n\n\t\t\tif (order !== 0) return order;\n\t\t\treturn a[1] - b[1];\n\t\t});\n\t\treturn stabilizedThis.map((el) => el[0]);\n\t}\n\n\tcreateSortHandler(orderBy){\n\t\tlet isAsc =\n\t\t\tthis.state.orderTableBy === orderBy &&\n\t\t\tthis.state.orderTable === \"asc\"\n\t\tthis.setState({\n\t\t\torderTableBy: orderBy,\n\t\t\torderTable: isAsc? \"desc\" : \"asc\"\n\t\t})\n\t}\n\n\thandleChangePage(ev, newPage){\n\t\tlet start = newPage * this.state.rowsPerPage\n\t\tlet end = (newPage * this.state.rowsPerPage) + this.state.rowsPerPage\n\t\tthis.setState({\n\t\t\tpageNum: newPage,\n\t\t\tpageStart: start,\n\t\t\tpageEnd: end\n\t\t})\n\t}\n\n\thandleChangeRowsPerPage(ev){\n\t\tlet rowsPerPage = parseInt(ev.target.value)\n\t\tconsole.log(rowsPerPage)\n\t\tthis.setState({\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage: rowsPerPage,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: rowsPerPage\n\t\t})\n\t}\n\n\n\tonViewScores(url){\n\t\tthis.props.history.push(url)\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} align=\"center\">\n\n\t\t    <Paper style={{margin: \"16px 0px 0px 0px\"}} component=\"form\">\n\t\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant=\"outlined\"\n\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\tonChange={this.onChange.bind(this)}\n\t\t\tplaceholder=\"Search\"\n\t\t\tInputProps={{\n\t\t\t  startAdornment: (\n\t\t\t    <InputAdornment position=\"start\">\n\t\t\t      <SearchIcon color=\"primary\" />\n\t\t\t    </InputAdornment>\n\t\t\t  ),\n\t\t\t}}\n\t\t\t/>\n\t\t\t</Paper>\n\n\t\t\t<Grid container item xs={12}>\n\t\t\t<TableContainer style={{margin: \"8px 0px 0px 0px\"}}>\n  \t\t\t<Table>\n\t\t\t<TableHead>\n\t\t    \t<TableRow>\n\t\t    \t{\n\t\t    \t\tthis.state.headers.map((header, i)=>{\n\t\t\t        \treturn (\n\t\t\t        \t<TableCell key={i}>\n\t\t\t        \t\t{\n\t\t\t        \t\t\theader.sortable?\n\t\t\t\t\t        \t\t<TableSortLabel\n\t\t\t\t\t\t              active={header.id === this.state.orderTableBy}\n\t\t\t\t\t\t              direction={header.id === this.state.orderTableBy?  this.state.orderTable: \"asc\"}\n\t\t\t\t\t\t              onClick={()=>{ this.createSortHandler(header.id)}}\n\t\t\t\t\t\t            >\n\t\t\t\t\t        \t\t\t{header.label}\n\t\t\t\t\t\t\t        </TableSortLabel>\n\t\t\t\t\t\t\t    :\n\t\t\t\t\t\t\t    \t<React.Fragment>{header.label}</React.Fragment>\n\t\t\t        \t\t}\n\t\t\t        \t</TableCell>)\n\t\t    \t\t})\n\t\t    \t}\n\t\t    \t</TableRow>\n\t\t    </TableHead>\n\t\t\t</Table>\n\t\t\t</TableContainer>\n\n\t\t\t{this.state.filteredRows.length > 0\n\t\t\t?\n\t\t\t\tthis.stableSort(\n\t\t\t\t\tthis.getComparator(\n\t\t\t\t\t\tthis.state.orderTable,\n\t\t\t\t\t\tthis.state.orderTableBy\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.slice(this.state.pageStart, this.state.pageEnd)\n\t\t\t\t.map((row, i) => {\n\t\t\t\t\treturn <Wod key={i}\n\t\t\t\t\t\thandleView={this.props.handleView}\n\t\t\t\t\t\thandleRemove={this.props.handleRemove}\n\t\t\t\t\t\thandleEdit={this.props.handleEdit}\n\t\t\t\t\t\tinfo={row}\n\t\t\t\t\t\tshowOwnerBtns={this.props.showOwnerBtns}\n\t\t\t\t\t\tonViewScores={this.onViewScores.bind(this)}\n\t\t\t\t\t/>\n\t\t\t\t})\n\t\t\t:\n\n\t\t\t\t<EmptyWod />\n\n\t\t\t}\n\n\t\t\t<StyledTablePagination\n\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\tcomponent={Grid}\n\t\t\tcount={this.state.filteredRows.length}\n\t\t\trowsPerPage={this.state.rowsPerPage}\n\t\t\tpage={this.state.pageNum}\n\t\t\tonChangePage={this.handleChangePage.bind(this)}\n\t\t\tonChangeRowsPerPage={this.handleChangeRowsPerPage.bind(this)}\n\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs ={12}>\n\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n  }\n}\n\nexport default SearchSortTable = withRouter(withTheme(SearchSortTable))\n\n","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { sendAdminInvite } from \"../../utils/firestore/classAdmin\"\n\nimport \"../../styles.css\"\n\n\n\nconst fs = firebase.firestore();\n\nclass InviteView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            filteredUsers: props.filteredUsers,\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n       \n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n        \n\t\treturn props\n\t}\n\n    componentWillUnmount(){\n    }\n\n\t\n  render(){\n\t\treturn( \n\t\t\t<Modal\n                open={this.props.modalOpen}\n                onClose={this.props.onModalClose}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\">\n                <div style={{\n                    position: 'absolute',\n                    top: \"50%\",\n                    left: \"50%\",\n                    width: \"90vw\",\n                    transform: \"translate(-50%, -50%)\",\n                }}>\n                    <Paper style={{ padding: \"8px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\n                        <Grid item container align=\"center\" xs={12}>\n                            <Grid item xs={12} style={{marginTop: \"16px\"}}>\n                                <Typography variant=\"h6\">\n                                    {this.props.title}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} style={{marginTop: \"16px\"}}>\n                                <TextField\n                                    fullWidth\n                                    variant=\"outlined\"\n                                    onChange={this.props.onChange.bind(this)}\n                                    placeholder=\"Search Users\"\n                                    style={{margin: \"0px 0px 8px 0px\"}}\n                                    InputProps={{\n                                        endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <SearchIcon color=\"primary\" />\n                                        </InputAdornment>\n                                        )\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} style={{marginTop: \"16px\"}}>\n                                <Select native style={{\n                                        width: \"100%\",\n                                        margin: \"0px 0px 8px 0px\",\n                                        padding: \"4px\"\n                                    }}\n                                    color=\"primary\"\n                                    onChange={this.props.onSelectChange.bind(this)}>\n                                    {this.state.filteredUsers ?\n                                        this.state.filteredUsers.map((user, i) => {\n                                            return (<option key={i} \n                                                            value={JSON.stringify(user)} >\n                                                            {user[\"username\"]}\n                                                    </option>)\n                                        })\n                                    :\n                                        <option aria-label=\"None\" value=\"\" >No users!</option>\n                                    }\n                                </Select>\n                            </Grid>\n                            \n                                <Grid item xs={6} style={{margin: \"16px 0px 16px 0px\"}}>\n                                    <Button fullWidth\n                                        style={{\n                                            borderColor: this.props.theme.palette.text.primary                                        }}\n                                        size=\"small\"\n                                        onClick={this.props.onModalClose}>\n                                        Cancel\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6} style={{marginTop: \"16px\"}}>\n                                    <Button fullWidth\n                                        color=\"primary\"\n                                        size=\"small\"\n                                        onClick={this.props.sendInvite.bind(this)}>\n                                        Invite\n                                    </Button>\n                                </Grid>\n                            \n                        </Grid>\n                    </Paper>\n                </div>\n            </Modal>\n    )}\n}\n\nexport default InviteView = withTheme(InviteView)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { sendAdminInvite } from \"../../utils/firestore/classAdmin\"\nimport InviteView from \"./inviteView\"\nimport \"../../styles.css\"\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass InviteAdminView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            gymClassMD: props.gymClassMD,\n\t\t\tallUsers: [],\n            filteredUsers: [],\n            selectedUser: {}\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        this.listener = fs.collection(\"users\")\n        .onSnapshot(ss => {\n            let users = []\n            if(!ss.empty){\n                ss.forEach(doc => {\n                    users.push(doc.data())\n                })\n                users.sort((a, b) => {\n                    return (a.username > b.username)? 1 : -1\n                })\n                this.setState({allUsers: users,\n                    filteredUsers: users,\n                    selectedUser: users[0]\n                })\n            }else{\n                this.setState({allUsers: users,\n                    filteredUsers: users,\n                    selectedUser: {}\n                })\n            }\n        })\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    componentWillUnmount(){\n        if(this.listener)\n            this.listener()\n    }\n\n\tonChange(ev){\n        let val = ev.target.value\n        console.log(val)\n\t\tlet filteredUsers = this.state.allUsers.filter(user =>{\n\t\t  return user[\"username\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredUsers: filteredUsers, selectedUser: filteredUsers[0]})\n\t}\n\n    sendInvite(){\n        if(!this.state.selectedUser)\n            return\n\n        console.log(`Send invite to ${this.state.selectedUser.uid} from ${this.state.userMD.uid}`)\n\n\n        this.props.onModalClose()\n        console.log(\"Sending data\",\n            this.state.selectedUser.uid,\n            this.state.gymClassMD,\n            this.state.userMD.uid,\n            this.state.userMD.username)\n\n        sendAdminInvite(\n            this.state.selectedUser.uid,\n            this.state.gymClassMD,\n            this.state.userMD.uid,\n            this.state.userMD.username\n        )\n        .then((res) => {\n            this.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: String(res)\n\t\t\t})\n        })\n        .catch(err => {\n            this.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n        })\n    }\n\n    onSelectChange(ev){\n        let user = JSON.parse(ev.target.value)\n        this.setState({selectedUser: user})\n    }\n\n  render(){\n\t\treturn(\n\n            <InviteView\n                modalOpen={this.state.open}\n                title=\"Invite Admin\"\n                onChange={this.onChange.bind(this)}\n                onSelectChange={this.onSelectChange.bind(this)}\n                onModalClose={this.props.onModalClose}\n                sendInvite={this.sendInvite.bind(this)}\n                filteredUsers={this.state.filteredUsers}\n                modalOpen={this.props.modalOpen}\n            />\n    )}\n}\n\nexport default InviteAdminView = withTheme(InviteAdminView)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { sendMemberInvite } from \"../../utils/firestore/classMember\"\nimport InviteView from \"./inviteView\"\n\nimport \"../../styles.css\"\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass InviteMemberView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            gymClassMD: props.gymClassMD,\n\t\t\tallUsers: [],\n            filteredUsers: [],\n            selectedUser: {}\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        fs.collection(\"users\")\n        .onSnapshot(ss => {\n            let users = []\n            if(!ss.empty){\n                ss.forEach(doc => {\n                    users.push(doc.data())\n                })\n                users.sort((a, b) => {\n                    return (a.username > b.username)? 1 : -1\n                })\n                this.setState({allUsers: users,\n                    filteredUsers: users,\n                    selectedUser: users[0]\n                })\n            }else{\n                this.setState({allUsers: users,\n                    filteredUsers: users,\n                    selectedUser: {}\n                })\n            }\n        })\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\n\t\t}\n\t}\n\n\tonChange(ev){\n\t\t/*\n\t\t\tSearch bar, filter by name\n\t\t*/\n\t\tlet val = ev.target.value\n\t\tlet filteredUsers = this.state.allUsers.filter(user =>{\n\t\t  return user[\"username\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredUsers: filteredUsers, selectedUser: filteredUsers[0]})\n\t}\n\n    sendInvite(){\n        if(!this.state.selectedUser)\n            return\n\n        let data = {\n            msg: \"Accept invite?\",\n            gymClassID: this.state.gymClassMD.gymClassID,\n            senderUID: this.state.userMD.uid,\n            senderUsername: this.state.userMD.username,\n            gymClassTitle: this.state.gymClassMD.title,\n            boxTitle: this.state.gymClassMD.boxTitle,\n            boxID: this.state.gymClassMD.boxID,\n            uid: this.state.selectedUser.uid,\n            date: Date.now()\n        }\n        this.props.onModalClose()\n        console.log(`Send invite to ${this.state.selectedUser.uid} from ${this.state.userMD.uid}`)\n\n        sendMemberInvite(\n            this.state.selectedUser.uid,\n            this.state.gymClassMD,\n            this.state.userMD.uid,\n            this.state.userMD.username\n        )\n        .then((res) => {\n            this.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: res\n\t\t\t})\n        })\n        .catch(err => {\n            this.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n        })\n    }\n\n    onSelectChange(ev){\n        let user = JSON.parse(ev.target.value)\n        console.log(user)\n        this.setState({selectedUser: user})\n    }\n\n  render(){\n\t\treturn(\n            <InviteView\n            modalOpen={this.state.open}\n            title=\"Invite Member\"\n            onChange={this.onChange.bind(this)}\n            onSelectChange={this.onSelectChange.bind(this)}\n            onModalClose={this.props.onModalClose}\n            sendInvite={this.sendInvite.bind(this)}\n            filteredUsers={this.state.filteredUsers}\n            modalOpen={this.props.modalOpen}\n        />\n    )}\n}\n\nexport default InviteMemberView = withTheme(InviteMemberView)","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\n\nimport\n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\n\nimport Delete from '@material-ui/icons/Delete'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport ActionCancelModal from \"../actionCancelModal\"\nimport { removeAdmin } from '../../utils/firestore/classAdmin'\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction AdminRowRaw(props){\n  console.log(props)\n  // TODO redirect to wods whhoch is what boxView is\n  return(\n    <TableRow>\n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          { props.info.username }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.handleRemoveAdmin(props.info)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n}\nconst AdminRow = withTheme(AdminRowRaw)\n\nfunction EmptyAdminRaw(props){\n  return(\n    <TableRow>\n      <TableCell colSpan={3} align=\"center\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          No Admins!\n        </Typography>\n      </TableCell>\n    </TableRow>\n  )\n}\nconst EmptyAdmin = withTheme(EmptyAdminRaw)\n\nclass ClassAdminList extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n        gymClassID: props.gymClassID,\n        isOwner: props.isOwner,\n        filteredAdmins: props.filteredAdmins,\n        admins: props.admins,\n        showRemoveAlert: false,\n        removeClassAdmin: {}\n    }\n  }\n\n  componentDidMount(){\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return state.admins.length > 0? state : props\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n    }\n  }\n\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredAdmins = this.state.admins.filter(admin =>{\n        return admin[\"username\"].toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredAdmins: filteredAdmins})\n  }\n\n  handleModalClose(){\n    this.setState({showRemoveAlert: false})\n  }\n\n  handleRemoveAdmin(removeClassAdmin){\n    console.log(\"remove admin w/ data: \", removeClassAdmin)\n    this.setState({removeClassAdmin: removeClassAdmin, showRemoveAlert: true})\n  }\n\n  onRemoveAdmin(){\n    this.setState({showRemoveAlert: false})\n    console.log(this.state.removeClassAdmin)\n    removeAdmin(this.state.removeClassAdmin)\n    .then((res) => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Removed admin!\"\n\t\t\t})\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n\t\t})\n\n  }\n\n\n\n  render () {\n    return (\n      <Grid item xs={12}>\n        <Grid item xs={12}>\n          <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n          <Paper elevation={2} component=\"form\">\n            <TextField\n                fullWidth\n                variant=\"outlined\"\n                inputProps={{style: {fontSize: \"0.8em\"}}}\n                onKeyUp={this.onKeyUp.bind(this)}\n                onChange={this.onChange.bind(this)}\n                placeholder=\"Search Admins\"\n                InputProps={{\n                    startAdornment: (\n                    <InputAdornment position=\"start\">\n                        <SearchIcon color=\"primary\" />\n                    </InputAdornment>\n                    )\n                }}\n            />\n            <TableContainer>\n                <Table stickyHeader size=\"small\">\n                <TableHead>\n                    <TableRow>\n                    <TableCell>Admin Username</TableCell>\n                    <TableCell></TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                {this.state.filteredAdmins.length > 0 ?\n                  this.state.filteredAdmins.map((admin, i) => {\n                      return (\n                          <AdminRow\n                              key={i}\n                              info={admin}\n                              handleRemoveAdmin={this.handleRemoveAdmin.bind(this)}\n                              isOwner={this.props.isOwner}\n                          />\n                      )\n                  })\n                :\n                  <EmptyAdmin />\n                }\n                </TableBody>\n                </Table>\n            </TableContainer>\n          </Paper>\n          </Grid>\n        </Grid>\n        <ActionCancelModal\n\t\t\t\t  open={this.state.showRemoveAlert}\n          onClose={this.handleModalClose.bind(this)}\n          onAction={this.onRemoveAdmin.bind(this)}\n          modalText={ `Remove admin: ${this.state.removeClassAdmin.username}?`}\n          actionText={\"Remove\"}\n          cancelText={\"Cancel\"}\n\t\t\t/>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default ClassAdminList = withTheme(ClassAdminList)\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\n\nimport\n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\n\nimport Delete from '@material-ui/icons/Delete'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport ActionCancelModal from \"../actionCancelModal\"\nimport { removeMember } from '../../utils/firestore/classMember'\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction MemberRowRaw(props){\n\n  // TODO redirect to wods whhoch is what boxView is\n  return(\n    <TableRow>\n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          { props.info.username }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.handleRemoveMember(props.info)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n}\nconst MemberRow = withTheme(MemberRowRaw)\n\nfunction EmptyMemberRaw(props){\n  return(\n    <TableRow>\n      <TableCell colSpan={3} align=\"center\">\n        <Typography variant=\"subtitle1\" color=\"primary\">\n          No Members!\n        </Typography>\n      </TableCell>\n    </TableRow>\n  )\n}\nconst EmptyMember = withTheme(EmptyMemberRaw)\n\nclass ClassMemberList extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n        gymClassID: props.gymClassID,\n        isOwner: props.isOwner,\n        filteredMembers: props.filteredMembers,\n        members: props.members,\n        showRemoveAlert: false,\n        classMember: \"\"\n    }\n  }\n\n  componentDidMount(){\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return state.members.length > 0? state : props\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n    }\n  }\n\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredMembers = this.state.members.filter(member =>{\n        return member[\"username\"].toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredMembers: filteredMembers})\n  }\n\n  handleModalClose(){\n    this.setState({showRemoveAlert: false})\n  }\n\n  handleRemoveMember(classMember){\n    this.setState({classMember: classMember, showRemoveAlert: true})\n  }\n\n  onRemoveMember(){\n    this.setState({showRemoveAlert: false})\n    console.log(\"Remvoing\")\n    console.log(this.state.classMember)\n    removeMember(this.state.classMember)\n    .then((res) => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Removed member!\"\n\t\t\t})\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err\n\t\t\t})\n\t\t})\n\n  }\n\n  render () {\n    return (\n      <Grid item xs={12}>\n        <Grid item xs={12}>\n          <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n          <Paper elevation={2} component=\"form\">\n            <TextField\n                fullWidth\n                variant=\"outlined\"\n                inputProps={{style: {fontSize: \"0.8em\"}}}\n                onKeyUp={this.onKeyUp.bind(this)}\n                onChange={this.onChange.bind(this)}\n                placeholder=\"Search Members\"\n                InputProps={{\n                    startAdornment: (\n                    <InputAdornment position=\"start\">\n                        <SearchIcon color=\"primary\" />\n                    </InputAdornment>\n                    )\n                }}\n            />\n            <TableContainer>\n                <Table stickyHeader size=\"small\">\n                <TableHead>\n                    <TableRow>\n                    <TableCell>Member Username</TableCell>\n                    <TableCell></TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                {this.state.filteredMembers.length > 0 ?\n                  this.state.filteredMembers.map((member, i) => {\n                      return (\n                          <MemberRow\n                              key={i}\n                              info={member}\n                              handleRemoveMember={this.handleRemoveMember.bind(this)}\n                              isOwner={this.props.isOwner}\n                          />\n                      )\n                  })\n                :\n                  <EmptyMember />\n                }\n                </TableBody>\n                </Table>\n            </TableContainer>\n          </Paper>\n          </Grid>\n        </Grid>\n        <ActionCancelModal\n\t\t\t\t  open={this.state.showRemoveAlert}\n          onClose={this.handleModalClose.bind(this)}\n          onAction={this.onRemoveMember.bind(this)}\n          modalText={ `Remove member, ${this.state.classMember.username}?`}\n          actionText={\"Remove\"}\n          cancelText={\"Cancel\"}\n\t\t\t/>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default ClassMemberList = withTheme(ClassMemberList)\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, TableRow, TableHead, TableContainer,\n  \tTableBody, Table\n}\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles'\n\nimport { setWod } from \"../../utils/firestore/wods\"\n\nlet fs = firebase.firestore()\nconst SCORETYPES = [\"reps\", \"rounds\", \"time\", \"total\"]\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddWodClass extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            gymClassMD: props.gymClassMD,\n\t\t\ttitleForm: \"\",\n\t\t\tscoreTypeForm: SCORETYPES[0],\n\t\t\twodTextForm: \"\"\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\n\n\n\n\n\n\tonTitleChange(ev){\n\t\tconsole.log(ev.target.value)\n\t\tlet title = ev.target.value\n\t\tthis.setState({titleForm: title})\n\t}\n\n\tonScoreTypeSelectChange(ev){\n\t\tconsole.log(ev.target.value)\n\t\tlet scoreType = ev.target.value\n\t\tthis.setState({scoreTypeForm: scoreType})\n\t}\n\n\tonWodTextChange(ev){\n\n\t\tlet wodText = ev.target.value\n\t\tthis.setState({wodTextForm: wodText})\n\t}\n\n\tcreateWOD(){\n\t  \tlet boxID = this.state.gymClassMD.boxID\n\t\tlet owner = this.state.gymClassMD.owner\n\t\tlet boxTitle = this.state.gymClassMD.boxTitle\n\t  \tlet gymClassID = this.state.gymClassMD.gymClassID\n\t\tlet classTitle = this.state.gymClassMD.title\n\t\tlet isPrivate = this.state.gymClassMD.isPrivate\n\t  \tlet title = this.state.titleForm\n\t  \tlet scoreType = this.state.scoreTypeForm\n\t  \tlet wodText = this.state.wodTextForm\n\n\n\t\tconsole.log(\"Creating Wod\")\n\t\tconsole.log(boxID, gymClassID, title, scoreType, wodText)\n\t  \tif(!boxID || !gymClassID || !title || !scoreType || !wodText || !owner){\n\t  \t\tconsole.log(\"Error with input createWod\")\n\t  \t\tconsole.log(boxID, gymClassID, title, scoreType, wodText, owner)\n\t  \t\treturn\n\n\t  \t}\n\n\t  \tsetWod(title, boxID, gymClassID, owner, boxTitle, classTitle, scoreType, wodText, isPrivate)\n\t  \t.then((res)=>{\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Added workout!\"\n\t\t\t})\n\t\t})\n\t\t.catch((err)=>{\n\t\t  this.props.onAlert({\n\t\t\t  type: \"error\",\n\t\t\t  message: err.message\n\t\t  })\n\t \t })\n\n\t  }\n\n\n\n\trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n\t\t\t\t<TableContainer>\n\n\t\t\t\t\t<Table>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n                                Add Workout\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tScore Type\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonChange={this.onScoreTypeSelectChange.bind(this)}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'Score Type',\n\t\t\t\t\t\t\t\t\t\tid: 'ownerBoxAddWodScoreType',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tSCORETYPES.map((scoreType, i) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={scoreType}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ scoreType.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscoreType[0],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscoreType[0].toUpperCase()) }\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t              id=\"ownerBoxAddWodTitle\"\n\t\t\t\t\t              type=\"text\"\n\t\t\t\t\t\t\t\t  onChange={this.onTitleChange.bind(this)}\n\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t              inputProps={{\n\t\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t\t                placeholder: \"Title\"\n\t\t\t\t\t              }}\n\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t                shrink: true,\n\t\t\t\t\t              }}\n\t\t\t\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tWorkout\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t              id=\"wodText\"\n\t\t\t\t\t              type=\"text\"\n\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t  onChange={this.onWodTextChange.bind(this)}\n\t\t\t\t\t              inputProps={{\n\t\t\t\t\t                title: \"Enter workout\",\n\t\t\t\t\t                placeholder: \"workout\"\n\t\t\t\t\t              }}\n\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t                shrink: true,\n\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t  multiline={true}\n\t\t\t\t\t\t\t\t  rows={12}\n\t\t\t\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={this.createWOD.bind(this)}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Grid>\n\t\t)\n\t}\n}\n\nexport default AddWodClass = withTheme(AddWodClass)","export default function mTea(){}\n\nexport function isEmpty(obj){\n    return (obj\n    && Object.keys(obj).length === 0\n    && obj.constructor === Object)\n\n}","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport\n{ \tGrid, Paper, Button, Typography, IconButton\n} from '@material-ui/core';\n\nimport { ArrowBackIos } from '@material-ui/icons';\nimport { withTheme } from '@material-ui/core/styles';\n\n// WodTrackrr\nimport EditWod from \"../wods/editWod\"\nimport SearchSortTable from \"../searchSortTable\"\nimport ActionCancelModal from \"../actionCancelModal\"\n\nimport InviteAdminView from \"./inviteAdminView\"\nimport InviteMemberView from \"./inviteMemberView\"\n\nimport ClassAdminList from \"../admins/classAdminList\"\nimport ClassMemberList from \"../members/classMemberList\"\n\nimport AddWodClass from \"../wods/addWodClass\"\n\nimport BackButton  from \"../backButton\"\n\nimport { getWods, removeWod } from \"../../utils/firestore/wods\"\nimport { getClassAdmins } from \"../../utils/firestore/classAdmin\"\nimport { getClassMembers } from \"../../utils/firestore/classMember\"\n\nimport { isEmpty } from \"../../utils/valid\"\nimport \"../../styles.css\"\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass GymClassView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tboxID: props.boxID,\n\t\t\tgymClassID: props.gymClassID,\n\t\t\tgymClassMD: {},\n\t\t\tgymClasses:[],\n\t\t\tuserBoxes: [],\n\t\t\thasBoxes: false,\n\t\t\twods: [],\n\t\t\tcurrentWodID: \"\",\n\t\t\tcurrentWodMD: {},\n\t\t\tshowRemoveAlert: false,\n\t\t\tshowEditModal: false,\n\t\t\teditWodInfo: {},\n\t\t\tcurRemovewodInfo: {},\n\t\t\tinviteModalOpen: false,\n\t\t\tinviteMemberModalOpen: false,\n\t\t\tadmins: [],\n\t\t\tadminUids: [],\n\t\t\tmembers: [],\n\t\t\tmemberUids: [],\n\t\t\tshowAdminList:false,\n\t\t\tshowMemberList: false,\n\t\t\tisAdmin: false,\n\t\t\tisMember: false,\n\t\t\tshowAddWod: false\n\n\t\t}\n\t}\n\n\tgetGymClassListener(){\n\t\tif(!this.gymClassListener){\n\t\t\tthis.gymClassListener = fs.collection(\"gymClasses\")\n\t\t\t.doc(this.state.boxID)\n\t\t\t.collection(\"classes\")\n\t\t\t.doc(this.state.gymClassID)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tif(ss.exists){\n\t\t\t\t\tlet gymClassMD = ss.data()\n\t\t\t\t\tthis.setState({ gymClassMD: gymClassMD })\n\t\t\t\t\tthis.getWodListener(gymClassMD)\n\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tgetUserBoxListener(){\n\t\tif(this.state.userMD.uid && !this.userBoxesListener ){\n\t\t\tthis.userBoxesListener = fs.collection(\"boxes\")\n\t\t\t.where(\"uid\", \"==\", this.state.userMD.uid)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tlet boxes = []\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tboxes.push(doc.data())\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.setState({userBoxes: boxes, hasBoxes: boxes.length? true: false})\n\t\t\t})\n\t\t}\n\t}\n\n\tgetAdminListener(){\n\t\tif(this.state.userMD.uid && !this.adminListener){\n\t\t\tthis.adminListener =\n\t\t\tgetClassAdmins(this.state.boxID, this.state.gymClassID)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tlet admins = []\n\t\t\t\tlet adminUids = []\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.docs.forEach(doc => {\n\t\t\t\t\t\tadmins.push(doc.data())\n\t\t\t\t\t\tadminUids.push(doc.data().uid)\n\t\t\t\t\t})\n\t\t\t\t\tlet isAdmin = adminUids.indexOf(this.state.userMD.uid) >= 0\n\t\t\t\t\tthis.setState({admins: admins, adminUids: adminUids, isAdmin: isAdmin})\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({admins: admins, adminUids: adminUids, isAdmin: false})\n\t\t\t\t}\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t}\n\t}\n\n\tgetMemberListener(){\n\t\tif(this.state.userMD.uid && !this.memberListener){\n\t\t\tthis.memberListener = getClassMembers(this.state.boxID, this.state.gymClassID)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tlet members = []\n\t\t\t\tlet memberUids = []\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.docs.forEach(doc => {\n\t\t\t\t\t\tmembers.push(doc.data())\n\t\t\t\t\t\tmemberUids.push(doc.data().uid)\n\t\t\t\t\t})\n\t\t\t\t\tlet isMember = memberUids.indexOf(this.state.userMD.uid) >= 0\n\t\t\t\t\tthis.setState({members: members, memberUids: memberUids, isMember: isMember})\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({members: members, memberUids: memberUids, isMember: false})\n\t\t\t\t}\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t}\n\t}\n\n\tgetWodListener(gymClassMD){\n\t\tif(!this.wodListener){\n\t\t\tthis.wodListener = getWods(this.props.boxID, gymClassMD)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tlet wods = []\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\twods.push(doc.data())\n\t\t\t\t\t})\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twods: wods\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twods: []\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tthis.wodListener()\n\t\t\t\tthis.wodListener = undefined\n\t\t\t})\n\t\t}\n\n\t}\n\n\tcheckListeners(){\n\t\tif(!this.userBoxesListener)\n\t\t\tthis.getUserBoxListener()\n\t\tif(!this.adminListener)\n\t\t\tthis.getAdminListener()\n\t\tif(!this.memberListener)\n\t\t\tthis.getMemberListener()\n\n\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.checkListeners()\n\t\tthis.getGymClassListener()\n\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn state.userMD? state: props\n\t}\n\n\tcomponentDidUpdate(){\n\t\tthis.checkListeners()\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.adminListener)\n\t\t\tthis.adminListener()\n\t\tif(this.memberListener)\n\t\t\tthis.memberListener()\n\t\tif(this.userBoxesListener)\n\t\t\tthis.userBoxesListener()\n\t\tif(this.wodListener)\n\t\t\tthis.wodListener()\n\t\tif(this.gymClassListener){\n\t\t\tthis.gymClassListener()\n\t\t}\n\t}\n\n\thandleModalClose(){\n\t  \tthis.setState({showRemoveAlert:false})\n\t  }\n\n\thandleRemoveWod(wodInfo){\n\t\tthis.setState({\n\t\t\tshowRemoveAlert: true,\n\t\t\tcurRemovewodInfo: wodInfo\n\t\t})\n\t}\n\n\tdeleteWod(){\n\t\tthis.setState({showRemoveAlert: false})\n\n\t\tremoveWod(this.state.curRemovewodInfo)\n\t\t.then((res) => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Deleted workout!\"\n\t\t\t})\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n\t\t})\n\t}\n\n\n\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tlet filteredWods = this.state.wods.filter(wod =>{\n\t\t  return wod[\"title\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredWods: filteredWods})\n\t}\n\n\thandleEdit(info){\n\t\tif(!this.userBoxesListener)\n\t\t\tthis.getUserBoxListener()\n\t\tthis.setState({\n\t\t\teditWodInfo: info,\n\t\t\tshowEditModal: true\n\t\t})\n\t}\n\n\thandleEditModalClose(){\n\t\tthis.setState({showEditModal: false})\n\t}\n\n\tisOwner(){\n\t\treturn this.state.gymClassMD[\"uid\"] === this.state.userMD['uid']\n\t}\n\n\topenAdminInvite(){\n\t\tthis.setState({inviteModalOpen: true})\n\t}\n\n\topenMemberInvite(){\n\t\tthis.setState({inviteMemberModalOpen: true})\n\t}\n\n\tonInviteModalClose(){\n\t\tthis.setState({inviteModalOpen: false})\n\t}\n\n\tonInviteMemberModalClose(){\n\t\tthis.setState({inviteMemberModalOpen: false})\n\t}\n\n\n\n\topenViewAdmins(){\n\t\tthis.setState({showAdminList: true})\n\t}\n\n\topenViewMembers(){\n\t\tthis.setState({showMemberList: true})\n\t}\n\n\tcloseDetailView(){\n\t\tthis.setState({showAdminList: false,\n\t\t\tshowMemberList: false,\n\t\t\tshowAddWod: false\n\t\t})\n\t}\n\n\tisAdmin(){\n\t\treturn (this.state.isAdmin || this.isOwner()) && this.state.userMD\n\t}\n\n\tisMember(){\n\t\treturn (this.state.isMember || this.isAdmin()) && this.state.userMD\n\t}\n\t isOnlyMember(){\n\t\t return this.state.isMember && this.state.userMD && !this.isAdmin()\n\t }\n\n\n\t toggleShowAddWod(){\n\t\t this.setState({showAddWod: true})\n\t }\n\n  \trender(){\n\t \tlet sortableHeadersOwner = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t\t\t{id:\"title2\", sortable:true, label:\"\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t \tlet sortableHeadersUser = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t\t\t{id:\"title2\", sortable:true, label:\"\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t\t let viewMemberBtnSize = this.isOnlyMember()? 12: 6\n\n\t\treturn (\n\t\t <Grid item xs={12}>\n\n\t\t\t<React.Fragment>\n\t\t\t{\n\n\t\t\tisEmpty(this.state.userMD) || isEmpty(this.state.gymClassMD)\n\t\t\t?\n\t\t\t\t<React.Fragment>Loading</React.Fragment>\n\t\t\t:\n\t\t\t\tthis.state.gymClassMD.isPrivate && !this.isMember()\n\t\t\t\t?<Grid item xs={12} container>\n\t\t\t\t\t<Grid item xs={12} align=\"left\">\n\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} align=\"center\">\n\t\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t\t<Typography variant='h5'>This is a Private Class</Typography>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t:\n\t\t\t\tthis.state.showAdminList && this.isAdmin() ?\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<IconButton onClick={this.closeDetailView.bind(this)}\n\t\t\t\t\t\t\t\tstyle={{color: this.props.theme.palette.text.primary}}>\n\t\t\t\t\t\t\t\t<ArrowBackIos />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<ClassAdminList\n\t\t\t\t\t\t\t\tgymClassID={this.state.gymClassID}\n\t\t\t\t\t\t\t\tfilteredAdmins={this.state.admins}\n\t\t\t\t\t\t\t\tadmins={this.state.admins}\n\t\t\t\t\t\t\t\tisOwner={this.isAdmin()}\n\t\t\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t:\n\t\t\t\tthis.state.showMemberList && this.isMember()?\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<IconButton onClick={this.closeDetailView.bind(this)}\n\t\t\t\t\t\t\t\tstyle={{color: this.props.theme.palette.text.primary}}>\n\t\t\t\t\t\t\t\t<ArrowBackIos />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ClassMemberList\n\t\t\t\t\t\t\tgymClassID={this.state.gymClassID}\n\t\t\t\t\t\t\tfilteredMembers={this.state.members}\n\t\t\t\t\t\t\tmembers={this.state.members}\n\t\t\t\t\t\t\tisOwner={this.isAdmin()}\n\t\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t:\n\t\t\t\tthis.state.showAddWod?\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<IconButton onClick={this.closeDetailView.bind(this)}\n\t\t\t\t\t\t\t\tstyle={{color: this.props.theme.palette.text.primary}}>\n\t\t\t\t\t\t\t\t<ArrowBackIos />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<AddWodClass\n\t\t\t\t\t\t\tgymClassMD={this.state.gymClassMD}\n\t\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t:\n\t\t\t(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<BackButton />\n\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography align=\"center\" variant=\"h3\">\n\t\t\t\t\t\t\t{this.state.gymClassMD['title']}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography align=\"center\" variant=\"h6\">\n\t\t\t\t\t\t\t{this.state.gymClassMD['boxTitle']}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\n\n\t\t\t\t<Grid item container spacing={1} xs={12}\n\t\t\t\t\tstyle={{marginTop: \"16px\"}}>\n\t\t\t\t\t{this.isAdmin()  && this.state.gymClassMD.isPrivate ?\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"outlined\" style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonClick={ this.openAdminInvite.bind(this) }>\n\t\t\t\t\t\t\t\t\tInvite Admin\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"outlined\" style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonClick={ this.openViewAdmins.bind(this) }>\n\t\t\t\t\t\t\t\t\tView Admins\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<InviteAdminView\n\t\t\t\t\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\t\t\t\t\tgymClassMD={this.state.gymClassMD}\n\t\t\t\t\t\t\t\t\tonModalClose={this.onInviteModalClose.bind(this)}\n\t\t\t\t\t\t\t\t\tmodalOpen={this.state.inviteModalOpen}\n\t\t\t\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t\t:\n\t\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t\t}\n\n\t\t\t\t\t{ this.isMember() && this.state.gymClassMD.isPrivate?\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t{!this.isOnlyMember() ?\n\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"outlined\" style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.openMemberInvite.bind(this) }>\n\t\t\t\t\t\t\t\t\t\t\tInvite Member\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<React.Fragment></React.Fragment>\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<Grid item xs={viewMemberBtnSize}>\n\t\t\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"outlined\" style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\tonClick={ this.openViewMembers.bind(this) }>\n\t\t\t\t\t\t\t\t\t\tView Members\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<InviteMemberView\n\t\t\t\t\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\t\t\t\t\tgymClassMD={this.state.gymClassMD}\n\t\t\t\t\t\t\t\t\tonModalClose={this.onInviteMemberModalClose.bind(this)}\n\t\t\t\t\t\t\t\t\tmodalOpen={this.state.inviteMemberModalOpen}\n\t\t\t\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t:\n\t\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t\t}\n\n\t\t\t\t\t{this.isAdmin() && this.state.gymClassMD?\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tonClick={this.toggleShowAddWod.bind(this)}>\n\t\t\t\t\t\t\tAdd Workout\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t:\n\t\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t\t<Paper elevation={6} style={{padding: \"8px\"}}>\n\t\t\t\t\t<SearchSortTable\n\t\t\t\t\t\trows = {this.state.wods}\n\t\t\t\t\t\tfilteredRows={this.state.wods}\n\t\t\t\t\t\theaders={this.isOwner()? sortableHeadersOwner: sortableHeadersUser}\n\t\t\t\t\t\thandleRemove={this.handleRemoveWod.bind(this)}\n\t\t\t\t\t\thandleEdit={this.handleEdit.bind(this)}\n\t\t\t\t\t\tshowOwnerBtns={this.isAdmin()}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n\t\t\t\t<ActionCancelModal\n\t\t\t\t\topen={this.state.showRemoveAlert}\n\t\t\t\t\tonClose={this.handleModalClose.bind(this)}\n\t\t\t\t\tonAction={this.deleteWod.bind(this)}\n\t\t\t\t\tmodalText={ `Remove ${this.state.curRemovewodInfo.title}?`}\n\t\t\t\t\tactionText={\"Delete\"}\n\t\t\t\t\tcancelText={\"Cancel\"}\n\t\t\t\t/>\n\n\t\t\t\t<EditWod\n\t\t\t\t\topen={this.state.showEditModal}\n\t\t\t\t\tonClose={this.handleEditModalClose.bind(this)}\n\t\t\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\t\t\twodInfo={this.state.editWodInfo}\n\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t/>\n\t\t\t</Grid>\n\t\t)\n\t\t}\n\t</React.Fragment>\n\t</Grid>)\n  }\n}\n\nexport default GymClassView = withTheme(GymClassView);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport Chart from 'chart.js';\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport \"../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass LineChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: props.stats // mean, median, SD\n\t\t}\n\t}\n\t\n\tcomponentDidMount(){\n\t\tthis.createChart()\n\t}\n\n\tcreateChart(){\n\t\tthis.ctx = document.getElementById('lineChart');\n\t\t\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\t\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.lineChart){\n\t\t\tthis.lineChart.destroy()\n\t\t}\n\t\t\n\t\tthis.lineChart = new Chart(this.ctx, {\n\t\t    type: 'line',\n\t\t    \n\t\t    data:  {\n\t\t    \tlabel: \"Scores\",\n\t\t\t    datasets: [{\n\t\t\t    \tlabel: \"Score\",\n\t\t\t        barPercentage: 0.5,\n\t\t\t        barThickness: 6,\n\t\t\t        maxBarThickness: 8,\n\t\t\t        minBarLength: 2,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: this.state.data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tscales: {\n\t\t            yAxes: [{\n\t\t                ticks:{\n\t\t                \tcallback: (label, index, labels) => {\n\t\t\t                \tif(this.state.scoreType === \"time\"){\n\t\t\t                \t\treturn cvtIntToTime(label)\n\t\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t\t                \t\treturn label\n\t\t\t                \t}\n\t\t\t                }\n\t\t\t             }\n\t\t            }]\n\t\t\t    },\n\t\t\t    tooltips: {\n\t\t\t        callbacks: {\n\t\t\t        \ttitle: (tooltipItem, data) => {\n\n\t\t\t        \t},\n\t\t\t            label: (tooltipItem, data) => {\n\t\t\t                var label = data.datasets[tooltipItem.datasetIndex].label || '';\n\n\t\t\t                if (label) {\n\t\t\t                    label += ': ';\n\t\t\t                }\n\n\t\t\t                if(this.state.scoreType === \"time\"){\n\t\t                \t\tlabel += cvtIntToTime(tooltipItem.yLabel)\n\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t                \t\tlabel += tooltipItem.yLabel\n\t\t                \t}\n\t\t\t                \n\t\t\t                \n\t\t\t                return label;\n\t\t\t            }\n\t\t\t        }\n\t\t\t    },\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t},\n\t\t\tplugins: [{\n\t\t\t\tbeforeInit: function(chart) {\n\t\t\t\t\tvar chartData = chart.data.datasets[0].data\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\tcomponentDidUpdate(){\n\t\tthis.createChart()\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n  render(){\n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div style={{width: \"92vw\", padding: \"8px\"}}>\n\t\t\t\t\t<canvas id=\"lineChart\" ></canvas>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\n\n\n\n  \nexport default LineChart = withTheme(LineChart);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\nimport \"../styles.css\"\n\nimport Chart from 'chart.js';\n\n\n\nvar db = firebase.database();\n\nclass BarChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: {} // mean, median, SD\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\tconsole.log(props)\n\t\tconsole.log(state)\n\t\treturn props\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.createChart(this.binData(this.state.values))\n\t}\n\n\tcomponentDidUpdate(){\n\t\tconsole.log(this.state)\n\t\tthis.createChart(this.binData(this.state.values))\n\t}\n\n\tcreateChart([labels, data]){\n\t\tthis.ctx = document.getElementById('barChart');\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.barChart){\n\t\t\tthis.barChart.destroy()\n\t\t}\n\t\tthis.barChart = new Chart(this.ctx, {\n\t\t    type: 'bar',\n\t\t    data:  {\n\t\t    \tlabels: labels,\n\t\t\t    datasets: [{\n\t\t\t    \t'label': \"Scores (Standard Deviation)\",\n\t\t\t        minBarLength: 1,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t}\n\t\t});\n\t\tthis.barChart.update()\n\t}\n\n\tformat(x){\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\treturn x <= 0 ? 0 : cvtIntToTime(x)\n\t\t}else if(this.state.scoreType === \"reps\"){\n\t\t\treturn parseFloat(x)\n\t\t}\n\t}\n\n\tcreateLabels(_mean, sd){\n\t\tlet bins = []\n\n\t\tfor(let i=0; i<3; i++){\n\t\t\tlet binA = `${this.format(_mean - (sd * (i + 1)))} - ${this.format(_mean - (sd * i))}`\n\t\t\tlet binB = `${this.format(_mean + (sd * i))} - ${this.format(_mean + (sd * (i + 1)))}`\t\n\t\t\tbins.unshift(binA)\n\t\t\tbins.push(binB)\n\t\t}\n\t\treturn bins\n\t}\n\n\tbinData(values){\n\t\t/*\n\t\t\t{x: binValue, y: countOfbin}\n\t\t\t6 bins 1,2,3 SD from Mean each way\n\t*/\n\t\tlet sd = standardDeviation(values)\n\t\tlet _mean = mean(values)\n\t\tlet labels = this.createLabels(_mean, sd)\n\t\tlet binnedData = [0, 0, 0, 0, 0, 0]\n\t\tfor(let x of values){\n\t \t\tlet diff = (x - _mean)\n\t \t\tlet numSDAway = Math.floor(diff / sd)\t \t\t\n\t \t\tif(Math.abs(numSDAway) <= 1){\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[3]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[2]++\n\t \t\t\t}\n\t \t\t}else if(Math.abs(numSDAway) <= 2){\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[4]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[1]++\n\t \t\t\t}\n\t \t\t} else{\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[5]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[0]++\n\t \t\t\t}\n\t \t\t}\n\t\t}\n\t\treturn [labels, binnedData]\n\t}\n\n  render(){\n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div style={{width: \"92vw\", padding: \"8px\"}}>\n\t\t\t\t\t<canvas id=\"barChart\"></canvas>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\nexport default BarChart = withTheme(BarChart);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport LineChart from \"../lineChart\"\nimport BarChart from \"../barChart\"\n\nimport {cvtTimetoInt, cvtIntToTime, cvtTimetoIntList} from \"../../utils/formatting\"\nimport \"../../styles.css\"\n\nfunction transformData(scores){\n\t/*\n\t\tcreate two arrays\n\t\tOne for data display in graph, \n\t\t\t\t[ {\"category\": \"A\", \"amount\": 28}, ... ]\n\t\tSecond to crunch data, raw values\n\t\t\tkey\t=> uid\n\t\t\t\tboxID: \t\t\"-MMVcVjihF2bXFc6qIEp\"\n\t\t\t\tscore:  \t\"321\"\n\t\t\t\tusername:  \t\"TestOwner\"\n\t\t\t\twodID:  \t\"-MMjP1_MQH23dnFQOfjR\"\n\t*/\n\tlet graphData = []\n\tlet scoreType = \"\"\n\tlet values = scores.map(score => {\n\t\tscoreType = score.scoreType\n\t\treturn (score.scoreType === \"time\") ? cvtTimetoInt(score.score)\n\t\t\t: parseFloat(score.score)\n\t})\n\t\n\t// create data list for chart \n\tfor(let i =0; i < values.length; i++){\n\t\t graphData.push({\"x\": i, \"y\": values[i], \"c\": 0})\n\t}\n\treturn [graphData, values, scoreType, getDescStats(values)]\n}\n\nfunction getDescStats(vals){\n\t console.log(vals)\n\treturn {\n\t\t'min': Math.min(...vals),\n\t\t'max': Math.max(...vals),\n\t\t'mean': mean(vals),\n\t\t'median': median(vals),\n\t\t'sd': standardDeviation(vals)\n\t}\n}\n\nclass ScoreDataView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores, // array of objects\n\t\t\tgraphData: [],\n\t\t\trawScores: [],\n\t\t\tscoreType: \"\",\n\t\t\tstats: {}\n\t\t}\t\t\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\t\t\n\t\tlet data = transformData(props.scores)\n\t\tlet [graphData, rawScores, scoreType, stats] = data\n\n\t\treturn {...props,\n\t\t\tgraphData: graphData, \n\t\t\trawScores: rawScores, \n\t\t\tscoreType: scoreType, \n\t\t\tstats: stats\n\t\t}\n\t}\n\n\tcomponentDidUpdate(){\n\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n\t\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<Grid item container align=\"center\" spacing={1} xs={12}>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tLow: {this.state.scoreType === \"time\" ? \n\t\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"min\"])\n\t\t\t\t\t\t\t\t: this.state.stats[\"min\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tHigh: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"max\"])\n\t\t\t\t\t\t\t: this.state.stats[\"max\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\tAvg: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"mean\"])\n\t\t\t\t\t\t\t: this.state.stats[\"mean\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t</Grid> \n\n\t\t\t\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<LineChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType}\n\t\t\t\t\t\tstats={this.state.stats} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BarChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType}\n\t\t\t\t\t\tstats={this.state.stats} />\n\t\t\t\t</Grid>\n\n\n\n\t\t</Grid>\n\t)\n  }\n}\nexport default ScoreDataView = withTheme(ScoreDataView);\n\n","import React, { Component } from 'react'\n\nimport\n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tCardActions, Card, CardContent, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n}\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab'\nimport { withTheme } from '@material-ui/core/styles'\nimport Delete from '@material-ui/icons/Delete'\n\n\n\nimport \"../../styles.css\"\n\nclass ScoreList extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores,\n\t\t\tuid: props.uid\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n  render(){\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Username</TableCell>\n\t\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map((score, i) => {\n\t\t\t\t\t\tlet isCurUserScore =\n\t\t\t\t\t\t\t(this.state.uid == score[\"uid\"])? true : false\n\t\t\t\t\t\treturn <ScoreRow key={i}\n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\tonRemove = {this.props.onRemove}\n\t\t\t\t\t\t\tisUserScore={isCurUserScore}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t</TableContainer>\n\t\t\t:\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t  <CardContent>\n\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t   \tNo Scores!\n\t\t\t\t    </Typography>\n\t\t\t\t   </CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\n\nexport default ScoreList = withTheme(ScoreList);\n\n\n/*\nShow details of Box and its WODS\n*/\nfunction ScoreRowRaw(props){\n\tlet score = props.info[\"score\"]\n\tlet username = props.info[\"username\"]\n\tlet wodID = props.info[\"wodID\"]\n\tlet uid = props.info[\"uid\"]\n\tlet scoreID = props.info[\"scoreID\"]\n\tlet rowStyle = (props.isUserScore)? \"\": \"\"\n\treturn(\n\t\t<TableRow selected={props.isUserScore}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{username}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{score}\n\t\t\t\t</TableCell>\n\t\t\t\t{\n\t\t  \t\t\tprops.isUserScore\n\t\t  \t\t\t?\n\t\t\t  \t\t<TableCell align=\"right\">\n\t\t\t\t\t    <Button size=\"small\"\n\n\t\t\t\t\t    \tonClick={() => props.onRemove(props.info)}>\n\t\t\t\t\t    \t<Delete color=\"error\"  />\n\t\t\t\t\t    </Button>\n\t\t\t  \t\t</TableCell>\n\t\t\t  \t\t:\n\t\t\t  \t\t<TableCell></TableCell>\n\n\t\t  \t\t}\n\t\t</TableRow>\n\t)\n}\nlet ScoreRow =  withTheme(ScoreRowRaw)","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableBody, Table, Modal, TableCell\n}\nfrom '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\n\n\nimport { setScore } from \"../../utils/firestore/scores\"\nimport \"../../styles.css\"\n\n\n\nconst BorderlessTableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TableCell)\n\n\nvar db = firebase.database();\n\nclass AddScore extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\twodMD: props.wodMD\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\tobjListToArray(obj){\n\t\t// let key = Object.keys(obj)[0]\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\tisNumInSane(s){\n\t\tlet hasNonDigitRegex = /\\D/\n\t\tlet res = s.search(hasNonDigitRegex)\n\t\tlet isSane = (res === -1) ? true: false\n\t\treturn isSane\n\t}\n\n\thandleAddScore(){\n\t\tif(!this.state.userMD){return}\n\n\t\tlet userScore = \"\"\n\t\tif(this.state.wodMD['scoreType'] === \"time\"){\n\t\t\tlet mins =  document.getElementById(\"scoreViewUserScoreMins\").value\n\t\t\tlet secs =  document.getElementById(\"scoreViewUserScoreSecs\").value\n\t\t\tif(!this.isNumInSane(mins) || !this.isNumInSane(secs)){\n\t\t\t\talert(`Time must only contain numbers, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) > 59){\n\t\t\t\talert(`Seconds must be 59 or below, entered: ${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) < 10 && secs.length === 1){\n\t\t\t\tsecs = `0${secs}`\n\t\t\t}\n\t\t\tif(isNaN(parseInt(secs)) ||  isNaN(parseInt(mins))){\n\t\t\t\talert(`Missing field, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length > 2){\n\t\t\t\talert(`Minutes must be 99 or below, entered: ${mins}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length === 0){\n\t\t\t\tmins = \"0\"\n\t\t\t}\n\t\t\tif(secs.length === 0){\n\t\t\t\tsecs = \"0\"\n\t\t\t}\n\t\t\tuserScore = `${mins}:${secs}`\n\t\t}else{\n\t\t\t// reps or rounds\n\t\t\tuserScore =  document.getElementById(\"scoreViewUserScore\").value\n\t\t\tif(userScore.length > 3){\n\t\t\t\talert(`Score must be 3 digits or less, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!userScore){\n\t\t\t\talert(\"Must enter score.\")\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!this.isNumInSane(userScore)){\n\t\t\t\talert(`Score must be digits only, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tlet username = this.state.userMD.username\n\t\tlet uid = this.state.userMD.uid\n\t\tlet wodID = this.state.wodMD[\"wodID\"]\n\t\tlet owner = this.state.wodMD[\"owner\"]\n\t\tlet gymClassID = this.state.wodMD[\"gymClassID\"]\n\t\tlet boxID = this.state.wodMD[\"boxID\"]\n\t\tlet title = this.state.wodMD[\"title\"]\n\t\tlet scoreType = this.state.wodMD[\"scoreType\"]\n\n\t\tif(!title || !boxID || !gymClassID || !wodID || !owner || !uid || !username || !userScore || !scoreType){\n\t\t\tconsole.log(\"Score info not found: \")\n\t\t\tconsole.log(title, boxID, gymClassID, wodID, owner, uid, username, userScore, scoreType)\n\t\t}\n\n\t\tsetScore(title, boxID, gymClassID, wodID, owner, uid, username, userScore, scoreType)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tstyle={{background: this.props.theme.palette.primary.mainGrad}}\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls=\"additional-actions2-content\"\n\t\t\t\t\tid=\"additional-actions2-header\">\n\t\t\t\t\t<Typography >\n\t\t\t\t\t\tAdd Score\n\t\t\t\t\t</Typography>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{this.state.wodMD['scoreType']\n\t\t\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t\tthis.state.wodMD['scoreType'][0],\n\t\t\t\t\t\t\t\t\tthis.state.wodMD['scoreType'][0].toUpperCase())\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t{this.state.wodMD.scoreType === \"time\" ?\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t<BorderlessTableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"scoreViewUserScoreMins\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8}}\n\t\t\t\t\t\t\t\t\t\t\t\tpattern=\"[0-9]{3}\"\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"Numbers only, max length 3\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"Minutes\"\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</BorderlessTableCell>\n\t\t\t\t\t\t\t\t\t\t<BorderlessTableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"scoreViewUserScoreSecs\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8}}\n\t\t\t\t\t\t\t\t\t\t\t\tpattern=\"[0-9]{2}\"\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"Numbers only, max length 2\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"Seconds\"\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</BorderlessTableCell>\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<BorderlessTableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tid=\"scoreViewUserScore\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8}}\n\t\t\t\t\t\t\t\t\t\t\tpattern=\"[0-9]{4}\"\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"Numbers only, max length 4\",\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"Score\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</BorderlessTableCell>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<BorderlessTableCell colSpan={3} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Button  color=\"primary\" style={{width: \"100%\"}} variant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAddScore.bind(this)}>\n\t\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</BorderlessTableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</Grid>\n\t)\n  }\n}\n\n\nexport default AddScore = withTheme(AddScore);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport\n{   Grid, Paper, Button, Typography\n}\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { DateTime } from 'luxon'\n\nimport ScoreDataView from \"./scoreDataView\"\nimport ScoreList from \"./scoreList\"\nimport AddScore from \"./addScore\"\nimport ActionCancelModal from \"../actionCancelModal\"\nimport BackButton  from \"../backButton\"\n\nimport { getWodScores, removeScore } from \"../../utils/firestore/scores\"\nimport { getWod } from \"../../utils/firestore/wods\"\nimport { isEmpty } from \"../../utils/valid\"\n\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nfunction RenderWodTextRaw(props){\n  let lines = props.wodText.split(\"\\n\")\n  return(\n    <Grid item xs={12}>\n      {\n        lines.map((line, i) => {\n          return(\n            <Grid item xs={12} key={i}>\n              <Typography>\n                {line? line: <br/>}\n              </Typography>\n            </Grid>\n          )\n        })\n      }\n    </Grid>\n  )\n}\n\nconst RenderWodText = withTheme(RenderWodTextRaw)\n\nclass ScoreView extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD,\n      boxID: props.boxID,\n      gymClassID: props.gymClassID,\n      wodID: props.wodID,\n      wodMD: {},\n      scores: [],\n      userScore: {},\n      curRemoveScore: {},\n      showRemoveAlert: false\n    }\n  }\n\n  componentDidMount(){\n\n\n    let fs = firebase.firestore()\n\n    this.wodListener = getWod(this.state.boxID, this.state.gymClassID, this.state.wodID)\n    .onSnapshot(ss => {\n      this.setState({wodMD: ss.data()})\n    },\n      err => {console.log(err)})\n\n      console.log(\"PreTest\")\n    this.scoreListener = getWodScores(this.state.boxID, this.state.gymClassID, this.state.wodID)\n    .onSnapshot(ss => {\n      console.log(ss)\n      console.log(\"Test\")\n      if(!ss.empty){\n        let scores = []\n        let userScore = {}\n        let scoreType = \"\"\n\n        ss.forEach(doc => {\n          let data = doc.data()\n          scores.push(data)\n          scoreType = data.scoreType\n          if(data.uid === this.state.uid)\n            userScore = data\n        })\n        let isTime = (scoreType && scoreType === \"time\") ? 1 : 0\n        scores.sort((a,b) => {\n          return isTime\n          ?\n              parseFloat(a[\"score\"]) < parseFloat(b[\"score\"]) ? -1 : 1\n          :\n             parseFloat(a[\"score\"]) > parseFloat(b[\"score\"]) ? 1 : -1\n        })\n        this.setState({\n          scores: scores,\n          userScore: userScore\n        })\n      }else{\n        this.setState({\n          scores: [],\n          userScore: {}\n        })\n      }\n    },\n      err => { console.log(err)})\n  }\n\n\n  getWodListener(){\n    let fs = firebase.firestore()\n\n    this.wodListener = getWod(this.state.wodMD.boxID, this.state.gymClassID, this.state.wodID)\n    .onSnapshot(ss => {\n      this.setState({wodMD: ss.data()})\n    },\n      err => {console.log(err)})\n\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  componentWillUnmount(){\n    if(this.scoreListener !== undefined)\n      this.scoreListener()\n    if(this.wodListener !== undefined)\n      this.wodListener()\n  }\n\n  handleModalClose(){\n    this.setState({showRemoveAlert:false})\n  }\n\n  handleRemoveScore(score){\n    this.setState({curRemoveScore: score, showRemoveAlert: true})\n  }\n\n  removeScore(){\n    let score = this.state.curRemoveScore\n\n    if(isEmpty(score)){\n      this.props.onAlert({\n        type: \"error\",\n        message: \"Invalid score\"\n      })\n      return\n    }\n\n    this.setState({showRemoveAlert: false})\n    removeScore( score.boxID, score.gymClassID, score.wodID, score.uid, score.scoreID)\n    .then((res)=>{\n      this.props.onAlert({\n        type: \"success\",\n        message: res\n      })\n    })\n    .catch((err)=>{\n      this.props.onAlert({\n        type: \"error\",\n        message: err.message\n      })\n    })\n  }\n\n  render(){\n\n   let date = this.state.wodMD && this.state.wodMD.date?  DateTime.fromMillis(this.state.wodMD.date) : {monthLong: \"\", day: \"\", year:\"\"}\n\n\n  return(\n    <Grid  item xs={12}>\n      <BackButton />\n      {Object.keys(this.state.wodMD).length > 0 ?\n        <Grid item xs={12}>\n          <Grid item align=\"center\" xs={12}>\n            <Paper elevation={6}>\n            <Typography>{this.state.wodMD[\"boxTitle\"]}</Typography>\n            <Typography>{this.state.wodMD[\"gymClassTitle\"]}</Typography>\n              <Typography>{this.state.wodMD[\"title\"]}</Typography>\n              <Typography\n                variant=\"subtitle1\"\n                color=\"primary\">\n                  For {this.state.wodMD[\"scoreType\"]}\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color=\"secondary\">\n                  {date.monthLong} {date.day}, {date.year}\n              </Typography>\n            </Paper>\n          </Grid>\n\n          <Grid item xs={12}>\n            <Paper elevation={6} style={{\n                margin: \"8px 0px 8px 0px\",\n                padding: \"8px\"\n            }}>\n            <Grid item xs={12} align=\"center\">\n            <Typography\n                variant=\"subtitle2\"\n                color=\"primary\">\n                  Workout\n              </Typography>\n            </Grid>\n            <Grid item container xs={12}>\n              <RenderWodTextRaw\n                wodText={this.state.wodMD[\"wodText\"]}\n              />\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {Object.keys(this.state.userMD).length > 0?\n            <AddScore\n              userMD={this.state.userMD}\n              wodMD={this.state.wodMD}\n            />\n          :\n            <React.Fragment></React.Fragment>\n          }\n          <Grid item xs={12} margin={{marginTop: \"16px\"}}>\n              {this.state.scores && this.state.scores.length > 0?\n                <ScoreDataView\n                  scores={this.state.scores}\n                />\n              :\n                <React.Fragment></React.Fragment>\n              }\n          </Grid>\n          <Grid item xs={12}>\n            <Paper elevation={6}>\n            <ScoreList\n              scores={this.state.scores}\n              uid={this.state.userMD.uid}\n              onRemove={this.handleRemoveScore.bind(this)}\n            />\n            </Paper>\n          </Grid>\n          <ActionCancelModal\n            open={this.state.showRemoveAlert}\n                onClose={this.handleModalClose.bind(this)}\n                onAction={this.removeScore.bind(this)}\n                modalText={`Remove score: ${this.state.curRemoveScore.username} (${this.state.curRemoveScore.score})?`}\n                actionText={`Remove`}\n                cancelText={`Cancel`}\n            />\n          </Grid>\n        :\n          <Grid item xs={12}>\n            <Paper elevation={6}>\n              <Typography>\n                Wod not found!\n              </Typography>\n            </Paper>\n          </Grid>\n      }\n    </Grid>\n  )\n  }\n}\n\nexport default ScoreView = withTheme(ScoreView);\n\n\n","import React, { Component } from 'react'\n\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n}\nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"./boxView\"\nimport BoxSearch from \"./boxSearch\"\nimport { removeBox } from \"../../utils/firestore/boxes\"\nimport ActionCancelModal from \"../actionCancelModal\"\n\nimport \"../../styles.css\"\n\nclass BoxListAccordion extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes,\n      currentBoxID: \"\",\n      showRemoveAlert: false,\n      curRemoveBoxID: \"\",\n      curRemoveBoxTitle: \"\"\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n\t  console.log(props)\n    return props\n  }\n\n  componentWillUnmount(){\n  \tconsole.log(\"Component will unmount\")\n  }\n\n  handleRemoveBox(boxID, boxTitle){\n  \tthis.setState({\n  \t\tshowRemoveAlert: true,\n  \t\tcurRemoveBoxID: boxID,\n  \t\tcurRemoveBoxTitle: boxTitle\n  \t})\n  }\n\n  handleModalClose(){\n  \tthis.setState({showRemoveAlert:false})\n  }\n\n  deleteBox(){\n\tthis.handleModalClose()\n\tconsole.log(\"removing box: \", this.state.curRemoveBoxID)\n  \tremoveBox(this.state.curRemoveBoxID)\n  \t.then((res)=>{\n  \t\tthis.props.onAlert({\n\t\t\t  type: \"success\",\n\t\t\t  message: \"Removed gym!\"\n\t\t  })\n  \t})\n  \t.catch((err)=>{\n\t\tthis.props.onAlert({\n\t\t\ttype: \"error\",\n\t\t\tmessage: err\n\t\t})\n\t})\n  }\n\n  render(){\n\treturn(\n\t\t<Grid item xs ={12}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t{\n\t\t\t\t\tthis.state.userBoxes.length > 0\n\t\t\t\t?\n\t\t\t\t\t<BoxSearch\n\t\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t\t\tallBoxes = {this.state.userBoxes}\n\t\t\t\t\t\tfilteredBoxes={this.state.userBoxes}\n\t\t\t\t\t\thandleRemoveBox={this.handleRemoveBox.bind(this)}\n\t\t\t\t\t\tisOwner = {true}\n\t\t\t\t\t\tonAlert={this.props.onAlert}\n\t\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t\t<Grid item zeroMinWidth xs={12}>\n\t\t\t\t\t\t<Paper elevation={4} style={{padding: \"1vw\"}}>\n\t\t\t\t\t\t\t<Typography noWrap align=\"left\">No gyms Found!</Typography>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t\t<ActionCancelModal\n\t\t\t\topen={this.state.showRemoveAlert}\n\t\t\t\tonClose={this.handleModalClose.bind(this)}\n\t\t\t\tonAction={this.deleteBox.bind(this)}\n\t\t\t\tmodalText={ `Remove ${this.state.curRemoveBoxTitle} (${this.state.curRemoveBoxID})`}\n\t\t\t\tactionText={\"Remove\"}\n\t\t\t\tcancelText={\"Cancel\"}\n\t\t\t/>\n\t\t</Grid>\n\t)\n  }\n}\n\nexport default BoxListAccordion = withTheme(BoxListAccordion);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\n\nimport React, { Component } from 'react'\n\nimport\n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tTableRow, TableHead, TableContainer,\n\tTableBody, Table, Checkbox\n}\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { setGymClass } from \"../../utils/firestore/gymClass\"\n\nlet fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddGymClass extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes,\n\t  title: \"\",\n\t  box: props.userBoxes[0],\n\t  isPrivate: false\n    }\n  }\n\n  componentDidMount(){\n  }\n\n\n  static getDerivedStateFromProps(props, state){\n\treturn {...props,  box: props.userBoxes[0]}\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n      this.createGymClass()\n    }\n  }\n\n  createGymClass(){\n\tlet title = this.state.title\n\tlet box = this.state.box\n\tlet isPrivate = this.state.isPrivate\n\n\tif(!title || !box || isPrivate === null){\n\t\tconsole.log(\"Error adding class: \")\n\t\tconsole.log(title, this.props.userMD.uid, isPrivate)\n\t\tconsole.log(box)\n\t\treturn\n\n\t}\n\n\tsetGymClass(title, this.props.userMD.uid, box.boxID, box.title, isPrivate, box.uid)\n\t.then((res)=>{\n\t\tthis.props.onAlert({\n\t\t\ttype: \"success\",\n\t\t\tmessage: \"Added class!\"\n\t\t})\n\t})\n\t.catch((err)=>{\n\t  this.props.onAlert({\n\t\t  type: \"error\",\n\t\t  message: err\n\t  })\n\t})\n  }\n\n  handleCheckboxChange(ev){\n\t  let checked = ev.target.checked\n\t  this.setState({isPrivate: checked})\n  }\n\n  onTitleChange(ev){\n\t  console.log(ev.target.value)\n\tthis.setState({title: ev.target.value})\n  }\n\n  onSelectChange(ev){\n\tconsole.log(ev.target.value)\n\tthis.setState({box: JSON.parse(ev.target.value)})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12}>\n\t\t\t<Table>\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tGym\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\tonChange={this.onSelectChange.bind(this)}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tname: 'Box',\n\t\t\t\t\t\t\t\t\tid: 'addGymClassBox'\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{this.state.hasBoxes ?\n\t\t\t\t\t\t\t\t\tthis.state.userBoxes.map((box, i) => {\n\t\t\t\t\t\t\t\t\t\treturn (<option key={i} value={JSON.stringify(box)} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{box[\"title\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Title</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"addGymClassTitle\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tpattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t\t\t\tonChange={this.onTitleChange.bind(this)}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\ttitle: \"Letters only, max length 35\",\n\t\t\t\t\t\t\t\tplaceholder: \"Name of class\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonKeyUp={this.onKeyUp.bind(this) }\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Private</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tchecked={this.state.isPrivate}\n\t\t\t\t\t\t\tonChange={this.handleCheckboxChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" color=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={ () => { this.createGymClass()} } >\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n  \t\t</Grid>\n    )\n  }\n}\n\nexport default AddGymClass = withTheme(AddGymClass);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, TableRow, TableHead, TableContainer,\n  \tTableBody, Table\n}\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles'\n\nimport { setWod } from \"../../utils/firestore/wods\"\nimport { getGymClasses } from \"../../utils/firestore/gymClass\"\n\nlet fs = firebase.firestore()\nconst SCORETYPES = [\"reps\", \"rounds\", \"time\", \"total\"]\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\tgymClasses: [],\n\t\t\tbox: props.userBoxes[0],\n\t\t\tgymClass: {},\n\t\t\ttitleForm: \"\",\n\t\t\tscoreTypeForm: SCORETYPES[0],\n\t\t\twodTextForm: \"\"\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn {...props,  box: props.userBoxes[0]}\n\t}\n\n\tcomponentDidUpdate(){\n\t\tif(!this.gymClassListener && this.state.userBoxes && this.state.userBoxes.length > 0){\n\t\t\tthis.setGymClassListner(this.state.userBoxes[0].boxID)\n\t\t}\n\t}\n\n\tsetGymClassListner(boxID){\n\t\tthis.gymClassListener = getGymClasses(boxID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(!ss.empty){\n\t\t\t\tlet classes = []\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tclasses.push(doc.data())\n\t\t\t\t})\n\t\t\t\tlet initClass = classes[0]\n\t\t\t\tthis.setState({\n\t\t\t\t\tgymClasses: classes,\n\t\t\t\t\tgymClass: initClass\n\t\t\t\t})\n\n\t\t\t}else{\n\t\t\t\tthis.setState({gymClasses: []})\n\t\t\t}\n\t\t},\n\t\terr => {console.log(err)})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.gymClassListener){\n\t\t\tthis.gymClassListener()\n\t\t}\n\t}\n\n\tonBoxSelectChange(ev){\n\t\tlet box = JSON.parse(ev.target.value)\n\t\tif(this.gymClassListener){\n\t\t\tthis.gymClassListener()\n\t\t}\n\t\tthis.setGymClassListner(box.boxID)\n\t\tthis.setState({box: box})\n\t}\n\n\tonClassSelectChange(ev){\n\t\tlet gymClass = JSON.parse(ev.target.value)\n\t\tthis.setState({gymClass: gymClass})\n\t}\n\n\tonTitleChange(ev){\n\t\tlet title = ev.target.value\n\t\tthis.setState({titleForm: title})\n\t}\n\n\tonScoreTypeSelectChange(ev){\n\t\tlet scoreType = ev.target.value\n\t\tthis.setState({scoreTypeForm: scoreType})\n\t}\n\n\tonWodTextChange(ev){\n\n\t\tlet wodText = ev.target.value\n\t\tthis.setState({wodTextForm: wodText})\n\t}\n\n\tcreateWOD(){\n\n\t\tif(!this.state.box || !this.state.gymClass)\n\t\t\treturn\n\n\t  \tlet boxID = this.state.box.boxID\n\t\tlet owner = this.state.box.uid\n\t\tlet boxTitle = this.state.box.title\n\t  \tlet gymClassID = this.state.gymClass.gymClassID\n\t\tlet isPrivate = this.state.gymClass.isPrivate\n\n\t\tlet classTitle = this.state.gymClass.title\n\t  \tlet title = this.state.titleForm\n\t  \tlet scoreType = this.state.scoreTypeForm\n\t  \tlet wodText = this.state.wodTextForm\n\n\t  \tif(!boxID || !gymClassID || !title || !scoreType || !wodText || !owner || !classTitle || isPrivate === undefined){\n\t  \t\tconsole.log(\"Error with input createWod\")\n\t  \t\tconsole.log(boxID, gymClassID, title, scoreType, wodText, owner, classTitle, isPrivate)\n\t  \t\treturn\n\n\t  \t}\n\n\t\tsetWod(title, boxID, gymClassID, owner, boxTitle, classTitle, scoreType, wodText, isPrivate)\n\t  \t.then((res)=>{\n\t\t\tthis.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Added workout!\"\n\t\t\t})\n\t\t})\n\t\t.catch((err)=>{\n\t\t  this.props.onAlert({\n\t\t\t  type: \"error\",\n\t\t\t  message: err.message\n\t\t  })\n\t \t })\n\n\t  }\n\n\n\n\trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n\t\t\t\t<TableContainer>\n\n\t\t\t\t\t<Table>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tBox\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonChange={this.onBoxSelectChange.bind(this)}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'Box',\n\t\t\t\t\t\t\t\t\t\tid: 'ownerBoxAddWodBoxID'}}>\n\t\t\t\t\t\t          \t{this.state.hasBoxes ?\n\t\t\t\t\t\t\t          \tthis.state.userBoxes.map((box, i) => {\n\t\t\t\t\t\t        \t\t\treturn (<option key={i} value={JSON.stringify(box)} >\n\t\t\t\t\t\t        \t\t\t\t\t\t\t\t{box[\"title\"]}\n\t\t\t\t\t\t        \t\t\t\t\t\t\t</option>)\n\t\t\t\t\t\t        \t\t})\n\t\t\t\t\t\t        \t:\n\t\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t\t          }\n\t\t\t\t      \t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tClass\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonChange={this.onClassSelectChange.bind(this)}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'gymClass',\n\t\t\t\t\t\t\t\t\t\tid: 'AddWodGymClassID'}}>\n\t\t\t\t\t\t          \t{this.state.gymClasses.length > 0 ?\n\t\t\t\t\t\t\t          \tthis.state.gymClasses.map((gymClass, i) => {\n\t\t\t\t\t\t        \t\t\treturn (<option key={i} value={JSON.stringify(gymClass)} >\n\t\t\t\t\t\t        \t\t\t\t\t\t\t\t{gymClass[\"title\"]}\n\t\t\t\t\t\t        \t\t\t\t\t\t\t</option>)\n\t\t\t\t\t\t        \t\t})\n\t\t\t\t\t\t        \t:\n\t\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No Classes!</option>\n\t\t\t\t\t\t          }\n\t\t\t\t      \t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tScore Type\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonChange={this.onScoreTypeSelectChange.bind(this)}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'Score Type',\n\t\t\t\t\t\t\t\t\t\tid: 'ownerBoxAddWodScoreType',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tSCORETYPES.map((scoreType, i) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={scoreType}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ scoreType.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscoreType[0],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscoreType[0].toUpperCase()) }\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t              id=\"ownerBoxAddWodTitle\"\n\t\t\t\t\t              type=\"text\"\n\t\t\t\t\t\t\t\t  onChange={this.onTitleChange.bind(this)}\n\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t              inputProps={{\n\t\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t\t                placeholder: \"Title\"\n\t\t\t\t\t              }}\n\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t                shrink: true,\n\t\t\t\t\t              }}\n\t\t\t\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tWorkout\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t              id=\"wodText\"\n\t\t\t\t\t              type=\"text\"\n\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t  onChange={this.onWodTextChange.bind(this)}\n\t\t\t\t\t              inputProps={{\n\t\t\t\t\t                title: \"Enter workout\",\n\t\t\t\t\t                placeholder: \"workout\"\n\t\t\t\t\t              }}\n\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t                shrink: true,\n\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t  multiline={true}\n\t\t\t\t\t\t\t\t  rows={12}\n\t\t\t\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={this.createWOD.bind(this)}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Grid>\n\t\t)\n\t}\n}\n\nexport default AddWod = withTheme(AddWod)","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\n\nimport React, { Component } from 'react'\n\nimport\n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tTableRow, TableHead, TableContainer,\n\tTableBody, Table\n}\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { setBox } from \"../../utils/firestore/boxes\"\n\nlet fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddBox extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD\n    }\n  }\n\n  componentDidMount(){\n  }\n\n  static getDerivedStateFromProps(props, state){\n\treturn props\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n      let a = document.getElementById(\"ownerBoxAddBoxTitle\")\n      let title = a.value\n      this.createBox(title)\n    }\n  }\n\n  createBox(title){\n\t  if(!title)\n\t  \treturn\n\tsetBox(title, this.props.userMD.uid)\n\t.then((res)=>{\n\t\tthis.props.onAlert({\n\t\t\ttype: \"success\",\n\t\t\tmessage: \"Added gym!\"\n\t\t})\n\t})\n\t.catch((err)=>{\n\t  this.props.onAlert({\n\t\t  type: \"error\",\n\t\t  message: err\n\t  })\n\t})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12}>\n\t\t\t<Table>\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>Title</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\tid=\"ownerBoxAddBoxTitle\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tpattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\ttitle: \"Letters only, max length 35\",\n\t\t\t\t\t\tplaceholder: \"Name of gym\"\n\t\t\t\t\t}}\n\t\t\t\t\tonKeyUp={this.onKeyUp.bind(this) }\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" color=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>{\n\t\t\t\t\t\t\t\t\t\tlet el = document.getElementById(\"ownerBoxAddBoxTitle\")\n\t\t\t\t\t\t\t\t\t\tthis.createBox(el.value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default AddBox = withTheme(AddBox);","import firebase from \"../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, TableBody, Table, TableCell, TableContainer,\n          TableHead, TableRow, Tabs, Tab, AppBar }\nfrom '@material-ui/core';\nimport SwipeableViews from 'react-swipeable-views';\n\nimport { withTheme } from '@material-ui/core/styles'\nimport OwnerBoxes from \"./boxes/ownerBoxes\"\nimport AddGymClass from \"./gymClasses/addGymClass\"\nimport AddWod from \"./wods/addWod\"\nimport AddBox from \"./boxes/addBox\"\n\nlet fs = firebase.firestore()\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Grid item xs={12}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Grid item xs={12}>\n          {children}\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n\nclass OwnerControls extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: [],\n      hasBoxes: false,\n      addBoxProgress: true,\n      index: 0,\n      tabs: {\n        0: \"show\",\n        1: \"hide\",\n        2: \"hide\",\n        3: \"hide\"\n      }\n    }\n    console.log(props)\n  }\n\n  componentDidMount(){\n  \tthis.listenForBoxes()\n  }\n\n  static getDerivedStateFromProps(props, state){\n\t  return props\n  }\n\n  componentDidUpdate(){\n    if(this.state.userMD.accountType === \"owner\"){\n      this.listenForBoxes()\n    }\n\n  }\n\n  componentWillUnmount(){\n    if(this.boxListener){\n      this.boxListener()\n    }\n  }\n\n  listenForBoxes(){\n  \tif(!this.state.user || this.boxListener)\n  \t\treturn\n\n\t\tthis.boxListener = fs.collection(\"boxes\").where(\"uid\", \"==\", this.state.user.uid)\n\t\t.onSnapshot(ss => {\n\t\t\tlet data = []\n\t\t\tss.forEach(doc => {\n\t\t\t\tdata.push(doc.data())\n\t\t\t})\n      console.log(\"Setting new state for userBoxes\")\n\t\t\tthis.setState({\n\t\t\t\thasBoxes: true,\n\t\t\t\tuserBoxes: data\n\t\t\t})\n\t\t},\n\t\terr => {\n      console.log(err)\n  \t\tthis.setState({\n\t\t\t\thasBoxes: false,\n\t\t\t\tuserBoxes: []\n\t\t\t})\n\t\t})\n  }\n\n\n  handleChange(ev, index){\n    console.log(index)\n    this.state.tabs[this.state.index] = \"hide\"\n    this.state.tabs[index] = \"show\"\n  \tthis.setState({index: index, tabs: this.state.tabs})\n  }\n  handleChangeIndex(index){\n  \tthis.setState({index: index})\n  }\n\n  render () {\n    console.log(this.state)\n    return (\n    \t<Grid item xs={12} id=\"ownerBox\" >\n    \t<AppBar position=\"static\">\n        <Tabs value={this.state.index} variant=\"fullWidth\" selectionFollowsFocus\n        \t\tonChange={this.handleChange.bind(this)} aria-label=\"simple tabs example\">\n          <Tab label=\"View Gyms\"/>\n          <Tab label=\"Add Workout\" />\n          <Tab label=\"Add Class\" />\n          <Tab label=\"Add Gym\" />\n        </Tabs>\n      </AppBar>\n      <Grid item xs={12} style={{minHeight: \"50vh\", maxHeight: \"150vh\", overflowY: \"scroll\"}}>\n          {this.state.hasBoxes?\n            <React.Fragment>\n              <Grid item xs={12} className={`${this.state.tabs[0]} slide-left`}>\n                <OwnerBoxes\n                  user = {this.state.user}\n                  userMD = {this.state.userMD}\n                  userBoxes = {this.state.userBoxes}\n                  hasBoxes = {this.state.hasBoxes}\n                  onAlert={this.props.onAlert}\n                />\n              </Grid>\n              <Grid item xs={12} className={`slide-left ${this.state.tabs[1]}`}>\n                  <AddWod\n                    isOwnerView={true}\n                    userMD={this.state.userMD}\n                    userBoxes = {this.state.userBoxes}\n                    hasBoxes = {this.state.hasBoxes}\n                    onAlert={this.props.onAlert}\n                  />\n              </Grid>\n              <Grid item xs={12} className={`slide-right ${this.state.tabs[2]}`}>\n                  <AddGymClass\n                    userMD = {this.state.userMD}\n                    userBoxes = {this.state.userBoxes}\n                    hasBoxes = {this.state.hasBoxes}\n                    onAlert={this.props.onAlert}\n                  />\n              </Grid>\n            </React.Fragment>\n          :\n            <React.Fragment></React.Fragment>\n          }\n\t      <Grid item xs={12} className={`slide-right ${this.state.tabs[3]}`}>\n\t\t\t\t  \t<AddBox\n\t\t\t\t\t\t\tuserMD = {this.state.userMD}\n              onAlert={this.props.onAlert}\n              />\n\t      </Grid>\n      </Grid>\n\n  \t\t</Grid>\n    )\n  }\n}\n\n\n\n\nexport default withTheme(OwnerControls);","\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Grid, Paper, Button, Typography, IconButton,\n        TableBody, Table, TableCell, TableContainer, TableRow }\nfrom '@material-ui/core';\n\nimport Whatshot from '@material-ui/icons/Whatshot'\nimport { Alert } from '@material-ui/lab'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport { getUserFollowers, setFollow, removeFollow } from \"../../utils/firestore/follows\"\n\n\nclass UserFollows extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userFollows: [],\n    }\n  }\n\n  extractData(ss){\n    let follows = []\n    ss.forEach(doc => {\n      follows.push(doc.data())\n    })\n    return follows\n  }\n\n  componentDidMount(){\n    this.getUserFollowers = getUserFollowers(this.state.user.uid)\n   .onSnapshot(followingSS => {\n      let follows = this.extractData(followingSS)\n      this.setState({userFollows: follows})\n    })\n  }\n\n\n  componentWillUnmount(){\n    if(this.getUserFollowers){\n      this.getUserFollowers()\n    }\n  }\n\n  handleFollow(follow){\n    console.log(follow)\n    if(follow.boxID === \"\"){\n      return\n    }\n\n    setFollow(this.state.userMD.uid, this.state.userMD.username, follow.boxID,\n      follow.title, follow.owner)\n    .then(res => {console.log(\"Succefully followed.\")})\n    .catch(err => {console.log(err)})\n  }\n\n  handleUnfollow(boxID){\n    removeFollow(this.state.userMD.uid, boxID)\n    .then(res => {\n      if(res){\n        let userFollowing = this.state.userFollowing\n        userFollowing[boxID] = undefined\n        this.setState({userFollowing: userFollowing})\n        console.log(\"Succefully unfollowed.\")\n      }\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  render(){\n    return(\n      <Grid item xs={12}>\n          <Paper elevation={6}>\n            <Grid item xs={12}>\n              <Typography>Following</Typography>\n            </Grid>\n            <Grid item xs={12}>\n                {this.state.userFollows.length > 0 ?\n                  <TableContainer>\n                    <Table>\n                      <TableBody>\n                        {this.state.userFollows.map((follow, i) => {\n                          return (\n                            <TableRow key={i}>\n                              <TableCell>\n                                {follow.boxID === \"\" ?\n                                  <Button>\n                                    {follow.title} <Typography variant=\"caption\" component=\"span\">&nbsp;(deleted)</Typography>\n                                  </Button>\n                                :\n                                  <Button\n                                    to={`box/${follow.boxID}`}\n                                    component={Link}\n                                  >\n                                    {follow.title}\n                                  </Button>\n                              }\n                              </TableCell>\n                                <TableCell align=\"right\">\n                                <IconButton\n                                      onClick={()=>{\n                                        this.handleUnfollow(follow.boxID)}\n                                      }>\n                                      <Whatshot color=\"primary\" />\n                                    </IconButton>\n                              </TableCell>\n                            </TableRow>\n                          )\n                        })\n                        }\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n                :\n                  <React.Fragment>Not following anyone!</React.Fragment>\n                }\n          </Grid>\n\n          </Paper>\n      </Grid>\n    )\n  }\n}\n\nexport default UserFollows = withTheme(UserFollows);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n}\nfrom '@material-ui/core';\nimport { Delete, LooksOneOutlined, AddBoxOutlined } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ActionCancelModal from \"../actionCancelModal\"\nimport { removeScore } from \"../../utils/firestore/scores\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass UserScoreList extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores,\n\t\t\tuid: props.uid,\n\t\t\tshowRemoveAlert: false,\n\t\t\tremoveScoreID: \"\"\n\t\t}\n\t}\n\n\thandleViewWod(wodID){\n\t\tconsole.log(`Go to wodID: ${wodID}`)\n\t}\n\n\thandleViewBox(boxID){\n\t\tconsole.log(`Go to boxID: ${boxID}`)\n\t}\n\n\tshowRemoveAlert(scoreID){\n\t\tthis.setState({showRemoveAlert: true, removeScoreID: scoreID})\n\t}\n\n\tonRemove(){\n\t\tthis.hideRemoveAlert()\n\t\tremoveScore(this.state.removeScoreID)\n\t\t.then((res) => {\n            this.props.onAlert({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: res\n\t\t\t})\n        })\n        .catch(err => {\n            this.props.onAlert({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err.message\n\t\t\t})\n        })\n\t}\n\n\thideRemoveAlert(){\n\t\tthis.setState({showRemoveAlert: false})\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n\tonView(url){\n\t\tthis.props.history.push(url)\n\t}\n\n  \trender(){\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Title</TableCell>\n\t\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map((score, i) => {\n\t\t\t\t\t\treturn <ScoreRow key={i}\n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\tonViewBox={this.handleViewBox.bind(this)}\n\t\t\t\t\t\t\tonViewWod={this.handleViewWod.bind(this)}\n\t\t\t\t\t\t\tonRemove = {this.showRemoveAlert.bind(this)}\n\t\t\t\t\t\t\tonView={this.onView.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t</TableContainer>\n\t\t\t:\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t  <CardContent>\n\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t   \tNo Scores!\n\t\t\t\t    </Typography>\n\t\t\t\t   </CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t}\n\t\t\t<ActionCancelModal\n\t\t\t\topen={this.state.showRemoveAlert}\n\t\t\t\tactionText=\"Remove\"\n\t\t\t\tcancelText=\"Cancel\"\n\t\t\t\tmodalText=\"Remove score?\"\n\t\t\t\tonAction={this.onRemove.bind(this)}\n\t\t\t\tonClose={this.hideRemoveAlert.bind(this)}\n\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\n\nexport default UserScoreList = withRouter(withTheme(UserScoreList))\n\nfunction ScoreRow(props){\n\tlet score = props.info[\"score\"]\n\tlet title = props.info[\"title\"]\n\tlet scoreID = props.info[\"scoreID\"]\n\tlet wodID = props.info[\"wodID\"]\n\tlet gymClassID = props.info[\"gymClassID\"]\n\tlet boxID = props.info[\"boxID\"]\n\n\treturn(\n\t\t<TableRow onClick={(ev) => {\n\t\t\tlet tagName = ev.target.tagName\n\t\t\tif([\"path\", \"svg\"].indexOf(tagName) > -1)\n\t\t\t\treturn\n\t\t\tprops.onView(`wod/${boxID}/${gymClassID}/${wodID}`)\n\t\t}}>\n\t\t\t<TableCell>\n\t\t\t\t{title}\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t{score}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t<Button size=\"small\"\n\t\t\t    \tonClick={() => props.onRemove(scoreID)}>\n\t\t\t    \t<Delete color=\"error\" />\n\t\t\t    </Button>\n\t  \t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button, Typography, Collapse } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport UserScoreList from '../scores/userScoreList'\n\n\nclass Athlete extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      scores: props.scores\n    }\n  }\n\n\n\n\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  render(){\n    return(\n\n      <Grid item xs={12}>\n        <Paper elevation={6}>\n          <Grid item xs={12}>\n            <Grid item xs={12}>\n                <Typography>Scores</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              {this.state.user ?\n                <UserScoreList\n                  uid={this.state.user.uid}\n                  scores={this.state.scores}\n                  onAlert={this.props.onAlert}\n                  />\n                :\n                  <React.Fragment></React.Fragment>\n              }\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid>\n    )\n  }\n}\n\nexport default Athlete = withTheme(Athlete);","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport { Check, Close } from '@material-ui/icons'\nimport\n{ \tGrid, Paper, Button, Typography, IconButton, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { setClassAdmin, getUserAdminInvites, removeNotification } from \"../../utils/firestore/classAdmin\"\n\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore();\n\n\nfunction NotificationRaw(props){\n    let senderUsername = props.info.senderUsername\n    let adminInviteID = props.info.adminInviteID\n    let gymClassTitle = props.info.gymClassTitle\n    let gymClassBoxTitle = props.info.boxTitle\n\n    return(\n        <Grid container item xs={12}>\n            <Grid item xs={8}>\n                <Typography variant=\"caption\">\n                {senderUsername} wants you to be an Admin of {gymClassTitle} at {gymClassBoxTitle}\n                </Typography>\n            </Grid>\n            <Grid item xs={2}>\n                <IconButton size=\"small\" onClick={() => { props.acceptInvite(props.info) }} color=\"secondary\">\n                    <Check />\n                </IconButton>\n            </Grid>\n            <Grid item xs={2}>\n                <IconButton size=\"small\" onClick={() => { props.removeNotification(props.info) }} >\n                    <Close color=\"error\"/>\n                </IconButton>\n            </Grid>\n        </Grid>\n    )\n}\nconst Notification = withTheme(NotificationRaw)\n\n\n\nclass AdminInvites extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            notifications: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        this.getListener()\n\t}\n\n    componentWillUnmount(){\n        if(this.notificationsListener)\n            this.notificationsListener()\n    }\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    componentDidUpdate(){\n        this.getListener()\n    }\n\n    getListener(){\n        if(this.state.userMD && !this.notificationsListener){\n            this.notificationsListener = getUserAdminInvites(this.state.userMD.uid)\n            .onSnapshot(ss => {\n                let notifications = []\n\n                if(!ss.empty){\n                    ss.docs.forEach(doc => {\n                        notifications.push(doc.data())\n                    })\n\n                    notifications.sort((a, b) => {\n                        return (a.date > b.date)? 1 : -1\n                    })\n                    this.setState({ notifications: notifications })\n                }else{\n                    this.setState({ notifications: notifications })\n                }\n            },\n            err => {\n                console.log(err)\n            })\n        }\n    }\n\n    onRemoveNotification(notify){\n        removeNotification(notify)\n        .then( res => { console.log(res) })\n        .catch( err => { console.log(err) })\n    }\n\n    acceptInvite(notify){\n        console.log(notify)\n        let boxID = notify.boxID\n        let gymClassID = notify.gymClassID\n        let classTitle = notify.gymClassTitle\n        let boxTitle = notify.boxTitle\n        let owner = notify.owner\n\n\n        setClassAdmin(\n            this.state.userMD.uid,\n            boxID,\n            gymClassID,\n            owner,\n            this.state.userMD.username,\n            boxTitle,\n            classTitle\n        )\n        .then(res => {\n            console.log(res)\n            this.onRemoveNotification(notify)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n\n\n    }\n\n  render(){\n\t\treturn(\n            <Grid item xs={12}>\n            {this.state.notifications.length > 0?\n                <Paper style={{margin: \"16px 0px 0px 0px \"}}>\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\">\n                            Admin Notifications\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                    {this.state.notifications.map((notify, i) => {\n                        return (\n                            <Notification key={i}\n                                info={notify}\n                                removeNotification={this.onRemoveNotification.bind(this)}\n                                acceptInvite={this.acceptInvite.bind(this)}\n                            />)\n                    })}\n                    </Grid>\n                </Paper>\n            :\n                <React.Fragment></React.Fragment>\n            }\n            </Grid>\n    )}\n}\n\nexport default AdminInvites = withTheme(AdminInvites)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, IconButton, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\nimport { Check, Close } from '@material-ui/icons'\n\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { setClassMember, getUserMemberInvites, removeNotification } from \"../../utils/firestore/classMember\"\n\nimport \"../../styles.css\"\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\n\nfunction NotificationRaw(props){\n    let senderUsername = props.info.senderUsername\n    let memberInviteID = props.info.memberInviteID\n    let gymClassTitle = props.info.gymClassTitle\n    let gymClassBoxTitle = props.info.boxTitle\n\n    return(\n        <Grid container item xs={12}>\n            <Grid item xs={8}>\n                <Typography variant=\"caption\">\n                {senderUsername} wants you to be a Member of {gymClassTitle} at {gymClassBoxTitle}\n                </Typography>\n            </Grid>\n            <Grid item xs={2}>\n               <IconButton size=\"small\" onClick={() => { props.acceptInvite(props.info) }} color=\"secondary\">\n                    <Check />\n                </IconButton>\n            </Grid>\n            <Grid item xs={2}>\n                <IconButton size=\"small\" onClick={() => { props.removeNotification(props.info) }} >\n                    <Close color=\"error\"/>\n                </IconButton>\n            </Grid>\n        </Grid>\n    )\n}\nconst Notification = withTheme(NotificationRaw)\n\nclass MemberInvites extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            notifications: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        this.getListener()\n\t}\n\n    componentWillUnmount(){\n        if(this.notificationsListener)\n            this.notificationsListener()\n    }\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    componentDidUpdate(){\n        this.getListener()\n    }\n\n    getListener(){\n        if(this.state.userMD.uid && !this.notificationsListener){\n            this.notificationsListener = getUserMemberInvites(this.state.userMD.uid)\n            .onSnapshot(ss => {\n                let notifications = []\n                if(!ss.empty){\n                    ss.docs.forEach(doc => {\n                        notifications.push(doc.data())\n                    })\n\n                    notifications.sort((a, b) => {\n                        return (a.date > b.date)? 1 : -1\n                    })\n\n                    this.setState({ notifications: notifications })\n                }else{\n                    this.setState({ notifications: notifications })\n                }\n            },\n            err => {\n                console.log(err)\n            })\n        }\n    }\n\n    onRemoveNotification(notify){\n        removeNotification(notify)\n        .then( res => { console.log(res) })\n        .catch( err => { console.log(err) })\n    }\n\n    acceptInvite(notify){\n        let gymClassID = notify.gymClassID\n        let classTitle = notify.gymClassTitle\n        let boxTitle = notify.boxTitle\n        let boxID = notify.boxID\n        let owner = notify.owner\n\n        setClassMember(\n            this.state.userMD.uid,\n            boxID,\n            gymClassID,\n            owner,\n            this.state.userMD.username,\n            boxTitle,\n            classTitle\n        )\n        .then(res => {\n            console.log(res)\n            this.onRemoveNotification(notify)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n  render(){\n\t\treturn(\n            <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n            {this.state.notifications.length > 0?\n                <Paper  elevation={6}>\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\">\n                            Member Notifications\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                    {this.state.notifications.map((notify, i) => {\n                        return (\n                            <Notification key={i}\n                                info={notify}\n                                removeNotification={this.onRemoveNotification.bind(this)}\n                                acceptInvite={this.acceptInvite.bind(this)}\n                            />)\n                    })}\n                    </Grid>\n                </Paper>\n            :\n                <React.Fragment></React.Fragment>\n            }\n            </Grid>\n    )}\n}\n\nexport default MemberInvites = withTheme(MemberInvites)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\nimport { Redirect } from \"react-router\";\nimport { withRouter } from \"react-router-dom\";\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Typography, Modal, TableBody, Table, TableContainer,\n\tTableHead, TableRow\n} from '@material-ui/core';\n\nimport {TableCell as TC} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { getUserClassAdmins } from \"../../utils/firestore/classAdmin\"\n\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\n\nfunction AdminRowRaw(props){\n    let gymClassTitle = props.info.gymClassTitle\n    let boxTitle = props.info.boxTitle\n    let boxID = props.info.boxID\n    let redirectUrl = `class/${boxID}/${props.info.gymClassID}`\n\n    return(\n        <TableRow onClick={ (ev) => props.onView(redirectUrl)}>\n            <TableCell>\n                <Typography color=\"primary\">\n                    {boxTitle}\n                </Typography>\n            </TableCell>\n            <TableCell>\n                <Typography color=\"primary\">\n                    {gymClassTitle}\n                </Typography>\n            </TableCell>\n        </TableRow>\n    )\n}\nconst AdminRow = withTheme(AdminRowRaw)\n\nclass ClassAdminView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            classes: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        this.getListener()\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    componentDidUpdate(){\n        this.getListener()\n    }\n\n    getListener(){\n        if(this.state.userMD.uid && !this.userClassAdminsListener){\n            this.userClassAdminsListener = getUserClassAdmins(this.state.userMD.uid)\n            .onSnapshot(ss => {\n                console.log(ss)\n                let classes = []\n                if(!ss.empty){\n                    ss.forEach(doc => {\n                        classes.push(doc.data())\n                    })\n                    classes.sort((a, b) => {\n                        return (a.date > b.date)? 1 : -1\n                    })\n                    this.setState({ classes: classes })\n                }else{\n                    this.setState({ classes: classes })\n                }\n            },\n            err => {\n                console.log(err)\n            })\n        }\n    }\n\n    componentWillUnmount(){\n        if(this.userClassAdminsListener)\n        this.userClassAdminsListener()\n    }\n\n    onView(redirectUrl){\n        this.props.history.push(redirectUrl)\n    }\n\n  render(){\n\t\treturn(\n            <React.Fragment>\n                {this.state.classes.length > 0?\n                    <Grid item xs={12} style={{margin: \"16px 0px 0px 0px\"}}>\n                        <Paper elevation={6}>\n                            <Typography variant=\"subtitle1\">Admin Roles</Typography>\n                            <Table size=\"small\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell align=\"center\">Gym</TableCell>\n                                        <TableCell align=\"center\">Class</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {this.state.classes.map((classAdmin, i) => {\n                                        return (\n                                            <AdminRow key={i}\n                                                info={classAdmin}\n                                                onView={this.onView.bind(this)}\n                                            />)\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </Paper>\n                    </Grid>\n                :\n                    <React.Fragment></React.Fragment>\n                }\n            </React.Fragment>\n    )}\n}\n\nexport default ClassAdminView = withRouter(withTheme(ClassAdminView))","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\nimport { withRouter } from \"react-router-dom\";\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport\n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { getUserClassMembers } from \"../../utils/firestore/classMember\"\n\nimport \"../../styles.css\"\nimport { Redirect } from \"react-router\";\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\n\nfunction MemberRowRaw(props){\n    let gymClassTitle = props.info.gymClassTitle\n    let boxTitle = props.info.boxTitle\n    let boxID = props.info.boxID\n    let redirectUrl = `class/${boxID}/${props.info.gymClassID}`\n\n    return(\n        <TableRow onClick={ (ev) => props.onView(redirectUrl)}>\n            <TableCell>\n                <Typography color=\"primary\">\n                    {boxTitle}\n                </Typography>\n            </TableCell>\n            <TableCell>\n                <Typography color=\"primary\">\n                    {gymClassTitle}\n                </Typography>\n            </TableCell>\n        </TableRow>\n    )\n}\nconst MemberRow = withTheme(MemberRowRaw)\n\nclass ClassMemberView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n            userMD: props.userMD,\n            classes: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n        this.getListener()\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    componentDidUpdate(){\n        this.getListener()\n    }\n\n    componentWillUnmount(){\n        if(this.userClassMembersListener)\n            this.userClassMembersListener()\n    }\n\n\n    getListener(){\n        if(this.state.userMD && !this.userClassMembersListener){\n            console.log(`Looking for members for ${this.state.userMD.uid}`)\n            this.userClassMembersListener = getUserClassMembers(this.state.userMD.uid)\n            .onSnapshot(ss => {\n                console.log(ss)\n                let classes = []\n                if(!ss.empty){\n                    ss.forEach(doc => {\n                        classes.push(doc.data())\n                    })\n                    classes.sort((a, b) => {\n                        return (a.date > b.date)? 1 : -1\n                    })\n                    this.setState({ classes: classes })\n                }else{\n                    this.setState({ classes: classes })\n                }\n            },\n            err => {\n                console.log(err)\n            })\n        }\n    }\n\n    onView(redirectUrl){\n        this.props.history.push(redirectUrl)\n    }\n\n  render(){\n\t\treturn(\n            <React.Fragment>\n                {this.state.classes.length > 0?\n                    <Grid item xs={12} style={{margin: \"16px 0px 0px 0px\"}}>\n                        <Paper elevation={6}>\n                            <Typography variant=\"subtitle1\">Membership</Typography>\n                            <Table size=\"small\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell align=\"center\">Gym</TableCell>\n                                        <TableCell align=\"center\">Class</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {this.state.classes.map((classMember, i) => {\n                                        return (\n                                            <MemberRow key={i}\n                                                info={classMember}\n                                                onView={this.onView.bind(this)}\n                                            />)\n                                    })}\n                                </TableBody>\n                            </Table>\n                        </Paper>\n                    </Grid>\n                :\n                    <React.Fragment></React.Fragment>\n                }\n            </React.Fragment>\n    )}\n}\n\nexport default ClassMemberView = withRouter(withTheme(ClassMemberView))","import { Grid, Paper, Box } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport default function mTea(){}\n\nconst Cell = withStyles(theme => ({\n    root:{\n        borderRadius: \"4px\",\n        height:\"5px\"\n    }\n}))(Paper)\n\nexport const SuperCell = withStyles(theme => ({\n    root:{\n        background: `transparent`,\n        display: \"block\",\n        borderRadius: \"4px\",\n        padding: \"0px 0px 0px 2px\",\n        margin: \"1px auto\",\n        width: \"12%\",\n        height: \"6px\"\n\n    }\n}))(Box)\n\n\nexport const CellRow = withStyles(theme => ({\n    root:{\n        display: \"flex\"\n    }\n}))(Grid)\n\nexport const RedCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, transparent, #ff0b0b, transparent)`,\n    }\n}))(Cell)\n\nexport const GreyCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, transparent, grey, transparent)`,\n    }\n}))(Cell)\n\nexport const GreenCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, transparent, #00fb42, #00fb42, ${theme.palette.primary.main})`,\n    }\n}))(Cell)\n\nexport const WhiteCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, transparent,  white, ${theme.palette.primary.main})`,\n    }\n}))(Cell)\n\nexport const BlueCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, transparent,  ${theme.palette.primary.main}, #6700c5)`,\n    }\n}))(Cell)\n\n\nexport const PurpleCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, white, #1118f3, #1118f3, white)`,\n    }\n}))(Cell)\n\n\nexport const GoldCell = withStyles(theme => ({\n    root:{\n        background: `linear-gradient(45deg, white, #ffeb00, #ffeb00, white)`,\n    }\n}))(Cell)\n","import React, { Component } from 'react'\n\nimport\n{ \tGrid, Typography\n}\nfrom '@material-ui/core';\n\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport {CellRow, SuperCell, RedCell, GreenCell, WhiteCell, GreyCell, BlueCell, PurpleCell, GoldCell} from \"./cells\"\nimport \"../../styles.css\"\n\nimport { DateTime } from 'luxon'\n\n\nfunction cellData(color=\"grey\", valid=false, isToday=false){\n    return {\n        color: color,\n        valid: valid,\n        isToday: isToday,\n        count: 1\n    }\n}\n\n\nclass CalendarScoreView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n        let today = DateTime.now()\n        this.calendar = this.createCalendar(today)\n        console.log(today)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n            scores: props.scores,\n            today: today\n\t\t}\n\t}\n\n    componentDidUpdate(){\n\n    }\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n\t}\n\n    getFirstOfMonth(today){\n        return DateTime.local(today.year, today.month, 1, 0, 0, 0, 0)\n    }\n\n    getEndOfMonth(today){\n        return DateTime.local(today.year, today.month, today.daysInMonth, 0, 0, 0, 0)\n    }\n\n\n    getFirstAndLast(today){\n        let first = this.getFirstOfMonth(today)\n        let last = this.getEndOfMonth(today)\n        return [first, last]\n    }\n\n\n    // Creates base calendar, with invalid days, passed days, and future days\n    createCalendar(today){\n\n        // First and last day of the month.\n        let [first, last] = this.getFirstAndLast(today)\n\n        // First week may contain invalid days from previous month\n        // Middle weeks that have valid days\n        // Last week may contain invalid days from next month\n        let firstWeek = []\n        let fullWeek  = []\n        let fullWeek1 = []\n        let fullWeek2 = []\n        let lastWeek  = []\n\n        for(let i=0; i<7; i++){\n            fullWeek.push(cellData(\"white\", true, false))\n        }\n\n        fullWeek1 = [...fullWeek]\n        fullWeek2 = [...fullWeek]\n\n        for(let i=0; i<first.weekday; i++){\n            firstWeek.push(cellData())\n        }\n\n        for(let i=first.weekday; i<7; i++){\n            firstWeek[i] = cellData(\"white\", true, false)\n        }\n\n        for(let i=0; i<=last.weekday; i++){\n            lastWeek.push(cellData(\"white\", true, false))\n        }\n        for(let i=last.weekday + 1; i<7; i++){\n            lastWeek[i] = cellData()\n        }\n\n        let calendar = [[...firstWeek], [...fullWeek], [...fullWeek1], [...fullWeek2], [...lastWeek]]\n\n        // Fill in passed days w/ red\n        // Start and end days' offset corresponding to 2d array\n        let startOffset = this.getOffsetDayOfMonthFromDate(first)\n        let endOffset = this.getOffsetDayOfMonthFromDate(today)\n\n        // convert to 1d array start and end position\n        let start = (startOffset[0] * 7) + startOffset[1]\n\n        let end = (endOffset[0] * 7) + endOffset[1]\n\n        for(let i=start; i<end; i++){\n            // convert back to 2d array offsets\n            let r = parseInt(i/7)\n            let c = i%7\n\n            calendar[r][c] = cellData(\"red\", true, false)\n        }\n\n        // Mark cell as today\n        let row = parseInt(end/7)\n        let col = end%7\n\n\n        calendar[row][col] = cellData(\"white\", true, true)\n\n        // console.log(\"Base calendar\")\n        // console.log(startOffset, endOffset)\n        // console.log(start, end)\n        // console.log(\"tdoay\", row, col)\n        // console.log(calendar)\n\n        return calendar\n    }\n\n    // Returns [row, col] of calendar from a timestamp\n    getOffsetDayOfMonthFromDate(date){\n\n        let firstDayOfMonth = this.getFirstOfMonth(date)\n\n        let offset = firstDayOfMonth.weekday + date.day - 1\n        let offsetWeek = parseInt(offset / 7)\n        let offsetDay = offset %  7\n        return [offsetWeek, offsetDay]\n    }\n\n    // Fill calendar with user's scores.\n    fillCalendar(){\n        let calendar = []\n        for(let week of this.calendar){\n            calendar.push([...week])\n        }\n\n\n        for(let score of this.state.scores){\n            let scoreDate = DateTime.fromMillis(score.date)\n            let [row, col] = this.getOffsetDayOfMonthFromDate(scoreDate)\n            let isToday = (scoreDate.day === this.state.today.day\n                && scoreDate.month === this.state.today.month\n                && scoreDate.year === this.state.today.year)\n\n            if(calendar[row][col].color !== \"green\"){\n                calendar[row][col] = cellData(\"green\", true, isToday)\n            }else{\n                calendar[row][col].count += 1\n            }\n        }\n        return calendar\n    }\n\n\n  \trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n                <Grid item xs={12}>\n                    <Typography gutterBottom variant=\"subtitle2\">\n                        {this.state.today.monthLong}\n                    </Typography>\n                    </Grid>\n                <Grid item xs={3}></Grid>\n                <Grid item container xs={6}>\n\n                    {\n                    this.fillCalendar().map((week, i) => {\n\n\n                        return <CellRow className=\"appearSlow\"\n                                item xs={12}\n                                key={i}>\n\n                                {week.map((day, j) => {\n                                    let border = day.isToday? \"whiteBorder\": \"\"\n                                    if(day.color === 'green'){\n                                        let Cell = null\n                                        if(day.count == 1)\n                                            Cell = BlueCell\n                                        if(day.count == 2)\n                                            Cell = PurpleCell\n                                        if(day.count == 3)\n                                            Cell = GreenCell\n                                        if(day.count > 3)\n                                            Cell = GoldCell\n                                        return <SuperCell key={j} className=\"appearFast\">\n                                            <Cell className={border}/>\n                                        </SuperCell>\n                                    }else if(day.color === 'white'){\n                                        return <SuperCell key={j}>\n                                            <WhiteCell  className={border}/>\n                                        </SuperCell>\n                                    }else if(day.color === 'red'){\n                                        return <SuperCell key={j}>\n                                            <RedCell className={border}/>\n                                        </SuperCell>\n                                    }\n                                    return <SuperCell key={j}>\n                                        <GreyCell className={border} />\n                                    </SuperCell>\n                                })}\n                        </CellRow>\n                    })\n                    }\n                </Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n}\n\n\nexport default CalendarScoreView = withTheme(CalendarScoreView);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport React, { Component } from 'react'\n\nimport { Grid, Paper, Button, Typography, Collapse,\n        Accordion, AccordionSummary, AccordionDetails }\nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport { Redirect, withRouter } from \"react-router-dom\";\n\n\nimport OwnerControls from \"../comps/ownerControls\"\nimport UserFollows from '../comps/followers/userFollows'\nimport Athlete from '../comps/profile/athlete'\nimport AdminInvites from \"../comps/profile/adminInvites\"\nimport MemberInvites from \"../comps/profile/memberInvites\"\nimport ClassAdminView from \"../comps/profile/classAdminView\"\nimport ClassMemberView from \"../comps/profile/classMemberView\"\nimport CalendarScoreView from \"../comps/calendar/calendarView\"\n\nimport { getUserScores } from \"../utils/firestore/scores\"\n\nlet fs = firebase.firestore()\n\nclass PageContentRaw extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      emailAlertOpen: false,\n      scores: []\n    }\n  }\n\n  static getDerivedStateFromProps(props, state){\n\n    return props\n  }\n\n  componentWillUnmount(){\n    if(this.cancelablePromise){\n      console.log(\"email cancelled\")\n      this.cancelablePromise.cancel()\n    }\n    if(this.listener)\n      this.listener()\n  }\n\n  componentDidMount(){\n    this.listenForUserScores()\n  }\n\n  listenForUserScores(){\n    if(!this.listener){\n      this.listener = getUserScores(this.state.user.uid, \"uid\", this.state.user.uid)\n      .onSnapshot(ss => {\n        if(!ss.empty){\n          let scores = []\n          ss.forEach(doc => {\n            scores.push(doc.data())\n          })\n          scores.sort((a, b) => {\n           return (a.date > b.date)? 1 : -1\n          })\n          this.setState({scores: scores })\n        }else{\n          this.setState({scores: [] })\n        }\n      },\n      err => {console.log(err)})\n    }\n  }\n\n\n\n  render(){\n    return (\n      <Grid item container align=\"center\">\n        <Grid item xs={12}>\n          <Collapse in={this.state.emailAlertOpen}>\n            <Alert onClose={() => {this.setState({emailAlertOpen: false})}}>\n              Email sent!\n            </Alert>\n          </Collapse>\n        </Grid>\n        <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n          <Paper elevation={4}>\n            <Typography gutterBottom variant=\"h5\" >\n              { this.state.userMD.username }\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n          <Paper elevation={4}>\n            <CalendarScoreView\n              userMD={this.state.userMD}\n              scores={this.state.scores}\n            />\n          </Paper>\n        </Grid>\n        <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n          <Paper elevation={4}>\n\n          </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Grid item container xs={12}>\n\n\n              <AdminInvites userMD={this.state.userMD}/>\n              <MemberInvites userMD={this.state.userMD}/>\n              <ClassAdminView userMD={this.state.userMD}/>\n              <ClassMemberView userMD={this.state.userMD}/>\n\n             <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n               <Paper elevation={4}>\n                <UserFollows\n                  user={this.state.user}\n                  userMD={this.state.userMD}\n                 />\n               </Paper>\n              </Grid>\n        </Grid>\n\n        <Paper elevation={2} style={{margin: \"16px 0px 0px 0px\"}}>\n          {this.state.userMD.accountType === \"owner\" ?\n            <OwnerControls\n              user={this.state.user}\n              userMD={this.state.userMD}\n              onAlert={this.props.onAlert}\n              />\n          :\n            <Athlete\n              user={this.state.user}\n              userMD={this.state.userMD}\n              onAlert={this.props.onAlert}\n              scores={this.state.scores}\n            />\n          }\n          </Paper>\n        </Grid>\n    </Grid>\n    )\n  }\n}\n\nconst PageContent = withTheme(PageContentRaw)\n\nclass ProfilePage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n\n  /*\n    login.js has the form and does the login, calls this with the user obj\n  */\n  handleLogIn(user){\n      this.setState({user: user} )\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return props\n  }\n\n  render () {\n    console.log(\"user\", this.state.user)\n\n    return (\n    \t<Grid item xs={12} id=\"profilepage\">\n        {this.state.user?\n          <PageContent\n              user= {this.state.user}\n              userMD={this.state.userMD}\n              onAlert={this.props.onAlert}\n          />\n        :\n          <Redirect to=\"/login\" />\n      }\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default ProfilePage = withRouter(withTheme(ProfilePage))\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"\n\nimport { Link } from 'react-router-dom';\n\n\nimport React, { Component, createRef } from \"react\";\n\nimport {\n\t AppBar, Toolbar, IconButton, Button, Typography, Paper, Collapse,\n\t Popper, MenuList, MenuItem, ClickAwayListener, Grow, Fade\n\n} \nfrom '@material-ui/core';\nimport { Menu } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab'\nimport { withTheme, withStyles, makeStyles } from '@material-ui/core/styles';\n\nconst StyledMenuItem = withStyles((theme) => ({\n\troot: {\n\t  '&:hover': {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\t'& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n\t\t  color: theme.palette.common.white,\n\t\t},\n\t  },\n\t},\n  }))(MenuItem);\n\nconst StyledTypography = withStyles((theme) => ({\n\troot: {\n\t\tcolor: theme.palette.text.primary\t\n\t},\n}))(Typography);\n\nconst StyledPaper = withStyles((theme) => ({\n\troot: {\n\t\t'border': '1px solid',\n\t  'borderColor': theme.palette.text.primary,\n\t},\n}))(Paper);\n\n\nconst styles = theme => ({\n  popper: {\n\t  zIndex: 100,\n  }\n});\n\n\nfunction UserAlertRaw(props){\n\treturn(\n\t\t<Alert severity={props.alertInfo.type} onClose={props.onCloseAlert}>\n\t\t\t{props.alertInfo.message}\n\t\t</Alert>\n\t)\n}\n\nconst UserAlert = withTheme(UserAlertRaw)\n\nclass Header extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.menuRef = createRef()\n\t\tthis.state = {\n\t\t\tuser: props.user,\n\t\t\tuserMD: props.userMD,\n\t\t\topen: false,\n\t\t\talertOpen: props.alertOpen,\n\t\t\talertInfo: props.alertInfo\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state){\n\t\treturn props\n  \t}\n\t  \n\thandleToggle(){\n\t\tthis.setState({open: !this.state.open})\n\t};\n\t\n\thandleClose(ev){\n\t\tconsole.log(\"Should close\")\n\t\tthis.setState({open: false})\n\t}\n\n\thandleListKeyDown(ev) {\n\t\tif (ev.key === 'Tab') {\n\t\t\tev.preventDefault();\n\t\t\tthis.setState({open: false})\n\t\t}\n\t}\n\n\trender(){\n\t\tconst { classes } = this.props\n\t\treturn(\n\t\t\t<AppBar position=\"sticky\" ref={this.menuRef} \n\t\t\t\t\tstyle={{background:this.props.theme.palette.background.toolbar}}>\n\t\t\t<Toolbar disableGutters={false}>\n\t\t\t    <StyledTypography  variant=\"h3\" >\n\t\t            WodTrackrr\n\t\t          </StyledTypography>\n\t\t\t\t  \n\t\t          <section style={{marginLeft: \"auto\", marginRight: -12}}>\n\t\t\t\t\t<IconButton color=\"primary\" onClick={this.handleToggle.bind(this)}>\n\t\t\t\t\t\t<Menu   />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Popper open={this.state.open} anchorEl={this.menuRef.current}\n\t\t\t\t\t\t\t  placement=\"bottom-end\" transition disablePortal\n\t\t\t\t\t\t\t className={classes.popper}>\n\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t<Fade\n\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StyledPaper>\n\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={this.handleClose.bind(this)}>\n\t\t\t\t\t\t\t\t<MenuList  id=\"menu-list-grow\" onKeyDown={this.handleListKeyDown.bind(this)}>\n\t\t\t\t\t\t\t\t\t<StyledMenuItem onClick={this.props.changeTheme}>\n\t\t\t\t\t\t\t\t\t\tChange Theme\n\t\t\t\t\t\t\t\t\t</StyledMenuItem>\n\n\t\t\t\t\t\t\t\t\t<StyledMenuItem onClick={this.handleClose.bind(this)} component={Link} to=\"/settings/\">\n\t\t\t\t\t\t\t\t\t\tSettings \n\t\t\t\t\t\t\t\t\t</StyledMenuItem>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{this.state.user?\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<StyledMenuItem onClick={(ev) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.handleClose.bind(this)(ev)\n\t\t\t\t\t\t\t\t\t\t\tthis.props.handleLogout()\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t\t\t</StyledMenuItem>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<StyledMenuItem component={Link} to=\"/login\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.handleClose.bind(this) }>\n\t\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t</StyledMenuItem>\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t</StyledPaper>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Popper>\n\t\t          \t</section>\n\t\t        </Toolbar>\n\t\t\t\t<Collapse in={this.props.alertOpen}>\n\t\t\t\t\t{this.state.alertInfo ?\n\t\t\t\t\t\t<UserAlert  alertInfo={this.state.alertInfo} \n\t\t\t\t\t\t\tonCloseAlert={this.props.onCloseAlert}\n\t\t\t\t\t\t/>\n\t\t\t\t\t:\n\t\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t\t}\n\n\t\t\t\t</Collapse>\n\t\t\t</AppBar>\n\t\t)\n\t}\n}\n\n\n\nexport default withStyles(styles, { withTheme: true })(Header);\n","import firebase from \"../../context/firebaseContext\"\n// import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nimport { withRouter } from \"react-router-dom\";\n\n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\n\nimport \"../../styles.css\"\n\n\nclass Login extends Component {\n\n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n\n    console.log(email.value, pass1)\n\n    firebase.auth().signInWithEmailAndPassword(email.value, pass1.value)\n    .then(res=>{\n      this.props.onLogin(res.user)\n      this.props.history.push(\"/boxSearch\")\n    })\n    .catch((error) => {\n\n      this.props.onAlert({\n        type: \"warning\",\n        message: error.message\n      })\n    });\n  }\n\n  render () {\n    return (\n      <Grid container id=\"login\" align=\"center\" justify=\"center\">\n        <br />\n        <Grid item xs={12} >\n          <Paper elevation={2}>\n            <Typography variant=\"h4\">\n              Login\n            </Typography>\n\n            <br />\n\n            <TextField\n            id=\"email\"\n            style={{ margin: 8 }}\n            placeholder=\"Email\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            /><br /><br />\n            <TextField\n            id=\"password\"\n            type=\"password\"\n            style={{ margin: 8 }}\n            placeholder=\"Password\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            />\n            <br/><br/>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} >\n          <Paper elevation={2}>\n            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n              Login\n            </Button>\n            <Link to=\"/register\" className=\"no-line\" style={{'paddingLeft': '10px'}}>\n              <Button variant=\"outlined\" color=\"secondary\" >\n                Register\n              </Button>\n            </Link>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default Login = withRouter(Login)","let apptheme = {\n   \"overrides\": {\n      \"MuiContainer\": {\n         \"root\":{\n            \"background-color\": \"#212121\"\n         }\n      },\n      \"MuiSelect\": {\n         \"icon\": {\n            \"color\": \"white\"\n         }\n      },\n      \"MuiInputBase\":{\n         \"root\": {\n\n         }\n      },\n      \"PrivateTabIndicator\":{\n         \"colorSecondary\":\n          {\n            \"backgroundColor\": \"white\"\n         }\n      },\n      \"MuiInput\":{\n         \"underline\":{\n            '&:before': {\n               borderBottomColor: \"white\"\n           }\n         }\n      },\n      \"MuiBottomNavigation\": {\n         \"root\": {\n            \"zIndex\": 100\n         }\n      }\n   },\n   \"palette\":{\n      \"common\":{\n         \"black\":\"#000\",\n         \"white\":\"#fff\"\n      },\n      \"appBackground\":{\n         \"main\": \"black\"\n        },\n      \"background\":{\n         \"paper\":\"#212121\",\n         \"toolbar\": \"#333333\",\n         \"tableHeader\": \"#2e3134\",\n         \"default\":\"rgba(48, 48, 48, 1)\"\n      },\n      \"primary\":{\n         \"main1\":\"#0072fff7\",\n         \"main\":\"#4ec5ff\",\n         \"mainGrad\": 'linear-gradient(90deg,#0890fd,#01d3fe)',\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"secondary\":{\n         \"light\":\"#14eac3\",\n         \"main\":\"#14eac3\",\n         \"dark\":\"#14eac3\",\n         \"contrastText\":\"#fff\"\n      },\n      \"error\":{\n         \"light\":\"#ea4331\",\n         \"main\":\"#c43627\",\n         \"dark\":\"#2d0d0b\",\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"text\":{\n         \"primary\":\"#ffffff\",\n         \"secondary\":\"#e0dfdf\",\n         \"disabled\":\"#bdbdbd\",\n         \"hint\":\"#afafaf\"\n      }\n   }\n};\n\nexport default apptheme = apptheme;","let applighttheme = {\n   \"overrides\": {\n      \"MuiContainer\": {\n         \"root\":{\n            \"background-color\": \"#ffffff\"\n         }\n      },\n      \"MuiSelect\": {\n         \"icon\": {\n            \"color\": \"black\"\n         }\n      },\n      \"PrivateTabIndicator\":{\n         \"colorSecondary\":\n          {\n            \"backgroundColor\": \"white\"\n         }\n      },\n      \"MuiBottomNavigation\": {\n         \"root\": {\n            \"zIndex\": 100\n         }\n      }\n   },\n    \"palette\":{\n       \"common\":{\n          \"black\":\"#000\",\n          \"white\":\"#fff\"\n       },\n       \"background\":{\n          \"paper\":\"#ffffff\",\n          \"toolbar\": \"#fffffff5\",\n          \"tableHeader\": \"#f1f1f1\",\n          \"default\":\"#f1f1f1\"\n       },\n       \"primary\":{\n          \"main1\":\"#0072fff7\",\n          \"main\":\"#4ec5ff\",\n          \"mainGrad\": 'linear-gradient(90deg,#0890fd,#01d3fe)',\n          \"contrastText\":\"rgba(255, 255, 255, 1)\"\n       },\n       \"secondary\":{\n          \"light\":\"#14eac3\",\n          \"main\":\"#14eac3\",\n          \"dark\":\"#14eac3\",\n          \"contrastText\":\"#fff\"\n       },\n       \"error\":{\n          \"light\":\"#ea4331\",\n          \"main\":\"#c43627\",\n          \"dark\":\"#2d0d0b\",\n          \"contrastText\":\"rgba(255, 255, 255, 1)\"\n       },\n       \"follow\":{\n          \"main\": \"#09e073\"\n       },\n       \"unfollow\": {\n          \"main\": \"#e07609\"\n       },\n       \"text\":{\n          \"primary\":\"#000000\",\n          \"secondary\":\"#e0dfdf\",\n          \"disabled\":\"#bdbdbd\",\n          \"hint\":\"#afafaf\"\n       }\n    }\n };\n\n export default applighttheme = applighttheme;","import firebase, { FirebaseAuthContext } from \"./context/firebaseContext\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"\n\nimport React from \"react\";\nimport { HashRouter, Switch, Route, Link, Redirect, Router, BrowserRouter } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\n\n\n\nimport { Paper, Button, BottomNavigation, BottomNavigationAction,\n        Grid, Container, Box }\nfrom '@material-ui/core';\nimport { createMuiTheme, withStyles, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\n\n\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport PanoramaIcon from '@material-ui/icons/Panorama';\n\nimport \"./styles.css\";\n\n\nimport BoxSearchPage from \"./pages/boxSearchPage\"\nimport Settings from \"./pages/settings\"\nimport BoxView from \"./comps/boxes/boxView\"\nimport RegisterUser from \"./comps/profile/registerUser\"\nimport GymClassView from \"./comps/gymClasses/gymClassView\"\nimport ScoreView from \"./comps/scores/scoreView\"\nimport Profile from \"./pages/profile\"\nimport Header from \"./comps/header\"\nimport Login from \"./comps/profile/login\"\n\n\nimport apptheme from \"./css/apptheme\"\nimport lightapptheme from \"./css/applighttheme\"\nimport \"./styles.css\"\n\nlet darkTheme = createMuiTheme(apptheme)\ndarkTheme = responsiveFontSizes(darkTheme)\n\n\nlet lightTheme = createMuiTheme(lightapptheme)\nlightTheme = responsiveFontSizes(lightTheme)\n\nconst BackgroundGrid = withStyles(theme =>({\n  root:{\n    backgroundColor: theme.palette.background.paper,\n    minHeight: \"calc(100vh - 128px)\",\n    maxHeight: \"calc(100vh - 128px)\",\n    overflowY: \"scroll\"\n  }\n}))(Grid)\n\nconst StyledBottomNavigation = withStyles(theme =>({\n  root:{\n    minHeight: \"64px\",\n    maxHeight: \"64px\"\n  }\n}))(BottomNavigation)\n\n\nconst StyledHeader = withStyles(theme =>({\n  root:{\n    minHeight: \"64px\",\n    maxHeight: \"64px\"\n  }\n}))(Header)\n\n\n\nexport default class App extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      btmnav: 0,\n      user: firebase.auth().currentUser,\n      userMD: false,\n      theme: darkTheme,\n      darkTheme: true,\n      alertOpen: false,\n      alertInfo: false\n    }\n\n  }\n\n  static getDerivedStateFromProps(props, state){\n    return state\n  }\n\n\n  componentDidMount(){\n    this.firebaseAuthListener = firebase.auth()\n    .onAuthStateChanged(user => {\n      let fs = firebase.firestore()\n      if(user){\n        let doc = fs.collection(\"users\").doc(user.uid)\n        this.userMDListener = doc.onSnapshot(metadata => {\n          if(metadata.exists){\n            this.setState({ user: user, userMD: metadata.data() })\n          }else{\n            this.setState({ user: user, userMD: false })\n          }\n        }, err => {console.log(err)})\n\n      }else{\n        this.setState({ user: null, userMD: false })\n      }\n    })\n\n  }\n\n  handleLogin(user){\n    this.setState({user: user})\n  }\n\n  handleLogout(){\n    firebase.auth().signOut().then(() => {\n      this.setState({user: null})\n    }, (error) => {\n      console.error('Sign Out Error', error )\n    });\n  }\n\n  componentWillUnmount(){\n    if(this.firebaseAuthListener !== undefined)\n      this.firebaseAuthListener && this.firebaseAuthListener()\n    if(this.userMDListener !== null)\n      this.userMDListener && this.userMDListener()\n  }\n\n  changeTheme(){\n    let newTheme  = this.state.darkTheme? lightTheme: darkTheme\n    this.setState({theme: newTheme, darkTheme: !this.state.darkTheme})\n  }\n\n  onAlert(alert){\n    console.log(alert)\n    this.setState({alertInfo: alert, alertOpen: true})\n  }\n\n  onCloseAlert(){\n    this.setState({alertOpen: false, alertInfo: false})\n  }\n\n\n\n  render(){\n    return(\n    <FirebaseAuthContext.Provider>\n    <BrowserRouter >\n    <ThemeProvider theme={this.state.theme}>\n      <StyledHeader className=\"header\" user={this.state.user}\n        userMD={this.state.userMD}\n        changeTheme={this.changeTheme.bind(this)}\n        handleLogout={this.handleLogout.bind(this)}\n        alertOpen={this.state.alertOpen}\n        alertInfo={this.state.alertInfo}\n        onCloseAlert={this.onCloseAlert.bind(this)}\n        />\n\n      <BackgroundGrid container id=\"testCont\" >\n\n\n        <Grid item container xs={12}\n          style={{\"minHeight\": \"100%\", paddingTop: \"8px\"}}>\n          <Switch>\n            <Route exact path=\"/boxSearch\">\n              <BoxSearchPage user={this.state.user}\n                userMD={this.state.userMD}\n                onAlert={this.onAlert.bind(this)}\n                />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile user={this.state.user}\n                userMD={this.state.userMD}\n                onAlert={this.onAlert.bind(this)}\n                />\n            </Route>\n\n            <Route path=\"/box/:boxID\"\n              render= { props =>(\n                <BoxView\n                  userMD={this.state.userMD}\n                  boxID={props.match.params.boxID}\n                  onAlert={this.onAlert.bind(this)}/>\n              )}\n            />\n            <Route path=\"/class/:boxID/:gymClassID\"\n              render= { props =>(\n                <GymClassView\n                  userMD={this.state.userMD}\n                  gymClassID={props.match.params.gymClassID}\n                  boxID={props.match.params.boxID}\n                  onAlert={this.onAlert.bind(this)}/>\n              )}\n            />\n           <Route path=\"/wod/:boxID/:gymClassID/:wodID\"\n            render= { props =>(\n                <ScoreView userMD={this.state.userMD}\n                  gymClassID={props.match.params.gymClassID}\n                  wodID={props.match.params.wodID}\n                  boxID={props.match.params.boxID}\n                  isReadOnly={true}\n                  onAlert={this.onAlert.bind(this)}/>\n              )\n            }\n          />\n          <Route exact path=\"/register\"\n            render= { props =>(\n              <RegisterUser onAlert={this.onAlert.bind(this)}/>\n            )}\n          />\n\n          <Route exact path=\"/settings\"\n            render= { props =>(\n                <Settings\n                  user={this.state.user}\n                  userMD={this.state.userMD}\n                  onAlert={this.onAlert.bind(this)}\n                />\n            )}\n          />\n\n          <Route exact path=\"/login\">\n            <Login\n              onLogin={this.handleLogin.bind(this)}\n              onAlert={this.onAlert.bind(this)}/>\n          </Route>\n          </Switch>\n\n          <div style={{\"margin\": \"5vh\"}}></div>\n        </Grid>\n      </BackgroundGrid>\n\n      <StyledBottomNavigation\n        value = {this.state.btmnav}\n        onChange = {(event, newValue) => {\n            this.setState({btmnav: newValue})\n          }}\n          style={{background: this.state.theme.palette.primary.mainGrad}}\n        showLabels\n      >\n        <BottomNavigationAction label=\"Search\" component={Link} to=\"/boxSearch\" icon={<PersonIcon />}  />\n        <BottomNavigationAction label=\"Profile\" component={Link} to=\"/profile\" icon={<PersonIcon />}  />\n      </StyledBottomNavigation>\n      </ThemeProvider>\n      </BrowserRouter>\n      </FirebaseAuthContext.Provider>\n\n    );\n  }\n}\nApp.contextType = FirebaseAuthContext;\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\n\n\n\n\nReactDOM.render( <App />, document.getElementById('root'));"],"sourceRoot":""}