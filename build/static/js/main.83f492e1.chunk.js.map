{"version":3,"sources":["context/firebaseContext.js","utils/formatting.js","comps/lineChart.js","comps/barChart.js","comps/scores/scoreDataView.js","comps/scores/scoreList.js","utils/firestore/scores.js","comps/scores/addScore.js","comps/actionCancelModal.js","comps/scores/scoreView.js","utils/firestore/gymClass.js","comps/gymClasses/gymClassList.js","utils/firestore/wods.js","comps/wods/editWod.js","comps/searchSortTable.js","comps/boxes/boxView.js","utils/firestore/follows.js","comps/boxes/boxSearch.js","pages/boxSearchPage.js","comps/profile/registerUser.js","comps/gymClasses/gymClassView.js","utils/firestore/boxes.js","comps/boxes/boxListAccordion.js","comps/gymClasses/addGymClass.js","comps/wods/workout.js","comps/wods/workoutPreview.js","comps/wods/addWod.js","comps/boxes/addBox.js","comps/topNavigation.js","utils/firestore/users.js","comps/profile/usernamePanel.js","comps/followers/userFollows.js","comps/scores/userScoreList.js","comps/profile/athlete.js","pages/profile.js","comps/header.js","comps/profile/login.js","history.js","css/apptheme.js","app.js","index.js"],"names":["firebase","FirebaseAuthContext","React","createContext","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cvtTimetoInt","x","split","mins","seconds","parseInt","cvtIntToTime","Math","floor","secs","database","LineChart","props","state","scoreType","data","values","stats","this","ctx","document","getElementById","grd","getContext","createLinearGradient","addColorStop","lineChart","destroy","Chart","type","label","datasets","barPercentage","barThickness","maxBarThickness","minBarLength","backgroundColor","options","scales","yAxes","ticks","callback","index","labels","tooltips","callbacks","title","tooltipItem","datasetIndex","yLabel","maintainAspectRatio","plugins","beforeInit","chart","newProps","setState","createChart","console","log","Grid","item","xs","style","height","id","Component","withTheme","BarChart","Map","length","binData","barChart","parseFloat","_mean","sd","bins","i","binA","format","binB","unshift","push","standardDeviation","mean","createLabels","binnedData","diff","numSDAway","abs","ScoreDataView","scores","graphData","rawScores","transformData","showCharts","map","score","getDescStats","vals","min","max","median","container","align","Paper","elevation","Typography","ScoreList","uid","Fragment","TableContainer","component","Table","aria-label","TableHead","TableCell","TableBody","isCurUserScore","ScoreRow","info","onRemove","isUserScore","Card","variant","color","CardContent","gutterBottom","username","scoreID","TableRow","selected","Button","size","onClick","fs","firestore","removeScore","Promise","res","rej","collection","doc","delete","then","catch","err","AddScore","userMD","wodMD","obj","Array","from","Object","entries","entry","s","search","userScore","value","isNumInSane","alert","isNaN","wodID","gymClassID","boxID","date","Date","now","where","get","ss","key","empty","set","forEach","setScore","margin","Accordion","AccordionSummary","background","theme","palette","primary","main","expandIcon","aria-controls","AccordionDetails","replace","toUpperCase","colSpan","TextField","pattern","inputProps","placeholder","width","shrink","handleAddScore","bind","ActionCancelModal","open","Modal","onClose","aria-labelledby","aria-describedby","position","top","left","transform","display","flexDirection","justifyContent","modalText","onAction","actionText","cancelText","ScoreView","curRemoveScoreID","showRemoveAlert","wodListener","onSnapshot","scoreListener","isTime","sort","a","b","undefined","keys","handleRemoveScore","handleModalClose","getGymClasses","removeGymClass","promises","name","getSnapshot","collectionName","fieldName","fieldID","batch","cnt","ref","commit","all","GymClass","ev","onRowClick","isOwner","handleRemoveGymClass","GymClassList","user","redirect","redirectTo","filteredGymClasses","gymClasses","classes","keyCode","which","val","target","filter","gymClass","toLowerCase","includes","tagName","to","fullWidth","onKeyUp","onChange","InputProps","startAdornment","InputAdornment","stickyHeader","removeWod","EditWod","wodInfo","userBoxes","hasBoxes","wodText","update","editWod","oldScoreType","oldBoxID","Select","native","box","handleValChange","InputLabelProps","multiline","rows","editWOD","Wod","toLocaleDateString","showOwnerBtns","handleEdit","handleRemove","SearchSortTable","headers","filteredRows","orderTableBy","orderTable","pageNum","rowsPerPage","pageStart","pageEnd","wod","orderBy","order","descendingComparator","comparator","stabilizedThis","el","isAsc","newPage","start","end","header","sortable","TableSortLabel","active","direction","createSortHandler","stableSort","getComparator","slice","row","handleView","TablePagination","rowsPerPageOptions","count","page","onChangePage","handleChangePage","onChangeRowsPerPage","handleChangeRowsPerPage","BoxView","boxMD","wods","currentWodID","currentWodMD","showEditModal","editWodInfo","curRemoveWodBoxID","curRemoveWodID","curRemoveWodTitle","userBoxesListener","boxes","boxListener","getUserBoxListener","getBoxListener","getWodListener","checkListeners","filteredWods","isReadOnly","removeFollow","followID","setFollow","isFollowing","Box","isUserFollowing","handleUnfollow","handleFollow","handleRemoveBox","BoxSearch","allBoxes","filteredBoxes","userFollowing","listenForFollowing","following","boxInfo","mainGrad","handleBoxView","BoxSearchPage","allBoxesListener","y","RegisterUser","email","pass1","pass2","auth","createUserWithEmailAndPassword","admin","accountType","justify","handleSubmit","gymClassMD","exists","getGymClassListener","handleRemoveWod","deleteWod","handleEditModalClose","removeBox","BoxListAccordion","currentBoxID","curRemoveBoxID","curRemoveBoxTitle","boxTitle","reduce","zeroMinWidth","padding","noWrap","deleteBox","withStyles","root","borderBottom","TC","AddGymClass","createGymClass","JSON","parse","result","setGymClass","stringify","UNITS","Title","endAdornment","fontSize","colIndex","colIndexKey","onUpdate","Amount","Unit","unit","RowRaw","onRowUpdate","border","spacing","Row","Workout","submit","onRowSubmit","rowIndex","newRows","updateParent","onSubmit","addRow","addItem","removeRow","textRaw","text","join","WorkoutPreview","AddWod","setGymClassListner","setWod","onBoxSelectChange","getWorkoutData","onWorkoutUpdate","AddBox","createBox","setBox","TabPanel","children","other","role","hidden","NewOwnerBox","addBoxProgress","listenForBoxes","AppBar","Tabs","selectionFollowsFocus","handleChange","Tab","a11yProps","axis","onChangeIndex","handleChangeIndex","UsernamePanel","showUpdate","usernameInput","exec","hideUpdate","docs","setUsername","updateUsername","toggleUpdate","UserFollows","userFollows","followingSS","docChanges","change","follows","follow","UserScoreList","removeScoreID","hideRemoveAlert","onViewBox","handleViewBox","onViewWod","handleViewWod","AddBoxOutlined","LooksOneOutlined","DeleteOutlined","db","Athlete","userScores","listenForUserScores","orderByChild","equalTo","on","userScoresSS","PageContentRaw","emailAlertOpen","sendEmailVerification","Collapse","in","Alert","emailVerified","sendVerificationEmail","PageContent","ProfilePage","Header","toolbar","Toolbar","disableGutters","marginLeft","marginRight","handleLogout","Login","signInWithEmailAndPassword","onLogin","error","code","message","className","createBrowserHistory","apptheme","createMuiTheme","responsiveFontSizes","App","btmnav","currentUser","firebaseAuthListener","onAuthStateChanged","userMDListener","metadata","signOut","Provider","history","ThemeProvider","exact","path","render","match","params","handleLogin","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","Link","icon","contextType","ReactDOM"],"mappings":"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","file":"static/js/main.83f492e1.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \nimport React from \"react\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCGE8_j8cfIBmIzcvP6CVgG2yC6EE1Ep1U\",\n  authDomain: \"wodtrackrr.firebaseapp.com\",\n  databaseURL: \"https://wodtrackrr.firebaseio.com\",\n  projectId: \"wodtrackrr\",\n  storageBucket: \"wodtrackrr.appspot.com\",\n  messagingSenderId: \"743601990099\",\n  appId: \"1:743601990099:web:5937e9151eaad13e93a726\",\n  measurementId: \"G-39CF0BRPMH\"\n};\n\n\n\nexport default firebase\nexport const FirebaseAuthContext = React.createContext(firebase.initializeApp(firebaseConfig));","export default function cvtReps(x){\n\treturn parseInt(x)\n}\n\nexport function cvtTimetoInt(x){\n\tlet [mins, seconds] = x.split(\":\")\n\treturn (parseInt(mins) * 60) + parseInt(seconds)\n}\n\n\nexport function cvtIntToTime(x){\n\tlet mins = Math.floor(x / 60)\n\tlet secs = Math.floor(x - (mins*60))\n\tif(secs < 10){\n\t\tsecs = `0${secs}`\n\t}\n\treturn `${mins}:${secs}`\n}\n\n\nexport function cvtTimetoIntList(rawScores){\n\treturn rawScores.map((score) => {\n\t\tcvtTimetoInt(score)\n\t})\n}\n\n\nexport function msToDate(ms){\n\treturn new Date(ms).toLocaleDateString(\"en-US\")\n}\n\n\nexport function formatDate(){\n  const [{ value: month },,{ value: day },,{ value: year }] \n    = new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' })\n      .formatToParts(new Date())  \n  console.log(new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' }))\n  return `${year}/${month}/${day}`\n}\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport Chart from 'chart.js';\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport \"../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass LineChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: props.stats // mean, median, SD\n\t\t}\n\t}\n\t\n\tcomponentDidMount(){\n\t}\n\n\tcreateChart(){\n\t\tthis.ctx = document.getElementById('lineChart');\n\t\t\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\t\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.lineChart){\n\t\t\tthis.lineChart.destroy()\n\t\t}\n\t\t\n\t\tthis.lineChart = new Chart(this.ctx, {\n\t\t    type: 'line',\n\t\t    \n\t\t    data:  {\n\t\t    \tlabel: \"Scores\",\n\t\t\t    datasets: [{\n\t\t\t    \tlabel: \"Score\",\n\t\t\t        barPercentage: 0.5,\n\t\t\t        barThickness: 6,\n\t\t\t        maxBarThickness: 8,\n\t\t\t        minBarLength: 2,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: this.state.data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tscales: {\n\t\t            yAxes: [{\n\t\t                ticks:{\n\t\t                \tcallback: (label, index, labels) => {\n\t\t\t                \tif(this.state.scoreType === \"time\"){\n\t\t\t                \t\treturn cvtIntToTime(label)\n\t\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t\t                \t\treturn label\n\t\t\t                \t}\n\t\t\t                }\n\t\t\t             }\n\t\t            }]\n\t\t\t    },\n\t\t\t    tooltips: {\n\t\t\t        callbacks: {\n\t\t\t        \ttitle: (tooltipItem, data) => {\n\n\t\t\t        \t},\n\t\t\t            label: (tooltipItem, data) => {\n\t\t\t                var label = data.datasets[tooltipItem.datasetIndex].label || '';\n\n\t\t\t                if (label) {\n\t\t\t                    label += ': ';\n\t\t\t                }\n\n\t\t\t                if(this.state.scoreType === \"time\"){\n\t\t                \t\tlabel += cvtIntToTime(tooltipItem.yLabel)\n\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t                \t\tlabel += tooltipItem.yLabel\n\t\t                \t}\n\t\t\t                \n\t\t\t                \n\t\t\t                return label;\n\t\t\t            }\n\t\t\t        }\n\t\t\t    },\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t},\n\t\t\tplugins: [{\n\t\t\t\tbeforeInit: function(chart) {\n\t\t\t\t\tvar chartData = chart.data.datasets[0].data\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps}, ()=>{\n\t\t\tthis.createChart()\n\t\t})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n  render(){\n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t\t<canvas id=\"lineChart\" ></canvas>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\n\n\n\n  \nexport default LineChart = withTheme(LineChart);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\nimport \"../styles.css\"\n\nimport Chart from 'chart.js';\n\n\n\nvar db = firebase.database();\n\nclass BarChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: new Map() // mean, median, SD\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({\n\t\t\t...newProps,\n\t\t}, () => {\n\t\t\tif(this.state.values.length > 0)\n\t\t\t\tthis.createChart(this.binData(this.state.values))\n\t\t})\n\t}\n\n\tcreateChart([labels, data]){\n\t\tthis.ctx = document.getElementById('barChart');\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.barChart){\n\t\t\tthis.barChart.destroy()\n\t\t}\n\t\tthis.barChart = new Chart(this.ctx, {\n\t\t    type: 'bar',\n\t\t    data:  {\n\t\t    \tlabels: labels,\n\t\t\t    datasets: [{\n\t\t\t    \t'label': \"Scores (Standard Deviation)\",\n\t\t\t        minBarLength: 1,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t}\n\t\t});\n\t}\n\n\tformat(x){\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\treturn x <= 0 ? 0 : cvtIntToTime(x)\n\t\t}else if(this.state.scoreType === \"reps\"){\n\t\t\treturn parseFloat(x)\n\t\t}\n\t}\n\n\tcreateLabels(_mean, sd){\n\t\tlet bins = []\n\n\t\tfor(let i=0; i<3; i++){\n\t\t\tlet binA = `${this.format(_mean - (sd * (i + 1)))} - ${this.format(_mean - (sd * i))}`\n\t\t\tlet binB = `${this.format(_mean + (sd * i))} - ${this.format(_mean + (sd * (i + 1)))}`\t\n\t\t\tbins.unshift(binA)\n\t\t\tbins.push(binB)\n\t\t}\n\t\treturn bins\n\t}\n\n\tbinData(values){\n\t\t/*\n\t\t\t{x: binValue, y: countOfbin}\n\t\t\t6 bins 1,2,3 SD from Mean each way\n\t*/\n\t\tlet sd = standardDeviation(values)\n\t\tlet _mean = mean(values)\n\t\tlet labels = this.createLabels(_mean, sd)\n\t\tlet binnedData = [0, 0, 0, 0, 0, 0]\n\t\tfor(let x of values){\n\t \t\tlet diff = (x - _mean)\n\t \t\tlet numSDAway = Math.floor(diff / sd)\t \t\t\n\t \t\tif(Math.abs(numSDAway) <= 1){\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[3]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[2]++\n\t \t\t\t}\n\t \t\t}else if(Math.abs(numSDAway) <= 2){\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[4]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[1]++\n\t \t\t\t}\n\t \t\t} else{\n\t \t\t\tif(diff > 0){\n\t \t\t\t\tbinnedData[5]++\n\t \t\t\t}else{\n\t \t\t\t\tbinnedData[0]++\n\t \t\t\t}\n\t \t\t}\n\t\t}\n\t\treturn [labels, binnedData]\n\t}\n\n  render(){\n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t\t<canvas id=\"barChart\"></canvas>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\nexport default BarChart = withTheme(BarChart);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport LineChart from \"../lineChart\"\nimport BarChart from \"../barChart\"\n\nimport {cvtTimetoInt, cvtIntToTime, cvtTimetoIntList} from \"../../utils/formatting\"\nimport \"../../styles.css\"\n\n\nclass ScoreDataView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores, // array of objects\n\t\t\tgraphData: [],\n\t\t\trawScores: [],\n\t\t\tscoreType: \"\",\n\t\t\tstats: {}\n\t\t}\t\t\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tif(newProps.scores && newProps.scores.length > 0){\n\t\t\tlet data = this.transformData(newProps.scores)\n\t\t\tlet [graphData, rawScores, scoreType, stats] = data\n\t\t\tlet showCharts = (rawScores.length > 1) ? true : false\n\n\t\t\tthis.setState({...newProps,\n\t\t\t\tgraphData: graphData, \n\t\t\t\trawScores: rawScores, \n\t\t\t\tscoreType: scoreType, \n\t\t\t\tstats: stats,\n\t\t\t\tshowCharts: showCharts\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({...newProps})\n\t\t}\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n\ttransformData(scores){\n\t\t/*\n\t\t\tcreate two arrays\n\t\t\tOne for data display in graph, \n\t\t\t\t\t[ {\"category\": \"A\", \"amount\": 28}, ... ]\n\t\t\tSecond to crunch data, raw values\n\t\t\t\tkey\t=> uid\n\t\t\t\t\tboxID: \t\t\"-MMVcVjihF2bXFc6qIEp\"\n\t\t\t\t\tscore:  \t\"321\"\n\t\t\t\t\tusername:  \t\"TestOwner\"\n\t\t\t\t\twodID:  \t\"-MMjP1_MQH23dnFQOfjR\"\n\t\t*/\n\t\tlet graphData = []\n\t\tlet scoreType = \"\"\n\t\tlet values = scores.map(score => {\n\t\t\tscoreType = score.scoreType\n\t\t\treturn (score.scoreType === \"time\") ? cvtTimetoInt(score.score)\n\t\t\t\t: parseFloat(score.score)\n\t\t})\n\t\t\n\t\t// create data list for chart \n\t\tfor(let i =0; i < values.length; i++){\n\t\t\t graphData.push({\"x\": i, \"y\": values[i], \"c\": 0})\n\t\t}\n\t\treturn [graphData, values, scoreType, this.getDescStats(values)]\n\t}\n\n\t getDescStats(vals){\n\t \tconsole.log(vals)\n\t\treturn {\n\t\t\t'min': Math.min(...vals),\n\t\t\t'max': Math.max(...vals),\n\t\t\t'mean': mean(vals),\n\t\t\t'median': median(vals),\n\t\t\t'sd': standardDeviation(vals)\n\t\t}\n  }\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<Grid item container align=\"center\" xs={12}>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tLow: {this.state.scoreType === \"time\" ? \n\t\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"min\"])\n\t\t\t\t\t\t\t\t: this.state.stats[\"min\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tHigh: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"max\"])\n\t\t\t\t\t\t\t: this.state.stats[\"max\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\tAvg: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats[\"mean\"])\n\t\t\t\t\t\t\t: this.state.stats[\"mean\"]}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<LineChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType}\n\t\t\t\t\t\tstats={this.state.stats} />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BarChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType}\n\t\t\t\t\t\tstats={this.state.stats} />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n  }\n}\nexport default ScoreDataView = withTheme(ScoreDataView);\n\n","import React, { Component } from 'react'\n\nimport \n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tCardActions, Card, CardContent, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab'\nimport { withTheme } from '@material-ui/core/styles'\nimport Delete from '@material-ui/icons/Delete'\n\n\n\nimport \"../../styles.css\"\n\nclass ScoreList extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores,\n\t\t\tuid: props.uid\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n  render(){\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableCell>Username</TableCell>\n\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map(score => {\n\t\t\t\t\t\tlet isCurUserScore = \n\t\t\t\t\t\t\t(this.state.uid == score[\"uid\"])? true : false\n\t\t\t\t\t\treturn <ScoreRow \n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\tonRemove = {this.props.onRemove}\n\t\t\t\t\t\t\tisUserScore={isCurUserScore} \n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t</TableContainer>\n\t\t\t:\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t  <CardContent>\n\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t   \tNo Scores!\n\t\t\t\t    </Typography>\n\t\t\t\t   </CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\n  \nexport default ScoreList = withTheme(ScoreList);\n\n\n/*\nShow details of Box and its WODS\n*/\nfunction ScoreRowRaw(props){\n\tlet score = props.info[\"score\"]\n\tlet username = props.info[\"username\"]\n\tlet wodID = props.info[\"wodID\"]\n\tlet uid = props.info[\"uid\"]\n\tlet scoreID = props.info[\"scoreID\"]\n\tlet rowStyle = (props.isUserScore)? \"\": \"\"\n\treturn(\n\t\t<TableRow selected={props.isUserScore}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{username}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{score} \n\t\t\t\t</TableCell>\n\t\t\t\t{\n\t\t  \t\t\tprops.isUserScore\n\t\t  \t\t\t?\n\t\t\t  \t\t<TableCell align=\"right\">\n\t\t\t\t\t    <Button size=\"small\" \n\t\t\t\t\t    \t\n\t\t\t\t\t    \tonClick={() => props.onRemove(scoreID)}>\n\t\t\t\t\t    \t<Delete color=\"error\"  />\n\t\t\t\t\t    </Button>\n\t\t\t  \t\t</TableCell>\n\t\t\t  \t\t:\n\t\t\t  \t\t<TableCell></TableCell>\n\n\t\t  \t\t}\n\t\t</TableRow>\n\t)\n}\nlet ScoreRow =  withTheme(ScoreRowRaw)","/*\n\tScores\n*/\n\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\"; \n\nlet fs = firebase.firestore();\n\n\nexport function setScore(title, username, uid, userScore, wodID, gymClassID, boxID,\n\t\t\t\t\t\tscoreType){\n\treturn new Promise((res, rej) => {\n\t\tlet data = {\n\t\t\t\tuid: uid,\n\t\t\t\twodID: wodID,\n\t\t\t\tgymClassID: gymClassID,\n\t\t\t\tboxID: boxID,\n\t\t\t\tusername: username,\n\t\t\t\ttitle: title,\n\t\t\t\tscore: userScore,\n\t\t\t\tscoreType: scoreType,\n\t\t\t\tdate: Date.now()\n\t\t\t}\n\t\tfs.collection(\"scores\")\n\t\t.where(\"uid\", \"==\", uid)\n\t\t.where(\"wodID\", \"==\", wodID)\n\t\t.get().then(ss => {\n\t\t\tlet key = \"\"\n\t\t\tconsole.log(ss)\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tkey = doc.data().scoreID\n\t\t\t\t})\n\t\t\t\tdata['scoreID'] = key\n\t\t\t\tfs.collection(\"scores\").doc(key).set(data)\n\t\t\t\t.then(() => {res(\"Updated score.\")})\n\t\t\t\t.catch(err => {rej(err)})\n\t\t\t}else{\n\t\t\t\tlet doc = fs.collection(\"scores\").doc()\n\t\t\t\tdata['scoreID'] = doc.id\n\t\t\t\tdoc.set(data)\n\t\t\t\t.then(() => {res(\"Added new score.\")})\n\t\t\t\t.catch(err => {rej(err)})\n\t\t\t\t// Create score \n\t\t\t}\n\t\t},\n\t\t\terr => {\n\t\t\t\trej(err)\n\t\t})\n\t})\n}\n\nexport function removeScore(scoreID){\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"scores\").doc(scoreID).delete()\n\t\t.then(()=>{res(`Successfully removed score: ${scoreID}`)})\n\t\t.catch((err) => {rej(`Failed to remove score: ${scoreID}`)})\n\t})\t\n}\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ScoreDataView from \"./scoreDataView\" \nimport { setScore } from \"../../utils/firestore/scores\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass AddScore extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\twodMD: props.wodMD\n\t\t}\n\t\tconsole.log(props)\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tobjListToArray(obj){\n\t\t// let key = Object.keys(obj)[0]\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\tisNumInSane(s){\n\t\tlet hasNonDigitRegex = /\\D/\n\t\tlet res = s.search(hasNonDigitRegex) \n\t\tlet isSane = (res === -1) ? true: false\n\t\treturn isSane \n\t}\n\n\thandleAddScore(){\n\t\tif(!this.state.userMD){return}\n\n\t\tlet userScore = \"\"\n\t\tif(this.state.wodMD['scoreType'] === \"time\"){\n\t\t\tlet mins =  document.getElementById(\"scoreViewUserScoreMins\").value\n\t\t\tlet secs =  document.getElementById(\"scoreViewUserScoreSecs\").value\n\t\t\tif(!this.isNumInSane(mins) || !this.isNumInSane(secs)){\n\t\t\t\talert(`Time must only contain numbers, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) > 59){\n\t\t\t\talert(`Seconds must be 59 or below, entered: ${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) < 10 && secs.length === 1){\n\t\t\t\tsecs = `0${secs}`\n\t\t\t}\n\t\t\tif(isNaN(parseInt(secs)) ||  isNaN(parseInt(mins))){\n\t\t\t\talert(`Missing field, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length > 2){\n\t\t\t\talert(`Minutes must be 99 or below, entered: ${mins}`)\t\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length === 0){\n\t\t\t\tmins = \"0\"\n\t\t\t}\n\t\t\tif(secs.length === 0){\n\t\t\t\tsecs = \"0\"\n\t\t\t}\n\t\t\tuserScore = `${mins}:${secs}`\n\t\t}else{\n\t\t\t// reps or rounds\n\t\t\tuserScore =  document.getElementById(\"scoreViewUserScore\").value\n\t\t\tif(userScore.length > 3){\n\t\t\t\talert(`Score must be 3 digits or less, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!userScore){\n\t\t\t\talert(\"Must enter score.\")\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!this.isNumInSane(userScore)){\n\t\t\t\talert(`Score must be digits only, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tlet username = this.state.userMD.username\n\t\tlet uid = this.state.userMD.uid\n\t\tlet wodID = this.state.wodMD[\"wodID\"]\n\t\tlet gymClassID = this.state.wodMD[\"gymClassID\"]\n\t\tlet boxID = this.state.wodMD[\"boxID\"]\n\t\tlet title = this.state.wodMD[\"title\"]\n\t\tlet scoreType = this.state.wodMD[\"scoreType\"]\n\t\t\n\t\tsetScore(title, username, uid, userScore, wodID, gymClassID, boxID, scoreType)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tstyle={{background: this.props.theme.palette.primary.main}}\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls=\"additional-actions2-content\"\n\t\t\t\t\tid=\"additional-actions2-header\">\n\t\t\t\t\t<Typography >\n\t\t\t\t\t\tAdd Score\n\t\t\t\t\t</Typography>\t        \n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{this.state.wodMD['scoreType']\n\t\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\tthis.state.wodMD['scoreType'][0],\n\t\t\t\t\t\t\t\tthis.state.wodMD['scoreType'][0].toUpperCase())\n\t\t\t\t\t\t}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{this.state.wodMD.scoreType === \"reps\" ?\t\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t              id=\"scoreViewUserScore\"\n\t\t\t\t\t\t              type=\"number\"\n\t\t\t\t\t\t              style={{ margin: 8}}\n\t\t\t\t\t\t              pattern=\"[0-9]{4}\"\n\t\t\t\t\t\t              inputProps={{\n\t\t\t\t\t\t                title: \"Numbers only, max length 4\",\n\t\t\t\t\t\t                placeholder: \"Score\"\n\t\t\t\t\t\t              }}\n\t\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t\t                shrink: true,\n\t\t\t\t\t\t              }}\n\t\t\t\t\t\t            />\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t              id=\"scoreViewUserScoreMins\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{3}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 3\",\n\t\t\t                placeholder: \"Minutes\"\n\t\t\t              }}\n\t\t\t              style={{width: \"100%\"}}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t              id=\"scoreViewUserScoreSecs\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{2}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 2\",\n\t\t\t                placeholder: \"Seconds\"\n\t\t\t              }}\n\t\t\t              style={{width: \"100%\"}}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={3} align=\"center\">\n\t\t\t\t        \t<Button  color=\"primary\" style={{width: \"100%\"}} variant=\"outlined\"\n\t\t\t\t        \t\tonClick={this.handleAddScore.bind(this)}>\n\t\t\t\t        \t\tAdd\n\t\t\t\t        \t</Button>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\t\t\n\t\t</Grid>\n\t)\n  }\n}\n\n  \nexport default AddScore = withTheme(AddScore);\n\n","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\n\n\nexport default class ActionCancelModal extends Component{\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\topen: props.open\n\t\t}\n\t\t/*\n\t\topen\n\t\tactionText\n\t\tcancelText\n\t\tmodalText\n\t\tonAction\n\t\tonClose\n\t\t*/\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"simple-modal-title\"\n\t\t\t    aria-describedby=\"simple-modal-description\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t {this.props.modalText}\n\t\t    \t\t\t</Typography>\n\n\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"primary\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onAction()}}>\n\t\t    \t\t\t\t{this.props.actionText}\n\t\t    \t\t\t</Button>\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"error\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onClose()}}>\n\t\t    \t\t\t\t{this.props.cancelText}\n\t\t    \t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t)\n\t}\n\n}\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{   Grid, Paper, Button, Typography, Collapse, TextField, Select,\n  Accordion, AccordionSummary, AccordionDetails, FormControlLabel,\n  CircularProgress, LinearProgress, CardActions, Card, CardContent,\n  ListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n  TableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ScoreDataView from \"./scoreDataView\" \nimport ScoreList from \"./scoreList\"\nimport AddScore from \"./addScore\" \nimport ActionCancelModal from \"../actionCancelModal\"\n\nimport { removeScore } from \"../../utils/firestore/scores\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass ScoreView extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      userMD: props.userMD,\n      boxID: props.boxID,\n      wodID: props.wodID,\n      wodMD: {},\n      scores: [],\n      userScore: {},\n      curRemoveScoreID: \"\",\n      showRemoveAlert: false\n    }\n  }\n\n  componentDidMount(){\n    let fs = firebase.firestore()\n    this.wodListener = fs.collection(\"wods\").doc(this.state.wodID)\n    .onSnapshot(ss => {\n      this.setState({wodMD: ss.data()})\n    },\n      err => {console.log(err)})\n\n    this.scoreListener = fs.collection(\"scores\")\n    .where(\"wodID\", \"==\", this.state.wodID)\n    .onSnapshot(ss => {\n      if(!ss.empty){\n        let scores = []\n        let userScore = {}\n        let scoreType = \"\"\n        ss.forEach(doc => {\n          let data = doc.data()\n          scores.push(data)\n          scoreType = data.scoreType\n          if(data.uid === this.state.uid)\n            userScore = data\n        })\n        let isTime = (scoreType && scoreType === \"time\") ? 1 : 0\n        scores.sort((a,b) => {\n          return isTime \n          ?\n              parseFloat(a[\"score\"]) < parseFloat(b[\"score\"]) ? -1 : 1\n          :\n             parseFloat(a[\"score\"]) > parseFloat(b[\"score\"]) ? 1 : -1\n        })\n        this.setState({\n          scores: scores,\n          userScore: userScore\n        })\n      }else{\n        this.setState({\n          scores: [],\n          userScore: {}\n        })\n      }\n    }, \n      err => {})\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n    console.log(newProps)\n  }\n\n  componentWillUnmount(){\n    if(this.scoreListener !== undefined)\n      this.scoreListener()\n    if(this.wodListener !== undefined)\n      this.wodListener()\n  }\n\n  handleModalClose(){\n    this.setState({showRemoveAlert:false})\n  }\n\n  handleRemoveScore(scoreID){\n    console.log(`Remove score with ID: ${scoreID}`)\n    this.setState({curRemoveScoreID: scoreID, showRemoveAlert: true})\n  }\n\n  removeScore(){\n    let scoreID = this.state.curRemoveScoreID\n    if(scoreID === \"\" || scoreID.length <=0){return}\n\n    this.setState({showRemoveAlert: false})\n\n    removeScore(scoreID)\n    .then((res)=>{\n      console.log(res)\n      this.setState({showRemoveAlert: false})     \n    })\n    .catch((err)=>{console.log(err)})\n  }\n\n  render(){\n    console.log(this.state.userMD)\n  return(\n    <React.Fragment>\n      {Object.keys(this.state.wodMD).length > 0 ?\n        <Grid item xs={12}>\n          <Grid item align=\"center\" xs={12}>\n            <Paper elevation={2}>\n              <Typography>{this.state.wodMD[\"title\"]}</Typography>\n              <Typography>Type: {this.state.wodMD[\"scoreType\"]}</Typography>\n            </Paper>\n          </Grid>\n\n          <Grid item container xs={12}>\n            <Paper elevation={2}>\n              <ReactMarkdown>{this.state.wodMD[\"wodText\"]}</ReactMarkdown>\n            </Paper>   \n          </Grid>\n          {Object.keys(this.state.userMD).length > 0?\n            <AddScore \n              userMD={this.state.userMD}\n              wodMD={this.state.wodMD}\n            />\n          :\n            <React.Fragment></React.Fragment>\n          }\n          <Grid item xs={12}>\n            <Paper elevation={2}>   \n              <ScoreDataView \n                scores={this.state.scores}\n              />\n            </Paper>\n          </Grid>\n          <Grid item xs={12}>\n            <Paper elevation={2}>   \n            <ScoreList\n              scores={this.state.scores}\n              uid={this.state.userMD.uid}\n              onRemove={this.handleRemoveScore.bind(this)}\n            />\n            </Paper>\n          </Grid>\n          <ActionCancelModal\n            open={this.state.showRemoveAlert}\n                onClose={this.handleModalClose.bind(this)}\n                onAction={this.removeScore.bind(this)}\n                modalText={`Remove score?`}\n                actionText={`Remove`}\n                cancelText={`Cancel`}\n            />\n          </Grid>\n        :\n          <React.Fragment>\n            Wod not found!\n          </React.Fragment>\n      }\n    </React.Fragment>\n  )\n  }\n}\n  \nexport default ScoreView = withTheme(ScoreView);\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore();\n\nexport default function mTea(){}\n\n/*\n\tGymClasses\n*/\n\nexport function getGymClasses(boxID){\n\treturn fs.collection(\"gymClasses\").where(\"boxID\", \"==\", boxID)\n}\n\nexport function setGymClass(title, uid, boxID, boxTitle){\n  \treturn new Promise((res, rej) => {\n  \t\tfs.collection(\"gymClasses\").where(\"title\", \"==\", title)\n  \t\t.get().then(result => {\n  \t\t\tif(result.empty){\n\t\t\t\t\tlet doc = fs.collection(\"gymClasses\").doc()\n\t\t  \t\tdoc.set({\n\t\t  \t\t\tgymClassID: doc.id,\n\t\t  \t\t\tboxID: boxID,\n\t\t  \t\t\tboxTitle: boxTitle,\n\t\t  \t\t\ttitle: title,\n\t\t  \t\t\tuid, uid,\n\t\t  \t\t\tdate: Date.now()\n\t\t  \t\t})\n\t\t  \t\t.then(()=>{\n\t\t  \t\t\tres(\"Added gymClass\")\n\t\t  \t\t})\n\n  \t\t\t}else{\n  \t\t\t\trej(\"Name Taken\")\n  \t\t\t}\n  \t\t})\n  \t})\n }\n\n\nfunction getSnapshot(collectionName, fieldName, fieldID, res, rej){\n\tconst batch = fs.batch()\n\tlet snapshotSize = 0\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tsnapshotSize = ss.size\n\t\t\n\t\tss.forEach(doc => {\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\t\t\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)\n\t\t\t\tgetSnapshot(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => rej(0))\n\t})\n\tres(1)\n}\n\nexport function removeGymClass(gymClassID){\n\tlet collectionNames = [\"wods\", \"scores\", \"gymClasses\"]\n\n\tlet promises = collectionNames.map(name => {\n\t\treturn new Promise((res, rej) => {\n\t\t\tgetSnapshot(name, \"gymClassID\", gymClassID, res, rej)\n\t\t})\n\t})\n\t\n\treturn Promise.all(promises)\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\n\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport Delete from '@material-ui/icons/Delete'\nimport { getGymClasses, removeGymClass } from '../../utils/firestore/gymClass'\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction GymClassRaw(props){\n  let title = props.info[\"title\"]\n  let boxID = props.info[\"boxID\"]\n  let gymClassID = props.info[\"gymClassID\"]\n  // TODO redirect to wods whhoch is what boxView is\n  return(\n    <TableRow id={`class/${gymClassID}`} name=\"GymClassRow\" \n          onClick={(ev) => {props.onRowClick(ev, `/class/${gymClassID}`)} }> \n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle\" color=\"primary\">\n          { title }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.handleRemoveGymClass(gymClassID)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n}\nconst GymClass = withTheme(GymClassRaw)\n\nclass GymClassList extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      boxID: props.boxID,\n      redirect: false,\n      redirectTo: \"\",\n      filteredGymClasses:[],\n      gymClasses: []\n    }\n  }\n\n  componentDidMount(){\n    this.getGymClasses(this.state.boxID)\n  }\n\n  getGymClasses(boxID){\n    if(!boxID)\n      return\n    getGymClasses(this.state.boxID)\n    .onSnapshot(ss => {\n      if(!ss.empty){\n        let classes = []\n        ss.forEach(doc => {\n          classes.push(doc.data())\n        })\n        this.setState({gymClasses: classes, filteredGymClasses: classes})\n        // this.setClickListeners()\n      }else{\n        this.setState({gymClasses: [], filteredGymClasses: []})\n      }\n    },\n    err => {console.log(err)})\n  }\n\n  \n\n  handleRemoveGymClass(gymClassID){\n      console.log(\"remove class\", gymClassID)\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n    this.getGymClasses(newProps.boxID)\n\n    \n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){   \n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredGymClasses = this.state.gymClasses.filter(gymClass =>{\n      return gymClass[\"title\"].toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredGymClasses: filteredGymClasses})\n  }\n\n  onRowClick(ev, id){\n    if(ev.target.tagName === \"TD\"){\n      this.setState({redirect: true, redirectTo: id})\n    }\n  }\n\n  handleRemoveGymClass(gymClassID){\n    removeGymClass(gymClassID)\n    .then((res) => {\n      console.log(res)\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  render () {\n    return (\n      <Grid item xs={12}>\n        {this.state.redirect ?\n          <Redirect to={this.state.redirectTo} />\n        :\n          <React.Fragment></React.Fragment>\n        }\n        <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n        <Paper elevation={2} component=\"form\">\n           <TextField\n             fullWidth\n              variant=\"outlined\"\n              onKeyUp={this.onKeyUp.bind(this)}\n              onChange={this.onChange.bind(this)}\n              placeholder=\"Search Classes\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon color=\"primary\" />\n                  </InputAdornment>\n                )\n              }}\n          />\n        </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <TableContainer>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Classes</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n    {\n      this.state.filteredGymClasses.map((gymClass, i) => {\n        return <GymClass \n                key={i} \n                info={gymClass} \n                handleRemoveGymClass={this.handleRemoveGymClass.bind(this)}\n                isOwner={this.props.isOwner}\n                onRowClick={this.onRowClick.bind(this)}\n                />\n      })\n    }\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default GymClassList = withTheme(GymClassList)\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\";\n\n\n\nexport default function mTea(){}\n\n/*\n\tWods\n*/\n\nexport function setWod(boxID, gymClassID, title, wodText, scoreType){\n\tlet fs = firebase.firestore();\n\tlet doc = fs.collection(\"wods\").doc()\n\tlet data = {\n\t\twodID: doc.id,\n\t\tboxID: boxID,\n\t\tgymClassID: gymClassID,\n\t\ttitle: title,\n\t\tscoreType: scoreType,\n\t\twodText: wodText,\n\t\tdate: Date.now()\n\t}\n\treturn doc.set(data)\n}\n\nexport function editWod(boxID, wodID, title, wodText, scoreType){\n\tlet fs = firebase.firestore()\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"wods\").doc(wodID).update({\n\t\t\tboxID: boxID,\n\t\t\ttitle: title,\n\t\t\twodText: wodText,\n\t\t\tscoreType: scoreType\n\t\t})\n\t\t.then(()=> {res(\"Finished updating.\")})\n\t\t.catch(err => {rej(err)})\n\t})\n}\n\n\n\nfunction getSnapshot(collectionName, fieldName, fieldID, res, rej){\n\tlet fs = firebase.firestore();\n\tconst batch = fs.batch()\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tif(ss.size == 0) res(1)\n\t\t\n\t\tss.forEach(doc => {\n\t\t\tconsole.log(\"delete\")\n\t\t\tconsole.log(doc.data())\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\t\t\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)\n\t\t\t\tgetSnapshot(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => rej(0))\n\t})\n\tres(1)\n}\n\nexport function removeWod(wodID){\n\n\tlet collectionNames = [\"wods\", \"scores\"]\n\n\tlet promises = collectionNames.map(name => {\n\t\treturn new Promise((res, rej) => {\n\t\t\tgetSnapshot(name, \"wodID\", wodID, res, rej)\n\t\t})\n\t})\n\t\n\treturn Promise.all(promises)\n}\n\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\n\nimport {editWod} from \"../../utils/firestore/wods\"\n\n\nvar db = firebase.database();\n\nexport default class EditWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\twodInfo: props.wodInfo,\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\topen: props.open,\n\t\t\tonClose: props.onClose,\n\t\t\ttitle: props.title,\n\t\t\twodText: props.wodText\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n\teditWOD(){\n\t  \tlet boxID = document.getElementById(\"editOwnerBoxAddWodBoxID\").value\n\t  \tlet title = document.getElementById(\"editOwnerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"editOwnerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"editOwnerBoxAddWodWodText\").value\n\t  \tlet wodID = this.state.wodInfo[\"wodID\"]\n\n\t  \tif(!boxID || !title || !scoreType || !wodText || !wodID){\n\t  \t\tconsole.log(\"Error with input editWod\")\n\t  \t\tconsole.log(boxID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\t  \teditWod(boxID, wodID, title, wodText, scoreType)\n\t  \t.then((res)=> {\n\t  \t\tconsole.log(res)\n\t  \t\tthis.props.onClose()\n\t  \t})\n\t  \t.catch((err)=>{console.log(err)})\n\t  }\n\n\thandleValChange(ev, val){\n\t\tconst name = ev.target.name;\n\t\tconsole.log(name, val)\n\t    this.setState({\n\t      [name]: ev.target.value\n\t  \t})\n\t}\n\n\trender(){\n\t\tlet oldScoreType = this.state.wodInfo[\"scoreType\"]\n\t\tlet scoreTypes = [\"time\", \"reps\"]\n\t\tlet oldBoxID = this.state.wodInfo[\"boxID\"]\n\t\treturn(\n\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"edit-wod-modal\"\n\t\t\t    aria-describedby=\"edit-wod\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t Edit Wod({this.state.wodInfo[\"wodID\"]})\n\t\t    \t\t\t</Typography>\n\n\t\t    \t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t    <Select\n\t\t\t\t\t          native\n\t\t\t\t\t          inputProps={{\n\t\t\t\t\t            name: 'Box',\n\t\t\t\t\t            id: 'editOwnerBoxAddWodBoxID',\n\t\t\t\t\t          }}\n\t\t\t\t\t        >\n\t\t\t\t\t          { this.state.hasBoxes ?\n\t\t\t\t\t          \tthis.state.userBoxes.map((box, i) => {\n\t\t\t\t\t\t        \t\tlet boxID = box[\"boxID\"]\n\t\t\t\t\t\t        \t\treturn (\n\t\t\t\t\t\t        \t\t\t<option \n\t\t\t\t\t        \t\t\t\t\tkey={i}\n\t\t\t\t\t        \t\t\t\t\tvalue={boxID}\n\t\t\t\t\t        \t\t\t\t\tselected={oldBoxID === boxID? true: false}\n\t\t\t\t\t        \t\t\t\t>\n\t\t\t\t\t        \t\t\t\t\t{box[\"title\"]}\n\t\t\t\t\t        \t\t\t\t</option>\n\t\t\t\t\t\t        \t\t)\n\t\t\t\t\t\t        \t})\n\t\t\t\t\t        \t:\n\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t          }\n\t\t\t\t\t      </Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={6}>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t  native\n\t\t\t\t\t\t\t  inputProps={{\n\t\t\t\t\t\t\t    name: 'Score Type',\n\t\t\t\t\t\t\t    id: 'editOwnerBoxAddWodScoreType',\n\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tscoreTypes.map((scoreType) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option \n\t\t\t\t\t\t\t\t      \tvalue={scoreType}\n\t\t\t\t\t\t\t\t      \tselected={oldScoreType === scoreType? true: false}\n\t\t\t\t\t\t\t\t      >\n\t\t\t\t\t\t\t\t\t\t  \t{scoreType}\n\t\t\t\t\t\t\t\t\t\t  </option>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={12}>\n\t\t\t          <TextField\n\t\t\t              id=\"editOwnerBoxAddWodTitle\"\n\t\t\t              type=\"text\"\n\t\t\t              name=\"title\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              value= {this.state.title}\n\t\t\t              onChange={this.handleValChange.bind(this)}\n\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t                placeholder: \"Title\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t\t      </Grid>\n\t\t\t        <Grid item xs={12}>\n\t             \t<TextField\n\t\t              id=\"editOwnerBoxAddWodWodText\"\n\t\t              type=\"text\"\n\t\t              name=\"wodText\"\n\t\t              style={{ margin: 8}}\n\t\t              value= {this.state.wodText}\n\t\t              onChange={this.handleValChange.bind(this)}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Workout here\"\n\t\t              }}\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              multiline\n\t\t\t\t  \t\t  \trows={5}\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t            \t/>\n\t\t\t      \t</Grid>\n\t\t\t\t      <Grid item xs={12}>\n\t\t\t\t\t      <Button \n\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t      \tonClick={this.editWOD.bind(this)}\n\t\t\t\t\t      >\n\t\t\t\t\t      \tUpdate\n\t\t\t\t\t      </Button>\n\t\t\t\t      </Grid>\n\t\t\t\t      <Grid item xs={12}>\n\t\t\t\t\t      <Button \n\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t      \tonClick={this.props.onClose}\n\t\t\t\t\t      >\n\t\t\t\t\t      \tCancel\n\t\t\t\t\t      </Button>\n\t\t\t\t      </Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t)\n\t}\n}","// Firebase\nimport firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ReactMarkdown from 'react-markdown'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TableRow, TablePagination, TableSortLabel\n} from '@material-ui/core';\nimport Delete from '@material-ui/icons/Delete'\nimport Edit from '@material-ui/icons/Edit'\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {msToDate} from \"../utils/formatting\"\n\n\nfunction WodRaw(props){\n\tlet title = props.info[\"title\"]\n\tlet scoreType = props.info[\"scoreType\"]\n\tlet wodText = props.info[\"wodText\"]\n\tlet wodID = props.info[\"wodID\"]\n\tlet boxID = props.info[\"boxID\"]\n\tlet date = props.info[\"date\"]\n\treturn(\n\t\t<TableRow>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{msToDate(date)}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{scoreType}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t<ReactMarkdown>{wodText}</ReactMarkdown>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t<Link to={`/wod/${boxID}/${wodID}`}\n\t\t\t\t\tcomponent={Button} color=\"primary\" variant=\"outlined\">\n\t\t\t\t\tView\n\t\t\t\t</Link>\n\t\t\t\n\t\t\t{ props.showOwnerBtns ?\n\t\t\t    <React.Fragment>\n\t\t\t\t    <Button size=\"small\"\n\t\t\t\t    \tcolor=\"secondary\" \n\t\t\t\t    \tonClick={() => props.handleEdit(props.info)}>\n\t\t\t\t    \t<Edit />\n\t\t\t\t    </Button>\n\t\t\t\t    <Button size=\"small\" \n\t\t\t\t    \tonClick={() => props.handleRemove(props.info)}>\n\t\t\t\t    \t<Delete color=\"error\"/>\n\t\t\t    \t</Button>\n\t\t\t    </React.Fragment>\n\t\t  \t\t:\n\t\t  \t\t<React.Fragment></React.Fragment>\n\t  \t\t}\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\nconst Wod = withTheme(WodRaw)\n\nclass SearchSortTable extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\theaders: props.headers,\n\t\t\trows: props.rows,\t\t\n\t\t\tfilteredRows: props.filteredRows,\n\t\t\torderTableBy: \"date\",\n\t\t\torderTable: \"asc\",\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage:5,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: 5\n\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\t/*\n\t\tSearch Table\n\t*/\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tconsole.log(val)\n\t\tlet filteredRows = this.state.rows.filter(wod =>{\n\t\t  return wod[\"title\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\n\t\tthis.setState({filteredRows: filteredRows})\n\t}\n\t\n\tdescendingComparator(a, b, orderBy) {\n\t\tif(b[orderBy] < a[orderBy]){\n\t\t\treturn -1;\n\t\t}\n\t\tif(b[orderBy] > a[orderBy]){\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tgetComparator(order, orderBy) {\n\t\treturn order === 'desc'\n\t\t? (a, b) => this.descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -this.descendingComparator(a, b, orderBy);\n\t}\n\n\tstableSort(comparator) {\n\t\tlet arr = this.state.filteredRows\n\t\tconst stabilizedThis = arr.map((el, index) => [el, index]);\n\n\t\tstabilizedThis.sort((a, b) => {\n\t\t\tconst order = comparator(a[0], b[0]);\n\t\t\t\n\t\t\tif (order !== 0) return order;\n\t\t\treturn a[1] - b[1];\n\t\t});\n\t\treturn stabilizedThis.map((el) => el[0]);\n\t}\n\n\tcreateSortHandler(orderBy){\n\t\tlet isAsc = \n\t\t\tthis.state.orderTableBy === orderBy &&\n\t\t\tthis.state.orderTable === \"asc\"\n\t\tthis.setState({\n\t\t\torderTableBy: orderBy,\n\t\t\torderTable: isAsc? \"desc\" : \"asc\"\n\t\t}) \n\t}\n\n\thandleChangePage(ev, newPage){\n\t\tlet start = newPage * this.state.rowsPerPage\n\t\tlet end = (newPage * this.state.rowsPerPage) + this.state.rowsPerPage\n\t\tthis.setState({\n\t\t\tpageNum: newPage,\n\t\t\tpageStart: start,\n\t\t\tpageEnd: end\n\t\t})\n\t}\n\n\thandleChangeRowsPerPage(ev){\n\t\tlet rowsPerPage = parseInt(ev.target.value)\n\t\tconsole.log(rowsPerPage)\n\t\tthis.setState({\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage: rowsPerPage,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: rowsPerPage\n\t\t})\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} align=\"center\">\n\t\t<Paper elevation={2}>\n\t\t    <Paper elevation={2} component=\"form\">\n\t\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant=\"outlined\"\n\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\tonChange={this.onChange.bind(this)}\n\t\t\tplaceholder=\"Search\"\n\t\t\tInputProps={{\n\t\t\t  startAdornment: (\n\t\t\t    <InputAdornment position=\"start\">\n\t\t\t      <SearchIcon color=\"primary\" />\n\t\t\t    </InputAdornment>\n\t\t\t  ),\n\t\t\t}}\n\t\t\t/>\n\t\t\t</Paper>\n\n\t\t\t<Grid container item xs={12}>\n\t\t\t<TableContainer>\n  \t\t\t<Table>\n\t\t\t<TableHead>\n\t\t    \t<TableRow>\n\t\t    \t{\n\t\t    \t\tthis.state.headers.map((header)=>{\n\t\t\t        \treturn (\n\t\t\t        \t<TableCell>\n\t\t\t        \t\t{\n\t\t\t        \t\t\theader.sortable?\n\t\t\t\t\t        \t\t<TableSortLabel\n\t\t\t\t\t\t              active={header.id === this.state.orderTableBy}\n\t\t\t\t\t\t              direction={header.id === this.state.orderTableBy?  this.state.orderTable: \"asc\"}\n\t\t\t\t\t\t              onClick={()=>{ this.createSortHandler(header.id)}}\n\t\t\t\t\t\t            >            \n\t\t\t\t\t        \t\t\t{header.label}\n\t\t\t\t\t\t\t        </TableSortLabel>\n\t\t\t\t\t\t\t    :\n\t\t\t\t\t\t\t    \t<React.Fragment>{header.label}</React.Fragment>\n\t\t\t        \t\t}\n\t\t\t        \t</TableCell>)\n\t\t    \t\t})\n\t\t    \t}\n\t\t    \t</TableRow>\n\t\t    </TableHead>\n\n\t\t    <TableBody>\n\t\t\t\t{this.state.filteredRows.length > 0\n\t\t\t\t?\n\t\t\t\t\tthis.stableSort(\n\t\t\t\t\t\tthis.getComparator(\n\t\t\t\t\t\t\tthis.state.orderTable,\n\t\t\t\t\t\t\tthis.state.orderTableBy\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.slice(this.state.pageStart, this.state.pageEnd)\n\t\t\t\t\t.map(row => {\n\t\t\t\t\t\treturn <Wod \n\t\t\t\t\t\t\thandleView={this.props.handleView}\n\t\t\t\t\t\t\thandleRemove={this.props.handleRemove}\n\t\t\t\t\t\t\thandleEdit={this.props.handleEdit}\n\t\t\t\t\t\t\tinfo={row}\n\t\t\t\t\t\t\tshowOwnerBtns={this.props.showOwnerBtns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t:\n\t\t\t\t\t\n\t\t\t\t\t<span>No data!</span>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t    </TableBody>\n  \t\t\t</Table>\n\t\t    </TableContainer>\n\t\t     <TablePagination\n\t          rowsPerPageOptions={[5, 10, 25]}\n\t          component=\"div\"\n\t          count={this.state.filteredRows.length}\n\t          rowsPerPage={this.state.rowsPerPage}\n\t          page={this.state.pageNum}\n\t          onChangePage={this.handleChangePage.bind(this)}\n\t          onChangeRowsPerPage={this.handleChangeRowsPerPage.bind(this)}\n\t        />\n\t\t\t</Grid>\n\t\t</Paper>\n\t\t</Grid>\n\t)\n  }\n}\n\nexport default SearchSortTable = withTheme(SearchSortTable)","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// WodTrackrr\nimport ScoreView from \"../scores/scoreView\"\nimport GymClassList from \"../gymClasses/gymClassList\"\nimport EditWod from \"../wods/editWod\"\nimport { removeWod } from \"../../utils/firestore/wods\"\nimport SearchSortTable from \"../searchSortTable\"\nimport ActionCancelModal from \"../actionCancelModal\"\nimport \"../../styles.css\"\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass BoxView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tconsole.log(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tboxID: props.boxID,\n\t\t\tboxMD: {},\n\t\t\tuserBoxes: [], // TODO()fix from boxListAccordion from OwnerBox\n\t\t\thasBoxes: false,   // from boxListAccordion from OwnerBox\n\t\t\twods: [],\n\t\t\tcurrentWodID: \"\",\n\t\t\tcurrentWodMD: {},\n\t\t\tshowRemoveAlert: false,\n\t\t\tshowEditModal: false,\n\t\t\teditWodInfo: {},\n\t\t\tcurRemoveWodBoxID: \"\",\n\t\t\tcurRemoveWodID: \"\",\n\t\t\tcurRemoveWodTitle: \"\"\n\t\t}\n\t}\n\n\tgetUserBoxListener(){\n\t\tif(this.state.userMD.uid ){\n\t\t\tthis.userBoxesListener = fs.collection(\"boxes\")\n\t\t\t.where(\"uid\", \"==\", this.state.userMD.uid)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tlet boxes = []\n\t\t\t\tconsole.log(ss)\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tconsole.log(doc.data())\n\t\t\t\t\t\tboxes.push(doc.data())\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.setState({userBoxes: boxes, hasBoxes: boxes.length? true: false})\n\t\t\t})\n\t\t}\n\t}\n\n\tgetBoxListener(){\n\t\tthis.boxListener = fs.collection(\"boxes\").doc(this.state.boxID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(!ss.empty){\n\t\t\t\tthis.setState({boxMD: ss.data()})\t\n\t\t\t}else{\n\t\t\t\tthis.setState({boxMD: {}})\n\t\t\t}\n\t\t}, err => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tgetWodListener(){\n\t\tthis.wodListener = fs.collection(\"wods\")\n\t\t.where(\"boxID\", \"==\", this.state.boxID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(!ss.empty){\n\t\t\t\tlet wods = []\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\twods.push(doc.data())\n\t\t\t\t})\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: wods\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: []\n\t\t\t\t})\n\t\t\t}\n\t\t}, err => { console.log(err)})\n\t}\n\n\tcheckListeners(){\n\t\tif(this.userBoxesListener === undefined)\n\t\t\tthis.getUserBoxListener()\n\t\tif(this.boxListener === undefined)\n\t\t\tthis.getBoxListener()\n\t\tif(this.wodListener === undefined)\n\t\t\tthis.getWodListener()\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.checkListeners()\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t\tthis.checkListeners()\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.wodListener)\n\t\t\tthis.wodListener()\n\t\tif(this.boxListener)\n\t\t\tthis.boxListener()\n\t\tif(this.userBoxesListener)\n\t\t\tthis.userBoxesListener()\n\t}\n\n\thandleModalClose(){\n\t  \tthis.setState({showRemoveAlert:false})\n\t  }\n\n\thandleRemoveWod(wodInfo){\n\t\tthis.setState({\n\t\t\tshowRemoveAlert: true,\n\t\t\tcurRemoveWodBoxID: wodInfo[\"boxID\"],\n\t\t\tcurRemoveWodID: wodInfo[\"wodID\"],\n\t\t\tcurRemoveWodTitle: wodInfo[\"title\"],\n\t\t})\n\t}\n\n\tdeleteWod(){\n\t\tremoveWod(this.state.curRemoveWodID)\n\t\t.then((res) => {\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\n\t\t})\n\t}\n\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\n\tonChange(ev){\n\t\t/*\n\t\t\tSearch bar, filter by name\n\t\t*/\n\t\tlet val = ev.target.value\n\t\tlet filteredWods = this.state.wods.filter(wod =>{\n\t\t  return wod[\"title\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredWods: filteredWods})\n\t}\n\n\thandleEdit(info){\n\t\tconsole.log(\"Populate with info, show in modal with form\")\n\t\tconsole.log(info)\n\t\tif(!this.userBoxesListener)\n\t\t\tthis.getUserBoxListener()\n\t\tthis.setState({\n\t\t\teditWodInfo: info,\n\t\t\tshowEditModal: true\n\t\t})\n\t}\n\thandleEditModalClose(){\n\t\tthis.setState({showEditModal: false})\n\t}\n\n  render(){\n  \tlet showOwnerBtns = this.state.boxMD[\"uid\"] === this.state.userMD.uid && !this.props.isReadOnly\n\n\t \tlet sortableHeadersOwner = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n\t \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t \tlet sortableHeadersUser = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n\t \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t \n\t\treturn(\n\t\t\t<Grid item xs={12}>\n\t\t\t\t{Object.keys(this.state.boxMD).length > 0 ?\n\t\t\t\t\t<GymClassList \n\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\t\tboxID={this.state.boxID}\n\t\t\t\t\t\tisOwner={true}\n\t\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t\t<React.Fragment></React.Fragment>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\nexport default BoxView = withTheme(BoxView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\";\n\nexport default function mTea(){}\n\n\n\n\nexport function removeFollow(followID){\n\tconst fs = firebase.firestore()\n\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"following\").doc(followID).delete()\n\t\t.then(() => {\n\t\t\tres(\"Finished delete.\")\n\t\t})\n\t\t.catch(err => {rej(err)})\n\t})\n}\n\nexport function getFollowers(uid){\n\tlet fs = firebase.firestore()\n\treturn fs.collection(\"following\").where(\"uid\", \"==\", uid)\n}\n\nexport function setFollow(uid, username, boxID, title){\n\tlet fs = firebase.firestore()\n\treturn new Promise((res, rej) => {\n\t\tfs.collection(\"following\").where(\"uid\", \"==\", uid).get()\n\t\t.then(ss => {\n\t\t\tlet isFollowing = false\n\t\t\tif(!ss.empty){\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tif(doc.data().boxID === boxID)\n\t\t\t\t\t\tisFollowing = true\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif(!isFollowing){\n\t\t\t\tlet doc = fs.collection(\"following\").doc()\n\t\t\t\tlet data = {\n\t\t\t\t\tfollowID: doc.id,\n\t\t\t\t\tuid: uid,\n\t\t\t\t\tusername: username,\n\t\t\t\t\tboxID: boxID,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\tdate: Date.now()\n\t\t\t\t}\n\t\t\t\tdoc.set(data).then(() => {res(\"Followed.\")})\n\t\t\t\t.catch(err => {rej(err)})\n\t\t\t}\n\t\t})\n\t})\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link, Redirect } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment, TableBody, Table, TableCell, TableContainer,\n  TableHead, TableRow }\nfrom '@material-ui/core'\n\nimport { Alert } from '@material-ui/lab'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport Delete from '@material-ui/icons/Delete'\nimport Waves from '@material-ui/icons/Waves'\nimport Whatshot from '@material-ui/icons/Whatshot'\n\nimport BoxView from \"./boxView\" \n\nimport { setFollow, removeFollow } from \"../../utils/firestore/follows\"\nimport \"../../styles.css\"\n\nconst fs = firebase.firestore()\n\nfunction BoxRaw(props){\n  let title = props.info[\"title\"]\n  let boxID = props.info[\"boxID\"]\n\n  return(\n    <TableRow id={`box/${boxID}`} name=\"BoxRow\" onClick={(ev) => props.onRowClick(ev, `box/${boxID}`)}>\n      <TableCell align=\"left\">\n        <Typography variant=\"subtitle\" color=\"primary\">\n          { title }\n        </Typography>\n      </TableCell>\n      <TableCell align=\"right\">\n        { props.isUserFollowing ?\n          <Button variant=\"outlined\"\n              onClick={()=>{props.handleUnfollow(boxID)}}>\n            <Whatshot color=\"primary\" />\n          </Button>\n        :\n          <Button\n            onClick={()=>{props.handleFollow(props.info)}}>\n            <Whatshot/>\n          </Button>\n        }\n        { props.isOwner ?\n          <Button\n            onClick={()=>{props.handleRemoveBox(boxID, title)}}>\n            <Delete  color=\"error\" />\n          </Button>\n        :\n          <React.Fragment></React.Fragment>\n        }\n      </TableCell>\n    </TableRow>\n  )\n \n}\nconst Box = withTheme(BoxRaw)\n\nclass BoxSearch extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      allBoxes: props.allBoxes,\n      filteredBoxes: props.allBoxes,\n      userFollowing: {},\n      redirect: false,\n      redirectTo: \"\"\n    }\n  }\n\n  componentDidMount(){\n    this.listenForFollowing(this.props)\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n    this.listenForFollowing(newProps)\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){   \n    }\n  }\n\n  listenForFollowing(props){\n    if(props.user){\n      fs.collection(\"following\").where(\"uid\", \"==\", props.user.uid)\n      .onSnapshot(ss => {\n        let following = {}\n        if(!ss.empty){\n          \n          ss.forEach(doc =>{\n            let data = doc.data()\n            console.log(data)\n            following[data.boxID] = data.followID\n          })\n      }\n      this.setState({userFollowing: following})\n      }, \n      err => console.log(err))\n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredBoxes = this.state.allBoxes.filter(box =>{\n      return box[\"title\"].toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredBoxes: filteredBoxes})\n  }\n\n  isUserFollowing(boxID){\n    return (this.state.userFollowing[boxID])? true: false\n  }\n  \n  handleFollow(boxInfo){\n    setFollow(this.state.user.uid, this.state.userMD.username, boxInfo.boxID,\n              boxInfo.title)\n    .then(res => {console.log(\"Succefully followed.\")})\n    .catch(err => {console.log(err)})\n  }\n\n  handleUnfollow(boxID){\n    let followID = this.state.userFollowing[boxID]\n\n    removeFollow(followID)\n    .then(res => {\n      if(res){\n        console.log(\"Succefully unfollowed.\")\n      }\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  onRowClick(ev, id){\n    console.log(id)\n    if(ev.target.tagName === \"TD\"){\n      this.setState({redirect: true, redirectTo: id})\n    }\n  }\n\n  render () {\n    return (\n      <Grid item xs={12}>\n        {this.state.redirect ?\n          <Redirect to={this.state.redirectTo} />\n        :\n          <React.Fragment></React.Fragment>\n        }\n        <Grid item xs={12} style={{margin: \"0px 0px 8px 0px\"}}>\n        <Paper elevation={2} component=\"form\">\n           <TextField\n             fullWidth\n              variant=\"outlined\"\n              onKeyUp={this.onKeyUp.bind(this)}\n              onChange={this.onChange.bind(this)}\n              placeholder=\"Search Boxes\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon color=\"primary\" />\n                  </InputAdornment>\n                )\n              }}\n          />\n        </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <TableContainer>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Boxes</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n    {\n      this.state.filteredBoxes.map((box, i) => {\n        return <Box \n                key={i} \n                info={box} \n                color={this.props.theme.palette.primary.mainGrad}\n                handleBoxView={this.props.handleBoxView}\n                handleRemoveBox={this.props.handleRemoveBox}\n                isOwner={this.props.isOwner}\n                isUserFollowing={this.isUserFollowing(box[\"boxID\"])}\n                handleFollow={this.handleFollow.bind(this)}\n                handleUnfollow={this.handleUnfollow.bind(this)}\n                onRowClick={this.onRowClick.bind(this)}\n                />\n      })\n    }\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\nexport default BoxSearch = withTheme(BoxSearch)\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment }\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport BoxView from \"../comps/boxes/boxView\" \nimport BoxSearch from \"../comps/boxes/boxSearch\" \n\nimport \"../styles.css\"\n\nlet fs = firebase.firestore()\n\nclass BoxSearchPage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      allBoxes: []\n    }  \n  }\n\n  componentDidMount(){\n    this.allBoxesListener = fs.collection(\"boxes\")\n    .onSnapshot(ss => {\n      if(!ss.empty){\n        let boxes = []\n        ss.forEach(doc => {\n          boxes.push(doc.data())\n        })\n        boxes.sort((x, y) => {\n          return x[\"title\"].toLowerCase() > y[\"title\"].toLowerCase() ? -1 : 1\n        })        \n        this.setState({\n          allBoxes: boxes\n        })\n      }\n    })\n  }\n\n  componentWillUnmount(){\n    if(this.allBoxesListener !== undefined){\n      this.allBoxesListener()\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12} >\n        {\n          this.state.allBoxes.length > 0?\n          <BoxSearch \n              user={this.state.user}\n              userMD={this.state.userMD}\n              allBoxes={this.state.allBoxes}\n              isOwner={false}\n              isReadOnly={false}\n              handleRemoveBox={this.props.handleRemoveBox}\n          />\n          :\n          <Grid xs={12}>\n            <Paper elevation={2}>\n              No boxes!\n            </Paper>\n          </Grid>\n        }\n  \t\t</Grid>\n    )\n  }\n}\n\nexport default BoxSearchPage = withTheme(BoxSearchPage);\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Paper } from '@material-ui/core';\nimport { Redirect } from 'react-router-dom';\nimport { withTheme } from '@material-ui/core/styles';\n\nclass RegisterUser extends Component {\n  constructor(props){\n    super(props)\n    this.state = {redirect: false}\n  }\n\n  componentDidMount(){\n  }\n\n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n    \n    console.log(email.value, pass1.value)\n    \n\n    if(pass1.value === pass2.value){\n      firebase.auth().createUserWithEmailAndPassword(email.value, pass1.value)\n      .then(res => {\n        console.log(res)\n        let fs = firebase.firestore();\n        let data = {\n          username: \"\",\n          admin: false,\n          uid: res.user.uid,\n          accountType: \"athlete\"\n        }\n\n        fs.collection('users').doc(res.user.uid).set(data)\n      })\n      .catch(err => {\n        console.log(err)\n      });\n    }else{\n      alert(\"Passwords do not match\")\n    }\n  }\n\n  render () {\n    return (\n      <React.Fragment>\n      {this.state.redirect ?\n      \t<Redirect to=\"/\" />\n\t\t\t:\n\t\t\t\t<Grid container xs={12} id=\"login\" align=\"center\" justify=\"center\">\n\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Grid item xs={12} ><h1>Register</h1></Grid>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tstyle={{ margin: 8 }}\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t  shrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/><br /><br />\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t  id=\"password\"\n\t\t\t\t\t\t\t  type=\"password\"\n\t\t\t\t\t\t\t  style={{ margin: 8 }}\n\t\t\t\t\t\t\t  placeholder=\"Password\"\n\t\t\t\t\t\t\t  margin=\"normal\"\n\t\t\t\t\t\t\t  InputLabelProps={{\n\t\t\t\t\t\t\t    shrink: true,\n\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t <br/><br/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t  id=\"passwordConfirm\"\n\t\t\t\t\t\t\t  type=\"password\"\n\t\t\t\t\t\t\t  style={{ margin: 8 }}\n\t\t\t\t\t\t\t  placeholder=\"Confirm Password\"\n\t\t\t\t\t\t\t  margin=\"normal\"\n\t\t\t\t\t\t\t  InputLabelProps={{\n\t\t\t\t\t\t\t    shrink: true,\n\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t/> <br/><br/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t\t  <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n\t\t\t\t\t\t    Submit\n\t\t\t\t\t\t  </Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n        }\n        </React.Fragment>\n    );\n  }\n}\n\n\n\nexport default RegisterUser = withTheme(RegisterUser);","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n// React\nimport React, { Component } from 'react'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// WodTrackrr\nimport ScoreView from \"../scores/scoreView\"\nimport GymClassList from \"../gymClasses/gymClassList\"\nimport EditWod from \"../wods/editWod\"\nimport { removeWod } from \"../../utils/firestore/wods\"\nimport SearchSortTable from \"../searchSortTable\"\nimport ActionCancelModal from \"../actionCancelModal\"\nimport \"../../styles.css\"\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\nconst fs = firebase.firestore();\n\nclass BoxView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tconsole.log(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tgymClassID: props.gymClassID,\n\t\t\tgymClassMD: {},\n\t\t\tgymClasses:[],\n\t\t\tuserBoxes: [], \n\t\t\thasBoxes: false,  \n\t\t\twods: [],\n\t\t\tcurrentWodID: \"\",\n\t\t\tcurrentWodMD: {},\n\t\t\tshowRemoveAlert: false,\n\t\t\tshowEditModal: false,\n\t\t\teditWodInfo: {},\n\t\t\tcurRemoveWodBoxID: \"\",\n\t\t\tcurRemoveWodID: \"\",\n\t\t\tcurRemoveWodTitle: \"\"\n\t\t}\n\t}\n\n\tgetGymClassListener(){\n\t\tfs.collection(\"gymClasses\").doc(this.state.gymClassID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(ss.exists){\n\t\t\t\tthis.setState({gymClassMD: ss.data()})\n\n\t\t\t}\n\t\t})\n\t}\n\n\tgetUserBoxListener(){\n\t\tif(this.state.userMD.uid ){\n\t\t\tthis.userBoxesListener = fs.collection(\"boxes\")\n\t\t\t.where(\"uid\", \"==\", this.state.userMD.uid)\n\t\t\t.onSnapshot(ss => {\n\t\t\t\tlet boxes = []\n\t\t\t\tconsole.log(ss)\n\t\t\t\tif(!ss.empty){\n\t\t\t\t\tss.forEach(doc => {\n\t\t\t\t\t\tconsole.log(doc.data())\n\t\t\t\t\t\tboxes.push(doc.data())\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.setState({userBoxes: boxes, hasBoxes: boxes.length? true: false})\n\t\t\t})\n\t\t}\n\t}\n\n\t\n\n\tgetWodListener(){\n\t\tthis.wodListener = fs.collection(\"wods\")\n\t\t.where(\"gymClassID\", \"==\", this.state.gymClassID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(!ss.empty){\n\t\t\t\tlet wods = []\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\twods.push(doc.data())\n\t\t\t\t})\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: wods\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: []\n\t\t\t\t})\n\t\t\t}\n\t\t}, err => { console.log(err)})\n\t}\n\n\tcheckListeners(){\n\t\tif(this.userBoxesListener === undefined)\n\t\t\tthis.getUserBoxListener()\n\t\tif(this.wodListener === undefined)\n\t\t\tthis.getWodListener()\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.checkListeners()\n\t\tthis.getGymClassListener()\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tconsole.log(newProps)\n\t\tthis.setState({...newProps})\n\t\tthis.checkListeners()\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.wodListener)\n\t\t\tthis.wodListener()\n\t\tif(this.boxListener)\n\t\t\tthis.boxListener()\n\t\tif(this.userBoxesListener)\n\t\t\tthis.userBoxesListener()\n\t}\n\n\thandleModalClose(){\n\t  \tthis.setState({showRemoveAlert:false})\n\t  }\n\n\thandleRemoveWod(wodInfo){\n\t\tthis.setState({\n\t\t\tshowRemoveAlert: true,\n\t\t\tcurRemoveWodBoxID: wodInfo[\"boxID\"],\n\t\t\tcurRemoveWodID: wodInfo[\"wodID\"],\n\t\t\tcurRemoveWodTitle: wodInfo[\"title\"],\n\t\t})\n\t}\n\n\tdeleteWod(){\n\t\tremoveWod(this.state.curRemoveWodID)\n\t\t.then((res) => {\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\n\t\t})\n\t}\n\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\n\tonChange(ev){\n\t\t/*\n\t\t\tSearch bar, filter by name\n\t\t*/\n\t\tlet val = ev.target.value\n\t\tlet filteredWods = this.state.wods.filter(wod =>{\n\t\t  return wod[\"title\"].toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredWods: filteredWods})\n\t}\n\n\thandleEdit(info){\n\t\tconsole.log(\"Populate with info, show in modal with form\")\n\t\tconsole.log(info)\n\t\tif(!this.userBoxesListener)\n\t\t\tthis.getUserBoxListener()\n\t\tthis.setState({\n\t\t\teditWodInfo: info,\n\t\t\tshowEditModal: true\n\t\t})\n\t}\n\thandleEditModalClose(){\n\t\tthis.setState({showEditModal: false})\n\t}\n\tisOwner(){\n\t\treturn this.state.gymClassMD[\"uid\"] === this.state.userMD['uid']\n\t}\n  render(){\n  \t\n\n\t \tlet sortableHeadersOwner = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n\t \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t \tlet sortableHeadersUser = [\n\t \t\t{id:\"date\", sortable:true, label:\"Date\"},\n\t \t\t{id:\"title\", sortable:true, label:\"Title\"},\n\t \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n\t \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n\t \t\t{id:\"btns\", sortable:false, label:\"\"}\n\t \t]\n\t \n\t\treturn !this.state.userMD?  <React.Fragment>Loading</React.Fragment>:(\n\t\t\t<Grid item xs={12}>\n\t\t\t<Paper elevation={2}>\n\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t\t\t\t\t<Typography \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\tvariant=\"h3\">\n\t\t\t\t\t\t{this.state.gymClassMD['title']}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\tvariant=\"h4\">\n\t\t\t\t\t\t{this.state.gymClassMD['boxTitle']}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\n\t\t\t\t<React.Fragment>\n\t\t\t\t{\n\t\t\t\t\tthis.state.wods.length > 0?\n\t\t\t\t\t<SearchSortTable\n\t\t\t\t\t\trows = {this.state.wods}\n\t\t\t\t\t\tfilteredRows={this.state.wods}\n\t\t\t\t\t\theaders={this.isOwner()? sortableHeadersOwner: sortableHeadersUser}\n\t\t\t\t\t\thandleRemove={this.handleRemoveWod.bind(this)}\n\t\t\t\t\t\thandleEdit={this.handleEdit.bind(this)}\n\t\t\t\t\t\tshowOwnerBtns={this.isOwner()}\n\t\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t\t<Grid xs={12}>\n\t\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t\t<Typography>No wods</Typography>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t\t</React.Fragment>\n\t\t\t</Paper>\n\t\t\t\n\t\t\t<ActionCancelModal\n\t\t\t\topen={this.state.showRemoveAlert}\n\t\t        onClose={this.handleModalClose.bind(this)}\n\t\t        onAction={this.deleteWod.bind(this)}\n\t\t        modalText={ `Remove ${this.state.curRemoveWodTitle} (${this.state.curRemoveWodID})?`}\n\t\t        actionText={\"Delete\"}\n\t\t        cancelText={\"Cancel\"}\n\t\t\t/>\n\n\t\t\t<EditWod \n\t\t\t\topen={this.state.showEditModal}\n\t\t\t\tonClose={this.handleEditModalClose.bind(this)}\n\t\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\t\twodInfo={this.state.editWodInfo}\n\t\t\t\ttitle={this.state.editWodInfo[\"title\"]}\n\t\t\t\twodText={this.state.editWodInfo[\"wodText\"]}\n\t\t\t/>\n\t\t\t</Grid>\n\t\t)\n  }\n}\n\nexport default BoxView = withTheme(BoxView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore();\n\nexport default function mTea(){}\n\n/*\n\tBoxes\n*/\n\nexport function setBox(title, uid){\n\n  \treturn new Promise((res, rej) => {\n  \t\tfs.collection(\"boxes\").where(\"title\", \"==\", title)\n  \t\t.get().then(result => {\n  \t\t\tif(result.empty){\n\t\t\t\t\tlet doc = fs.collection(\"boxes\").doc()\n\t\t  \t\tdoc.set({\n\t\t  \t\t\tboxID: doc.id,\n\t\t  \t\t\ttitle: title,\n\t\t  \t\t\tuid, uid,\n\t\t  \t\t\tdate: Date.now()\n\t\t  \t\t})\n\t\t  \t\t.then(()=>{\n\t\t  \t\t\tres(\"Added box\")\n\t\t  \t\t})\n\n  \t\t\t}else{\n  \t\t\t\trej(\"Name Taken\")\n  \t\t\t}\n  \t\t})\n  \t})\n }\n\n\nfunction getSnapshot(collectionName, fieldName, fieldID, res, rej){\n\tconst batch = fs.batch()\n\tlet snapshotSize = 0\n\tfs.collection(collectionName).where(fieldName, \"==\", fieldID).get()\n\t.then(ss => {\n\t\tlet cnt = 0\n\t\tsnapshotSize = ss.size\n\t\t\n\t\tss.forEach(doc => {\n\t\t\tbatch.delete(doc.ref)\n\t\t\tcnt++\n\t\t})\n\t\t\n\t\tbatch.commit().then(() => {\n\t\t\tif(cnt >= 500)\n\t\t\t\tgetSnapshot(collectionName, fieldName, fieldID, res, rej)\n\t\t})\n\t\t.catch(err => rej(0))\n\t})\n\tres(1)\n}\n\nexport function removeBox(boxID){\n\tlet collectionNames = [\"wods\", \"scores\", \"boxes\"]\n\n\tlet promises = collectionNames.map(name => {\n\t\treturn new Promise((res, rej) => {\n\t\t\tgetSnapshot(name, \"boxID\", boxID, res, rej)\n\t\t})\n\t})\n\t\n\treturn Promise.all(promises)\n}","import React, { Component } from 'react'\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"./boxView\" \nimport BoxSearch from \"./boxSearch\" \nimport { removeBox } from \"../../utils/firestore/boxes\"\nimport \"../../styles.css\"\n\nclass BoxListAccordion extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes,\n      currentBoxID: \"\",\n      showRemoveAlert: false,\n      curRemoveBoxID: \"\",\n      curRemoveBoxTitle: \"\"\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  componentWillUnmount(){\n  \tconsole.log(\"Component will unmount\")\n  }\n\n  handleRemoveBox(boxID, boxTitle){\n  \tthis.setState({\n  \t\tshowRemoveAlert: true, \n  \t\tcurRemoveBoxID: boxID,\n  \t\tcurRemoveBoxTitle: boxTitle\n  \t})\n  }\n\n  handleModalClose(){\n  \tthis.setState({showRemoveAlert:false})\n  }\n\n  deleteBox(){  \t\n  \tremoveBox(this.state.curRemoveBoxID)\n  \t.then((res)=>{\n  \t\tlet finished = (res.reduce((a,b) => a+b, 0) === 3) ? true: false\n\n  \t\tthis.handleModalClose()\n  \t})\n  \t.catch((err)=>{console.log(err)})\n  }\n\n  render(){\n\treturn(\n\t\t<Grid  item={12}>\n\t\t\t<Grid  item={12}>\n\t\t\t\t{\n\t\t\t\t\tthis.state.userBoxes.length > 0\n\t\t\t\t?\n\t\t\t\t\t<BoxSearch \n\t\t\t\t\t\tuser = {this.state.user}\n\t\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t\t\tallBoxes = {this.state.userBoxes}\n\t\t\t\t\t\thandleRemoveBox={this.handleRemoveBox.bind(this)}\n\t\t\t\t\t\tisOwner = {true}\n\t\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t\t<Grid item zeroMinWidth xs={12}>\n\t\t\t\t\t\t<Paper elevation={4} style={{padding: \"1vw\"}}>\n\t\t\t\t\t\t\t<Typography noWrap align=\"left\">No gyms Found!</Typography>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t}\n\t\t\t</Grid>\n\t\t\t<Modal\n\t\t        open={this.state.showRemoveAlert}\n\t\t        onClose={this.handleModalClose.bind(this)}\n\t\t        aria-labelledby=\"simple-modal-title\"\n\t\t        aria-describedby=\"simple-modal-description\">\n\t\t    \t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t\t    \t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\",justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t Remove {this.state.curRemoveBoxTitle} ({this.state.curRemoveBoxID})\n\t\t    \t\t\t</Typography>\n\t\t    \t\t\t\n\t\t    \t\t\t<Button color=\"primary\" variant=\"outlined\" onClick={()=>{ this.deleteBox()}}>Delete</Button>\n\t\t    \t\t</Paper>\n\t\t    \t\t</Grid>\n\t\t    \t</div>\n\t\t    </Modal>\n\t\t</Grid>\t\t\n\t)\n  }\n}\n  \nexport default BoxListAccordion = withTheme(BoxListAccordion);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\n\nimport \n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tTableRow, TableHead, TableContainer,\n\tTableBody, Table\n} \nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { setGymClass } from \"../../utils/firestore/gymClass\"\n\nlet fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddGymClass extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes\n    }\n  }\n \n  componentDidMount(){\n  }\n\n\n  componentWillReceiveProps(newProps){\n\tthis.setState({...newProps})\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n      this.createGymClass()\n    }\n  }\n\n  createGymClass(){\n\tlet title = document.getElementById(\"addGymClassTitle\").value\n\tlet box = JSON.parse(document.getElementById(\"addGymClassBox\").value)\n\tconsole.log(box)\n\n\tif(!title || !box)\n\t\treturn\n\n\tsetGymClass(title, this.props.user.uid, box.boxID, box.title)\n\t.then(res => {console.log(res)})\n\t.catch(err => {console.log(err)})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12}>\n\t\t\t\t<Table>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\tGym\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tname: 'Box',\n\t\t\t\t\t\t\t\t\tid: 'addGymClassBox'\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t          \t{this.state.hasBoxes ?\n\t\t\t\t\t\t          \tthis.state.userBoxes.map((box, i) => {\n\t\t\t\t\t        \t\t\treturn (<option key={i} value={JSON.stringify(box)} >\n\t\t\t\t\t        \t\t\t\t\t\t\t\t{box[\"title\"]}\n\t\t\t\t\t        \t\t\t\t\t\t\t</option>)\n\t\t\t\t\t        \t\t})\n\t\t\t\t\t        \t:\n\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t          }\n\t\t\t\t  \t\t\t</Select>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell>Title</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t              id=\"addGymClassTitle\"\n\t\t\t\t              type=\"text\"\n\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t              inputProps={{\n\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t                placeholder: \"Name of class\"\n\t\t\t\t              }}\n\t\t\t\t              onKeyUp={this.onKeyUp.bind(this) }\n\t\t\t\t              margin=\"normal\"\n\t\t\t\t              color=\"primary\"\n\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t              InputLabelProps={{\n\t\t\t\t                shrink: true,\n\t\t\t\t              }}\n\t\t\t\t            />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" color=\"primary\" \n\t\t\t\t      \t\tonClick={ this.createGymClass.bind(this)} >\n\t\t\t\t      \tSubmit\n\t\t\t\t      </Button>\n      \t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</Table>\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default AddGymClass = withTheme(AddGymClass);","import React, { Component } from 'react'\n\nimport { Grid, Paper, Button, Typography, TextField, Select }\nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport Delete from '@material-ui/icons/Delete'\nimport Close from '@material-ui/icons/Close'\n\nconst TITLE = \"title\"\nconst AMOUNT = \"amount\"\nconst UNIT = \"unit\"\nconst UNITS = [\"cm\", \"in\", \"ft\", \"M\", \"Mi\", \"mins\", \"secs\", \"lb\", \"kg\"]\n\n\nfunction TitleRaw(props){\n  return(\n    <Grid item xs={6}>\n      <TextField\n        type=\"text\"\n        pattern=\"[\\sA-Za-z0-9]{35}\"\n        InputProps={{\n          title: \"Letters only, max length 35\",\n          placeholder: \"Title\",\n          endAdornment: <Close fontSize=\"small\" onClick={(ev)=> {\n              props.onRemove(props.colIndex, props.colIndexKey) \n            }} />\n        }}\n        value={props.value}\n        margin=\"small\"\n        color=\"primary\"\n        InputLabelProps={{\n          shrink: true,\n        }}\n        onChange={(ev) => { \n          console.log(\"onchangeTextField\")\n            props.onUpdate(props.colIndex, props.colIndexKey, ev.target.value) \n        }}\n      />\n    </Grid>\n  )\n}\n\nfunction AmountRaw(props){\n  return(\n    <Grid item xs={6}>\n    <TextField\n      type=\"number\"\n      pattern=\"[\\sA-Za-z0-9]{35}\"\n      InputProps={{\n        title: \"Numbers only\",\n        placeholder: \"Amount\",\n        endAdornment: <Close onClick={(ev)=> {\n            props.onRemove(props.colIndex, props.colIndexKey) \n          }}/>\n      }}\n      value={props.value}\n      margin=\"small\"\n      color=\"primary\"\n      InputLabelProps={{\n        shrink: true,\n      }}\n      onChange={(ev) => { \n          props.onUpdate(props.colIndex, props.colIndexKey, ev.target.value) \n      }}\n    />\n    </Grid>\n  )\n}\nfunction UnitRaw(props){\n  return(\n    <Grid item container xs={4}>\n      <Grid item xs={11}>\n      <Select native\n        margin=\"small\"\n        color=\"primary\"\n        InputProps={{\n          name: 'gymClass',\n          id: 'AddWodGymClassID'\n        }}\n        onChange={(ev) => { \n              props.onUpdate(props.colIndex, props.colIndexKey, ev.target.value) \n        }}>\n          {\n              UNITS.map((unit, i) => {\n              return (<option key={i} value={unit} >\n                        {unit}\n                      </option>)\n            })\n          }\n        </Select>\n      </Grid>\n      <Grid item xs={1} align=\"left\">\n        <Close onClick={(ev)=> {\n                props.onRemove(props.colIndex, props.colIndexKey) \n        }}/>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst Title = withTheme(TitleRaw)\nconst Amount = withTheme(AmountRaw)\nconst Unit = withTheme(UnitRaw)\n\nclass RowRaw extends Component{\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      row: props.row,\n      index: props.index,\n      colIndex: 0,\n      selected: props.selected\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  onUpdate(colIndex, key, value){\n    let row = this.state.row\n    row[colIndex][key] = value\n    this.setState({row: row})\n    this.props.onRowUpdate(this.state.index, row)\n  }\n\n  onRemove(colIndex, key){\n    console.log(\"Removing\", colIndex, key)\n    let row = this.state.row\n    delete row[colIndex][key]\n    this.setState({row: row})\n    this.props.onRowUpdate(this.state.index, row) \n  }\n\n  render(){\n    \n    return(\n      <Grid item xs={12}\n            onClick={(ev) =>{\n              this.props.onClick(this.state.index)\n            }}\n            style={{\n              margin: \"0px 0px 8px 0px \",\n              border: `2px solid ${this.props.theme.palette.primary.main}`,\n              'border-radius': '6px'\n      }}>\n      <Paper\n             style={{ \n                background: this.state.selected? this.props.theme.palette.primary.main: \"\" \n      }}>\n      <Grid item container xs={12} align=\"center\">\n        <Grid item container spacing={4} align=\"left\" xs={11}>\n            {\n              this.state.row.map((obj, i) => {\n                let key = Object.keys(obj)[0]\n                switch(key){\n                  case TITLE:\n                    return <Title key={i} \n                      onUpdate={this.onUpdate.bind(this)}\n                      onRemove={this.onRemove.bind(this)}\n                      value={obj[key]}\n                      colIndex={i}\n                      colIndexKey={TITLE}\n                    />\n                    break\n                  case AMOUNT:\n                    return <Amount key={i} \n                      onUpdate={this.onUpdate.bind(this)}\n                      onRemove={this.onRemove.bind(this)}\n                      value={obj[key]}\n                      colIndex={i}\n                      colIndexKey={AMOUNT}\n                    />\n                    break\n                  case UNIT:\n                    return <Unit key={i} \n                      onUpdate={this.onUpdate.bind(this)}\n                      onRemove={this.onRemove.bind(this)}\n                      value={obj[key]}\n                      colIndex={i}\n                      colIndexKey={UNIT}\n                    />\n                    break\n                  default:\n                    break\n                }\n              })\n            }\n            </Grid>\n            <Grid item xs={1} container align=\"center\"\n            justify=\"center\"\n            direction=\"column\" >\n              <Grid item xs ={12} >\n                <Delete color=\"error\" style={{margin: \"0 auto\"}}\n                    onClick={(ev) => {\n                      this.props.onRemove(this.state.index)\n                }}/>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n        </Grid>\n    )\n  }\n}\n\nconst Row = withTheme(RowRaw)\n\nclass Workout extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      rows: [],\n      index: 0\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n    if(newProps.submit){\n      this.onRowSubmit()\n    }\n  }\n\n  onRowClick(rowIndex){\n    this.setState({index: rowIndex})\n  }\n\n  addRow(){\n    let rows = this.state.rows\n    rows.push([])\n    this.setState({rows: rows, index: rows.length - 1})\n  }\n\n  removeRow(rowIndex){\n    let rows = this.state.rows\n    let newRows = rowIndex == 0 ?\n                  rows.slice(1) :\n                  [...rows.slice(0, rowIndex), ...rows.slice(rowIndex + 1)]\n\n    this.setState({rows: newRows})\n    this.updateParent(newRows)\n  }\n\n  addItem(item){\n    if(!this.state.rows.length > 0)\n      return\n    let rows = this.state.rows\n    let row = rows[this.state.index]\n    let obj = {}\n    obj[item] = \"\"\n    row.push(obj)\n    rows[this.state.index] = row\n    \n    this.setState({rows: rows})\n  }  \n\n  onRowSubmit(){\n    this.props.onSubmit(this.state.rows)\n  }\n\n  onRowUpdate(index, row){\n    console.log(\"Row updated!\")\n    console.log(row)\n    let rows = this.state.rows\n    rows[index] = row\n    this.setState({rows: rows})\n    this.updateParent(rows)\n  }\n\n  updateParent(rows){\n      this.props.onUpdate(rows) // update addWod w/ rows\n  }\n\n  render(){\n    return (\n      <Grid item align=\"center\">\n        <Grid item xs={12}>\n          <Button onClick={this.addRow.bind(this)}>+Row</Button>\n          <Button onClick={() => { this.addItem(AMOUNT) }} >\n            +Amount\n          </Button>\n          <Button onClick={() => { this.addItem(TITLE) }} >\n            +Title\n          </Button>\n          <Button onClick={() => { this.addItem(UNIT) }} >\n            +Unit\n          </Button>\n        </Grid>\n\n        <Grid item id=\"workoutText\" xs={12}>\n          {\n            this.state.rows.map((row, i) => {\n              console.log(`Row: ${i}`)\n              console.log(row)\n              return <Row key={i} index={i} row={row} \n              selected={this.state.index == i}\n              onClick={this.onRowClick.bind(this)}\n              onRemove={this.removeRow.bind(this)}\n              onRowUpdate={this.onRowUpdate.bind(this)}\n              theme={this.props.theme}/>\n            })\n          }\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default Workout = withTheme(Workout)\n","import React, { Component } from 'react'\n\nimport { Grid, Paper, Button, Typography, TextField }\nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport Delete from '@material-ui/icons/Delete'\n\n\nfunction RowRaw(props){\n  let textRaw = props.row.map(item => {\n              let key = Object.keys(item)[0]\n              return item[key]\n            })\n  console.log(textRaw)\n  let text = textRaw.join(\" \")\n\n  return(\n    <Grid item xs={12}>\n      { text }\n    </Grid>\n  )\n}\n\nconst Row = withTheme(RowRaw)\n\nclass WorkoutPreview extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      rows: props.rows\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  render(){\n    return (\n      <Grid item align=\"center\">\n        <Grid item xs={12}>\n          {\n            this.state.rows.map((row, i) => {\n              console.log(row)\n              return <Row row={row} key={i} />\n              \n            })\n          }\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default WorkoutPreview = withTheme(WorkoutPreview)\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/firestore\"\n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, TableRow, TableHead, TableContainer,\n  \tTableBody, Table\n} \nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\n\nimport { withTheme, withStyles } from '@material-ui/core/styles'\n\nimport Workout from \"./workout\"\nimport WorkoutPreview from \"./workoutPreview\"\nimport { setWod } from \"../../utils/firestore/wods\"\nimport { getGymClasses } from \"../../utils/firestore/gymClass\"\n\n\nlet fs = firebase.firestore()\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nexport default class AddWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuser: props.user,\n\t\t\tuserMD: props.userMD,\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\tgymClasses: [],\n\t\t\tsubmit: false,\n\t\t\trows: []\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t\tif(newProps.userBoxes)\n\t\t\tthis.setGymClassListner(newProps.userBoxes[0].boxID)\n\t}\n\n\tsetGymClassListner(boxID){\n\t\tconsole.log(\"Getting snapshot for\", boxID)\n\t\tgetGymClasses(boxID)\n\t\t.onSnapshot(ss => {\n\t\t\tif(!ss.empty){\n\t\t\t\tlet classes = []\n\t\t\t\tss.forEach(doc => {\n\t\t\t\t\tclasses.push(doc.data())\n\t\t\t\t\tconsole.log(doc.data())\n\t\t\t\t})\n\t\t\t\tthis.setState({gymClasses: classes})\n\t\t\t}else{\n\t\t\t\tthis.setState({gymClasses: []})\n\t\t\t}\n\t\t},\n\t\terr => {console.log(err)})\n\t}\n\n\tonBoxSelectChange(ev){\n\t\tlet boxID = ev.target.value\n\t\tthis.setGymClassListner(boxID)\n\t}\n\n\tgetWorkoutData(rows){\n\t\tconsole.log(\"Create Wod with this data\")\n\t\tconsole.log(rows)\n\t}\n\n\tonSubmit(){\n\t\tthis.setState({submit: true})\n\t}\n\n\tonWorkoutUpdate(rows){\n\t\tthis.setState({rows: rows})\n\t}\n\n\n\tcreateWOD(){\n\t  \tlet boxID = document.getElementById(\"ownerBoxAddWodBoxID\").value\n\t  \tlet gymClassID = JSON.parse(document.getElementById(\"AddWodGymClassID\").value).gymClassID\n\t  \tlet title = document.getElementById(\"ownerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"ownerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"ownerBoxAddWodWodText\").value\n\n\t  \tif(!boxID || !gymClassID || !title || !scoreType || !wodText){\n\t  \t\tconsole.log(\"Error with input createWod\")\n\t  \t\tconsole.log(boxID, gymClassID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\n\t  \tsetWod(boxID, gymClassID, title, wodText, scoreType)\n\t  \t.then(()=> {console.log(\"Successfully added wod.\")})\n\t  \t.catch((err)=>{console.log(err)})\n\n\t  }\n\n\n\trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<Table>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tBox\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tonChange={this.onBoxSelectChange.bind(this)}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'Box',\n\t\t\t\t\t\t\t\t\t\tid: 'ownerBoxAddWodBoxID'}}>\n\t\t\t\t\t\t          \t{this.state.hasBoxes ?\n\t\t\t\t\t\t\t          \tthis.state.userBoxes.map((box, i) => {\n\t\t\t\t\t\t        \t\t\treturn (<option key={i} value={box[\"boxID\"]} >\n\t\t\t\t\t\t        \t\t\t\t\t\t\t\t{box[\"title\"]}\n\t\t\t\t\t\t        \t\t\t\t\t\t\t</option>)\n\t\t\t\t\t\t        \t\t})\n\t\t\t\t\t\t        \t:\n\t\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t\t          }\n\t\t\t\t      \t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tClass\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native\n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'gymClass',\n\t\t\t\t\t\t\t\t\t\tid: 'AddWodGymClassID'}}>\n\t\t\t\t\t\t          \t{this.state.gymClasses.length > 0 ?\n\t\t\t\t\t\t\t          \tthis.state.gymClasses.map((gymClass, i) => {\n\t\t\t\t\t\t        \t\t\treturn (<option key={i} value={JSON.stringify(gymClass)} >\n\t\t\t\t\t\t        \t\t\t\t\t\t\t\t{gymClass[\"title\"]}\n\t\t\t\t\t\t        \t\t\t\t\t\t\t</option>)\n\t\t\t\t\t\t        \t\t})\n\t\t\t\t\t\t        \t:\n\t\t\t\t\t\t        \t\t<option aria-label=\"None\" value=\"\" >No Classes!</option>\n\t\t\t\t\t\t          }\n\t\t\t\t      \t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tScore Type\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Select native \n\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\"}}\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'Score Type',\n\t\t\t\t\t\t\t\t\t\tid: 'ownerBoxAddWodScoreType',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t      <option value={\"time\"}>Time</option>\n\t\t\t\t\t\t      <option value={\"reps\"}>Reps</option>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t              id=\"ownerBoxAddWodTitle\"\n\t\t\t\t\t              type=\"text\"\n\t\t\t\t\t              style={{width: \"100%\"}}\n\t\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t\t              inputProps={{\n\t\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t\t                placeholder: \"Title\"\n\t\t\t\t\t              }}\n\t\t\t\t\t              margin=\"normal\"\n\t\t\t\t\t              color=\"primary\"\n\t\t\t\t\t              InputLabelProps={{\n\t\t\t\t\t                shrink: true,\n\t\t\t\t\t              }}\n\t\t\t\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2} align=\"center\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary\" variant=\"caption\">\n\t\t\t\t\t\t\t\t\tWorkout\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2}>\n\t\t\t\t\t\t\t\t<WorkoutPreview \n\t\t\t\t\t\t\t\t\trows={this.state.rows}/>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell colSpan={2}>\n\t\t\t\t\t\t\t\t<Workout submit={this.state.submit}\n\t\t\t\t\t\t\t\t\tonSubmit={this.getWorkoutData.bind(this)}\n\t\t\t\t\t\t\t\t\tonUpdate={this.onWorkoutUpdate.bind(this)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t    <Button \n\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t      \tonClick={this.onSubmit.bind(this)}>\n\t\t\t\t      \tEnter WOD\n\t\t\t\t    </Button>\n\t\t      \t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\n\nimport \n{ \tGrid, Paper, Button, Typography, TextField, Select,\n\tTableRow, TableHead, TableContainer,\n\tTableBody, Table\n} \nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles';\n\nimport { setBox } from \"../../utils/firestore/boxes\"\n\nlet fs = firebase.firestore();\n\nconst TableCell = withStyles({root:{\n\tborderBottom: \"none\"\n}})(TC)\n\nclass AddBox extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n \n  componentDidMount(){\n  }\n \n  componentWillReceiveProps(newProps){\n\tthis.setState({...newProps})\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n      let a = document.getElementById(\"ownerBoxAddBoxTitle\")\n      let title = a.value\n      this.createBox(title)\n    }\n  }\n\n  createBox(title){\n\t  if(!title)\n\t  \treturn\n\t\tsetBox(title, this.props.user.uid)\n\t\t.then(res => {console.log(res)})\n\t\t.catch(err => {console.log(err)})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12}>\n\t\t\t\t<Table>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>Title</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t<TextField\n\t\t              id=\"ownerBoxAddBoxTitle\"\n\t\t              type=\"text\"\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Name of gym\"\n\t\t              }}\n\t\t              onKeyUp={this.onKeyUp.bind(this) }\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              style={{width: \"100%\"}}\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={2}>\n\t\t\t\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" color=\"primary\" \n\t\t\t\t      \t\tonClick={ () =>{\n\t\t\t\t      \t\t\tlet el = document.getElementById(\"ownerBoxAddBoxTitle\")\n\t\t\t\t      \t\t\tthis.createBox(el.value)\n\t\t\t\t      \t\t}\n\t\t\t\t      \t}>\n\t\t\t\t      \tSubmit\n\t\t\t\t      </Button>\n      \t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</Table>\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default AddBox = withTheme(AddBox);","import firebase from \"../context/firebaseContext\"\nimport \"firebase/firestore\"\n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, TableBody, Table, TableCell, TableContainer,\n          TableHead, TableRow, Tabs, Tab, AppBar }\nfrom '@material-ui/core';\nimport SwipeableViews from 'react-swipeable-views';\n\nimport { withTheme } from '@material-ui/core/styles'\nimport BoxListAccordion from \"./boxes/boxListAccordion\"\nimport AddGymClass from \"./gymClasses/addGymClass\"\nimport AddWod from \"./wods/addWod\"\nimport AddBox from \"./boxes/addBox\"\n\nlet fs = firebase.firestore()\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Grid item xs={12}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Grid item xs={12}>\n          {children}\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n\nclass NewOwnerBox extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: [],\n      hasBoxes: false,\n      addBoxProgress: true,\n      value: 0\n    }\n    console.log(props)\n  }\n \n  componentDidMount(){\n  \tthis.listenForBoxes()\n  }\n \n  componentWillReceiveProps(newProps){\n\tthis.setState({...newProps})\n\t\tif(newProps.userMD.accountType === \"owner\"){\n\t\t\tthis.listenForBoxes()\n\t\t}\n  }\n\n  componentWillUnmount(){\n  }\n\n  listenForBoxes(){\n  \tif(!this.state.user)\n  \t\treturn\n\t\tfs.collection(\"boxes\").where(\"uid\", \"==\", this.state.user.uid)\n\t\t.onSnapshot(ss => {\n\t\t\tlet data = []\n\t\t\tss.forEach(doc => {\n\t\t\t\tdata.push(doc.data())\n\t\t\t})\n\t\t\tthis.setState({\n\t\t\t\thasBoxes: true, \n\t\t\t\tuserBoxes: data\n\t\t\t})  \t\t\t\n\t\t},\n\t\terr => {\n  \t\tthis.setState({\n\t\t\t\thasBoxes: false, \n\t\t\t\tuserBoxes: []\n\t\t\t})  \t\t\t\n\t\t})\n  }\n\n  a11yProps(index) {\n\t\treturn {\n\t\t  id: `ownerbox-tab-${index}`,\n\t\t  'aria-controls': `simple-tabpanel-${index}`,\n\t\t}\n\t}\n\n  handleChange(ev, value){\n  \tthis.setState({value: value})\n  }\n  handleChangeIndex(value){\n  \tthis.setState({value: value})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12} id=\"ownerBox\" >\n    \t<AppBar position=\"static\">\n        <Tabs value={this.state.value} variant=\"fullWidth\" selectionFollowsFocus\n        \t\tonChange={this.handleChange.bind(this)} aria-label=\"simple tabs example\">\n          <Tab label=\"Add Gym\" {...this.a11yProps(0)} />\n          <Tab label=\"Add Class\" {...this.a11yProps(1)} />\n          <Tab label=\"Add Workout\" {...this.a11yProps(2)} />\n          <Tab label=\"View Gyms & Workouts\" {...this.a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={this.props.theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n        index={this.state.value}\n        onChangeIndex={this.handleChangeIndex.bind(this)}\n      >\n\t      <TabPanel value={this.state.value} index={0}>\n\t\t\t\t  \t<AddBox \n\t\t\t\t  \t\tuser = {this.state.user}\n\t\t\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t  \t/>\n\t      </TabPanel>\n        <TabPanel value={this.state.value} index={1}>\n            <AddGymClass \n              user = {this.state.user}\n              userMD = {this.state.userMD}\n              userBoxes = {this.state.userBoxes}\n              hasBoxes = {this.state.hasBoxes}\n            />\n        </TabPanel>\n\t      <TabPanel value={this.state.value} index={2}>\n\t        \t<AddWod\n\t          \tuid={this.state.user.uid}\n\t          \tuserMD={this.state.userMD}\n\t          \tuserBoxes = {this.state.userBoxes}\n\t\t\t\t\t\t\thasBoxes = {this.state.hasBoxes}\n\t          />\n\t      </TabPanel>\n\t      <TabPanel value={this.state.value} index={3}>\n\t\t\t\t  \t<BoxListAccordion \n\t\t\t\t  \t\tuser = {this.state.user}\n\t\t\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t\t\t\tuserBoxes = {this.state.userBoxes}\n\t\t\t\t\t\t\thasBoxes = {this.state.hasBoxes}\n\t\t\t\t  \t/>\n\t      </TabPanel>\n\t     </SwipeableViews>\n  \t\t</Grid>\n    )\n  }\n}\n\n\n\n\nexport default withTheme(NewOwnerBox);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/firestore\";\n\nlet fs = firebase.firestore();\n\nexport default function mTea(){}\n\n\nexport function setUsername(uid, username){\n\tlet data = {username: username}\n\tlet promises = [fs.collection(\"users\").doc(uid).update(data)]\n\n\tfs.collection(\"scores\").where(\"uid\", \"==\", uid)\n\t.get().then(ss => {\n\t\tlet promises = ss.docs.map(doc => {\n\t\t\tconsole.log(doc.data())\n\t\t\treturn fs.collection(\"scores\").doc(doc.data().scoreID).update(data)\n\t\t})\n\t})\n\n\tfs.collection(\"following\").where(\"uid\", \"==\", uid)\n\t.get().then(ss => {\n\t\tlet promises = ss.docs.map(doc => {\n\t\t\tconsole.log(doc.data())\n\t\t\treturn fs.collection(\"following\").doc(doc.data().followID).update(data)\n\t\t})\n\t})\n\t\n\treturn new Promise((res, rej) => {\n\t\tPromise.all(promises)\n\t\t.then(() => {res(\"Updated!\")})\n\t\t.catch(err => {rej(err)})\n\t})\n}","import React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, TableBody, Table, TableContainer,\n          TableHead, TableRow }\nfrom '@material-ui/core';\nimport {TableCell as TC} from '@material-ui/core';\nimport { withTheme, withStyles } from '@material-ui/core/styles'\n\nimport Edit from '@material-ui/icons/Edit'\nimport { setUsername } from '../../utils/firestore/users'\nimport \"../../styles.css\"\n\n\nconst TableCell = withStyles({root:{\n  borderBottom: \"none\"\n}})(TC)\nconst usernameMaxLength = 12\nconst usernameMaxLengthErrMsg = \"Username cannot be longer than 12 characters\"\nconst usernameErrMsg = \"Username can only contain letters & numbers\" \n\nclass UsernamePanel extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      showUpdate: false\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n \n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  updateUsername(ev){\n    let usernameInput = document.getElementById('updateUsernameInput')\n    \n    if(usernameInput.style.display === \"none\"){\n      usernameInput.style.display = \"block\"\n    }else{\n      let re = /\\W/g  // match non word characters ^[A-Za-z0-9]\n    \n      if(usernameInput.value.length > 12){\n        alert(usernameMaxLengthErrMsg)\n        return\n      } \n      if(re.exec(usernameInput.value) !== null ){\n        alert(usernameErrMsg)\n        return\n      }\n      //update \n      if(usernameInput.value.length <= 0){ \n        this.hideUpdate()     \n        return \n      }\n\n      setUsername(this.state.user.uid, usernameInput.value)\n      .then((res) => {\n        console.log(res)\n        this.hideUpdate()\n      })\n      .catch(err => { console.log(err) })\n    }\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        this.updateUsername()\n    }\n  }\n\n  toggleUpdate(){\n    this.setState({showUpdate: !this.state.showUpdate})\n  }\n\n  hideUpdate(){\n    this.setState({showUpdate: false})\n  }\n\n  render () {    \n    return (\n    <Grid container id=\"usernamePanel\" >\n    {\n      !this.state.userMD\n      ? \n        <h1> Loading </h1>\n      :\n        <TableContainer>\n            <Table>\n              <TableRow>\n                <TableCell>\n                  Username\n                </TableCell>\n                <TableCell>\n                  <Typography gutterBottom variant=\"h5\">\n                    {this.state.userMD.username} \n                  </Typography>  \n                </TableCell>\n                <TableCell>\n                  <Button size=\"small\" \n                    onClick={this.toggleUpdate.bind(this)}>\n                    <Edit color=\"primary\" />\n                  </Button>\n                </TableCell>\n              </TableRow>\n              {this.state.showUpdate ?\n                <TableRow>\n                  <TableCell colSpan={2}>\n                    <TextField\n                      id=\"updateUsernameInput\"\n                      type=\"text\"\n                      style={{ margin: 8}}\n                      pattern=\"[A-Za-z]{12}\"\n                      inputProps={{\n                        title: \"Letters only, max length 12\",\n                        placeholder: \"New username\"\n                      }}\n                      onKeyUp={this.onKeyUp.bind(this) }\n                      margin=\"normal\"\n                      color=\"primary\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                    />    \n                  </TableCell>\n                  \n                  <TableCell align=\"right\">\n                    <Typography gutterBottom variant=\"h5\">\n                      <Button size=\"small\" variant=\"outlined\" color=\"primary\" \n                          onClick={this.updateUsername.bind(this)}>\n                          Update\n                      </Button>\n                    </Typography>  \n                  </TableCell>\n                </TableRow>\n              :\n                <React.Fragment></React.Fragment>\n              }\n            </Table>\n        </TableContainer>\n    }\n    </Grid>\n    );\n  }\n}\n\nexport default UsernamePanel = withTheme(UsernamePanel)","\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Grid, Paper, Button, Typography, Collapse,\n        TableBody, Table, TableCell, TableContainer, TableRow } \nfrom '@material-ui/core';\nimport Whatshot from '@material-ui/icons/Whatshot'\nimport { Alert } from '@material-ui/lab'\nimport { withTheme } from '@material-ui/core/styles'\n\nimport { getFollowers, setFollow, removeFollow } from \"../../utils/firestore/follows\"\n\nclass UserFollows extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userFollows: [],\n      userFollowing: {}\n    }\n  }\n\n  componentDidMount(){\n    getFollowers(this.state.user.uid)\n    .onSnapshot(followingSS => {\n      followingSS.docChanges().forEach(change => {\n        switch(change.type){    \n          case \"added\":\n            console.log(\"Case Added!\")\n            let follows = []\n            let following = {}\n            \n            followingSS.forEach(doc => {\n              let data = doc.data()\n              follows.push(data)\n              following[data.boxID] = data.followID\n            })\n\n            this.setState({\n              userFollows: follows,\n              userFollowing: following\n            })\n\n            break\n          case \"modified\":\n            break\n          case \"removed\":\n            let data = change.doc.data()\n            let userFollowing = this.state.userFollowing\n            userFollowing[data.boxID] = undefined\n            this.setState({userFollowing: userFollowing})\n            break\n          default:\n            console.log(\"Uncaught change.\")\n        }\n      })\n    })\n  }\n\n  handleFollow(follow){\n    setFollow(this.state.user.uid, this.state.userMD.username, follow.boxID,\n              follow.title)\n    .then(res => {console.log(\"Succefully followed.\")})\n    .catch(err => {console.log(err)})\n  }\n\n  handleUnfollow(boxID){\n    let followID = this.state.userFollowing[boxID]\n\n    removeFollow(followID)\n    .then(res => {\n      if(res){\n        let userFollowing = this.state.userFollowing\n        userFollowing[boxID] = undefined\n        this.setState({userFollowing: userFollowing})        \n        console.log(\"Succefully unfollowed.\")\n      }\n    })\n    .catch(err => {console.log(err)})\n  }\n\n  isUserFollowing(boxID){\n    return (this.state.userFollowing[boxID])? true: false\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  render(){\n    return(\n      <Grid xs={12}>\n        <Grid xs={12}>\n          <Grid xs={12}>\n          <Typography>Following</Typography>\n          </Grid>\n          <TableContainer>\n            <Table>\n              {this.state.userFollows.length > 0 ?\n                this.state.userFollows.map(follow => {\n                  return (\n                    <TableRow>\n                      <TableCell>\n                        <Link\n                          to={`box/${follow.boxID}`}\n                          component={Button}\n                        >\n                          {follow.title}\n                        </Link>\n                      </TableCell>\n                       <TableCell align=\"right\">\n                        { this.isUserFollowing(follow.boxID) ?\n                            <Button variant=\"outlined\"\n                              onClick={()=>{\n                                this.handleUnfollow(follow.boxID)}\n                              }>\n                              <Whatshot color=\"primary\" />\n                            </Button>\n                          :\n                            <Button variant=\"outlined\" color=\"error\" \n                              onClick={()=>{\n                                this.handleFollow(follow)\n                              }}>\n                              <Whatshot />\n                            </Button>\n                        }\n                      </TableCell>\n                    </TableRow>\n                  )\n                })\n              :\n                <React.Fragment>Not following anyone!</React.Fragment>\n              }\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default UserFollows = withTheme(UserFollows);","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { DeleteOutlined, LooksOneOutlined, AddBoxOutlined } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ActionCancelModal from \"../actionCancelModal\"\nimport { removeScore } from \"../../utils/firestore/scores\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass UserScoreList extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores,\n\t\t\tuid: props.uid,\n\t\t\tshowRemoveAlert: false,\n\t\t\tremoveScoreID: \"\"\n\t\t}\n\t}\n\n\thandleViewWod(wodID){\n\t\tconsole.log(`Go to wodID: ${wodID}`)\n\t}\n\n\thandleViewBox(boxID){\n\t\tconsole.log(`Go to boxID: ${boxID}`)\n\t}\n\n\tshowRemoveAlert(scoreID){\n\t\tthis.setState({showRemoveAlert: true, removeScoreID: scoreID})\n\t}\n\n\tonRemove(){\n    removeScore(this.state.removeScoreID)\n    .then((res)=>{\n      this.hideRemoveAlert()\n    })\n    .catch((err)=>{console.log(err)})\n\t}\n\n\thideRemoveAlert(){\n\t\tthis.setState({showRemoveAlert: false})\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n  \trender(){\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableCell>Username</TableCell>\n\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t<TableCell>Box</TableCell>\n\t\t\t\t\t<TableCell>Wod</TableCell>\n\t\t\t\t\t<TableCell>Remove</TableCell>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map(score => {\n\t\t\t\t\t\treturn <ScoreRow \n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\tonViewBox={this.handleViewBox.bind(this)}\n\t\t\t\t\t\t\tonViewWod={this.handleViewWod.bind(this)}\n\t\t\t\t\t\t\tonRemove = {this.showRemoveAlert.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t</TableContainer>\n\t\t\t:\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t  <CardContent>\n\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t   \tNo Scores!\n\t\t\t\t    </Typography>\n\t\t\t\t   </CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t}\n\t\t\t<ActionCancelModal\n\t\t\t\topen={this.state.showRemoveAlert}\n\t\t\t\tactionText=\"Remove\"\n\t\t\t\tcancelText=\"Cancel\"\n\t\t\t\tmodalText=\"Remove score?\"\n\t\t\t\tonAction={this.onRemove.bind(this)}\n\t\t\t\tonClose={this.hideRemoveAlert.bind(this)}\n\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\n  \nexport default UserScoreList = withTheme(UserScoreList);\n\n/*\nShow details of Box and its WODS\n*/\nfunction ScoreRow(props){\n\tlet score = props.info[\"score\"]\n\tlet username = props.info[\"username\"]\n\tlet wodID = props.info[\"wodID\"]\n\tlet uid = props.info[\"uid\"]\n\tlet scoreID = props.info[\"scoreID\"]\n\tlet boxID = props.info[\"boxID\"]\n\treturn(\n\t\t<TableRow>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{username}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{score} \n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t    <Link to={`box/${boxID}`}>\n\t\t\t    \t<AddBoxOutlined />\n\t\t\t    </Link>\n\t  \t\t</TableCell>\n\t  \t\t<TableCell>\n\t\t\t    <Link to={`wod/${boxID}/${wodID}`}>\n\t\t\t    \t<LooksOneOutlined />\n\t\t\t    </Link>\n\t  \t\t</TableCell>\n\t  \t\t<TableCell>\n\t\t\t    <Button size=\"small\"\n\t\t\t    \tcolor=\"error\" \n\t\t\t    \tonClick={() => props.onRemove(scoreID)}>\n\t\t\t    \t<DeleteOutlined />\n\t\t\t    </Button>\n\t  \t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button, Typography, Collapse } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport UserScoreList from '../scores/userScoreList'\n\nvar db = firebase.database();\n\nclass Athlete extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userScores: []\n    }\n  }\n\n  componentDidMount(){\n    this.listenForUserScores()\n  }\n\n  listenForUserScores(){\n    db.ref(`scores`).orderByChild(\"uid\").equalTo(this.state.user.uid)\n    .on(\"value\", userScoresSS => {\n      if(userScoresSS && userScoresSS.exists()){\n        let value = userScoresSS.val()\n        let userScores = Object.keys(value).map(wodID => {\n          return value[wodID]\n        })\n        console.log(userScores)\n        this.setState({userScores: userScores})\n      }\n    })\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  render(){\n    return(\n      <Grid xs={12}>\n        <Grid xs={12}>\n          <Grid xs={12}>\n            <Typography>Scores</Typography>\n            <UserScoreList\n              uid={this.state.user.uid}\n              scores={this.state.userScores}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default Athlete = withTheme(Athlete);","import React, { Component } from 'react'\n\nimport { Grid, Paper, Button, Typography, Collapse,\n        Accordion, AccordionSummary, AccordionDetails }\nfrom '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport NewOwnerBox from \"../comps/topNavigation\"\nimport UsernamePanel from \"../comps/profile/usernamePanel\"\nimport UserFollows from '../comps/followers/userFollows'\nimport Athlete from '../comps/profile/athlete'\n\nclass PageContentRaw extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      emailAlertOpen: false\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n  \n  sendVerificationEmail(){\n    this.state.user.sendEmailVerification()\n    .then( () => {\n        this.setState({emailAlertOpen: true})\n    })\n    .catch( err => {console.log(err)})\n  }\n\n  render(){\n    return (\n      <Grid item container align=\"center\">\n        <Grid item xs={12}>\n          <Collapse in={this.state.emailAlertOpen}>\n            <Alert onClose={() => {this.setState({emailAlertOpen: false})}}>\n              Email sent!\n            </Alert>\n          </Collapse>\n        </Grid>\n        <Grid item xs={12}> \n          <Grid item container xs={12}>\n              {!this.state.user.emailVerified ?\n                <Grid item xs={12}>\n                  <Paper elevation={4}>\n                    <Typography >\n                      Verification\n                    </Typography>         \n                    \n                    <Button variant=\"outlined\" \n                      onClick={this.sendVerificationEmail.bind(this)} >\n                      <Typography  variant=\"h5\" component=\"h3\">\n                        Send Verification Email\n                      </Typography>\n                    </Button>\n                  </Paper>\n                </Grid>\n              :\n                <React.Fragment></React.Fragment>\n              }\n\n              <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n                <Paper elevation={4}>   \n                  <UsernamePanel user={this.state.user} userMD={this.state.userMD} />\n                </Paper>\n              </Grid>\n                \n             <Grid item xs={12} style={{margin: \"16px 0px 0px 0px \"}}>\n               <Paper elevation={4}>       \n                <UserFollows\n                  user={this.state.user}\n                  userMD={this.state.userMD}\n                 />\n               </Paper>\n              </Grid>\n        </Grid>\n\n        <Paper elevation={2} style={{margin: \"8px 0px 0px 0px\"}}>\n          {this.state.userMD.accountType === \"owner\" ?\n            <NewOwnerBox user={this.state.user} userMD={this.state.userMD} />\n          :\n            <Athlete user={this.state.user} userMD={this.state.userMD} />\n          }\n          </Paper>\n        </Grid>   \n    </Grid>\n    )\n  }\n}\n\nconst PageContent = withTheme(PageContentRaw)\n\nclass ProfilePage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }  \n  }\n \n  /*\n    login.js has the form and does the login, calls this with the user obj\n  */\n  handleLogIn(user){\n      this.setState({user: user} )\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  render () {\n    return (\n    \t<Grid item xs={12} id=\"profilepage\">\n          ? <PageContent \n                user= {this.state.user}\n                userMD={this.state.userMD}\n            />\n  \t\t</Grid>\n    );\n  }\n}\n\nexport default ProfilePage = withTheme(ProfilePage)\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"\n\nimport { Link } from 'react-router-dom';\n\n\nimport React, { Component } from \"react\";\n\nimport { AppBar, Toolbar, IconButton, Button, Typography} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { withTheme } from '@material-ui/core/styles';\n\nclass Header extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuser: props.user,\n\t\t\tuserMD: props.userMD\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n\trender(){\n\t\treturn(\n\t\t\t<AppBar position=\"static\" \n\t\t\t\t\tstyle={{background:this.props.theme.palette.background.toolbar}}>\n\t\t\t<Toolbar disableGutters={false}>\n\t\t\t    <Typography gutterBottom variant=\"h3\">\n\t\t            WodTrackrr\n\t\t          </Typography>\n\t\t          <section style={{marginLeft: \"auto\", marginRight: -12}}>\n\t\t          \t{this.state.user?\n\t\t\t          \t<Button variant=\"outlined\" color=\"secondary\"\n\t                      onClick={this.props.handleLogout}>\n\t\t\t                <Typography variant=\"h6\" component=\"h6\">\n\t\t\t                  Logout\n\t\t\t                </Typography>\n\t\t\t            </Button>\n\t\t\t           :\n\t\t\t           <Link to=\"/login\"\n\t\t\t           \t\tcomponent={Button} variant=\"outlined\" color=\"secondary\">\n\t\t\t                <Typography variant=\"h6\" component=\"h6\">\n\t\t\t                  Login\n\t\t\t                </Typography>\n\t\t\t            </Link>\n\t\t          \t}\n\t\t          \t</section>\n\t\t        </Toolbar>\n\t\t\t</AppBar>\n\t\t)\n\t}\n}\n\n\nexport default Header = withTheme(Header);","import firebase from \"../../context/firebaseContext\"\n// import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\n\nimport \"../../styles.css\"\n\n\nexport default class Login extends Component {\n  \n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n    \n    console.log(email.value, pass1)\n  \n    firebase.auth().signInWithEmailAndPassword(email.value, pass1.value)\n    .then(res=>{\n      console.log(\"Firebase res\")\n      console.log(res)\n      this.props.onLogin(res.user)\n    })\n    .catch(function(error) {\n      console.log(error)\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // ...\n    });\n  }\n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  render () {\n    return (\n      <Grid container id=\"login\" align=\"center\" justify=\"center\">\n        <br />\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Typography variant=\"h4\">\n              Login\n            </Typography>\n          \n            <br />\n        \n            <TextField\n            id=\"email\"\n            style={{ margin: 8 }}\n            placeholder=\"Email\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            /><br /><br />\n            <TextField\n            id=\"password\"\n            type=\"password\"\n            style={{ margin: 8 }}\n            placeholder=\"Password\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            />\n            <br/><br/>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n              Login\n            </Button>\n            <Link to=\"/register\" className=\"no-line\" style={{'padding-left': '10px'}}>\n              <Button variant=\"outlined\" color=\"secondary\" >\n                Register\n              </Button>\n            </Link>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","let apptheme = {\n   \"palette\":{\n      \"common\":{\n         \"black\":\"#000\",\n         \"white\":\"#fff\"\n      },\n      \"background\":{\n         \"paper\":\"#2e3134\",\n         \"toolbar\": \"#0d0e0e\",\n         \"tableHeader\": \"#1b1d1e\",\n         \"default\":\"rgba(48, 48, 48, 1)\"\n      },\n      \"primary\":{\n         \"main\":\"#0072fff7\",\n         \"mainGrad\": 'linear-gradient(90deg,#0890fd,#01d3fe)',\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"secondary\":{\n         \"light\":\"#14eac3\",\n         \"main\":\"#14eac3\",\n         \"dark\":\"#14eac3\",\n         \"contrastText\":\"#fff\"\n      },\n      \"error\":{\n         \"light\":\"#ea4331\",\n         \"main\":\"#c43627\",\n         \"dark\":\"#2d0d0b\",\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"follow\":{\n         \"main\": \"#09e073\"\n      },\n      \"unfollow\": {\n         \"main\": \"#e07609\"\n      },\n      \"text\":{\n         \"primary\":\"#ffffff\",\n         \"secondary\":\"#e0dfdf\",\n         \"disabled\":\"#bdbdbd\",\n         \"hint\":\"#afafaf\"\n      }\n   }\n};\n\nexport default apptheme = apptheme;","import firebase, { FirebaseAuthContext } from \"./context/firebaseContext\"\nimport \"firebase/auth\"\nimport \"firebase/firestore\"\n\nimport React from \"react\";\nimport { HashRouter, Switch, Route, Link, Redirect } from 'react-router-dom';\n\nimport { Paper, Button, BottomNavigation, BottomNavigationAction ,Grid, Container} from '@material-ui/core';\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport PanoramaIcon from '@material-ui/icons/Panorama';\n\nimport \"./styles.css\";\n\n\nimport BoxSearchPage from \"./pages/boxSearchPage\"\nimport BoxView from \"./comps/boxes/boxView\"\nimport RegisterUser from \"./comps/profile/registerUser\"\nimport GymClassView from \"./comps/gymClasses/gymClassView\"\nimport ScoreView from \"./comps/scores/scoreView\"\nimport Profile from \"./pages/profile\"\nimport Header from \"./comps/header\"\nimport Login from \"./comps/profile/login\"\n\n\nimport history from \"./history\"\n\nimport { createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport pink from '@material-ui/core/colors/pink';\nimport teal from '@material-ui/core/colors/teal';\n\n\nimport apptheme from \"./css/apptheme\"\nimport \"./styles.css\"\n\nlet theme = createMuiTheme(apptheme);\ntheme = responsiveFontSizes(theme)\n\nexport default class App extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      btmnav: 0,\n      user: firebase.auth().currentUser,\n      userMD: false\n    }\n  }\n\n  componentWillMount(){\n    this.firebaseAuthListener = firebase.auth()\n    .onAuthStateChanged(user => {\n      let fs = firebase.firestore()\n      if(user){\n        let doc = fs.collection(\"users\").doc(user.uid)\n        this.userMDListener = doc.onSnapshot(metadata => {\n          if(metadata.exists){\n            this.setState({ user: user, userMD: metadata.data() })\n          }else{\n            this.setState({ user: user, userMD: false })\n          }\n        }, err => {console.log(err)})\n\n      }else{\n        this.setState({ user: null, userMD: false })\n      }\n    })\n\n  }\n\n  handleLogin(user){\n    this.setState({user: user})\n  }\n\n  handleLogout(){\n    firebase.auth().signOut().then(() => {\n      this.setState({user: null})\n    }, (error) => {\n      console.error('Sign Out Error', error )\n    });\n  }\n\n  componentWillUnmount(){\n    if(this.firebaseAuthListener !== undefined)\n      this.firebaseAuthListener && this.firebaseAuthListener()\n    if(this.userMDListener !== null)\n      this.userMDListener && this.userMDListener()\n  }\n\n  render(){\n    return(\n    <FirebaseAuthContext.Provider>\n    <HashRouter history={history} >\n    <ThemeProvider theme={theme}>\n      <Grid container>\n        <Grid item xs={12} id=\"page-header\">\n          <Header className=\"header\" user={this.state.user}\n                userMD={this.state.userMD} handleLogout={this.handleLogout.bind(this)} />\n        </Grid>\n        <Grid item xs={12} id=\"page-container\" className=\"page-content\">\n          <Switch>\n            <Route exact path=\"/boxSearch\">\n              <BoxSearchPage user={this.state.user}\n                userMD={this.state.userMD} />\n            </Route>\n            <Route exact path=\"/profile\">\n              {this.state.user?\n                <Profile user={this.state.user}\n                  userMD={this.state.userMD} />\n              :\n                <Redirect to=\"/login\" />\n              }\n            </Route>\n\n            <Route path=\"/box/:boxID\"\n              render= { props =>(\n                <BoxView\n                  userMD={this.state.userMD}\n                  boxID={props.match.params.boxID}/>\n              )} \n            />\n            <Route path=\"/class/:gymClassID\"\n              render= { props =>(\n                <GymClassView\n                  userMD={this.state.userMD}\n                  gymClassID={props.match.params.gymClassID}/>\n              )} \n            />\n           <Route path=\"/wod/:boxID/:wodID\"\n            render= { props =>(\n                <ScoreView userMD={this.state.userMD}\n                  boxID={props.match.params.boxID}\n                  wodID={props.match.params.wodID}\n                  isReadOnly={true}/>\n              )\n            } \n          />\n          <Route exact path=\"/register\"\n            render= { props =>(\n              this.state.user?\n                <Redirect to=\"/profile\" />\n              :\n                <RegisterUser />\n              )\n            } \n          />\n          <Route exact path=\"/login\">\n            {!this.state.user?\n              <Login \n                onLogin={this.handleLogin.bind(this)} />\n            :\n              <Redirect to=\"/boxSearch\" />\n            }\n            </Route>\n          </Switch>\n          <div style={{\"margin\": \"10vh\"}}></div>\n        </Grid>\n        <Grid item xs={12} className=\"footer\">\n          <BottomNavigation \n            value = {this.state.btmnav}\n            onChange = {(event, newValue) => {\n                this.setState({btmnav: newValue})\n              }}\n              style={{background: theme.palette.background.toolbar}}\n            showLabels\n          >\n            <BottomNavigationAction label=\"Search\" component={Link} to=\"/boxSearch\" icon={<PersonIcon />}  />\n            <BottomNavigationAction label=\"Profile\" component={Link} to=\"/profile\" icon={<PersonIcon />}  />\n          </BottomNavigation>\n        </Grid>\n      </Grid>\n      </ThemeProvider>\n      </HashRouter>\n      </FirebaseAuthContext.Provider>\n  \n    );\n  }\n}\nApp.contextType = FirebaseAuthContext;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\n\n\n\n\nReactDOM.render( <App />, document.getElementById('root'));"],"sourceRoot":""}