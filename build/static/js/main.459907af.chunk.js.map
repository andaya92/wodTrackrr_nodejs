{"version":3,"sources":["context/firebaseContext.js","utils/formatting.js","utils/api.js","comps/lineChart.js","comps/barChart.js","comps/scores/scoreDataView.js","comps/scores/scoreList.js","utils/firebaseData.js","comps/scores/addScore.js","comps/actionCancelModal.js","comps/scores/scoreView.js","comps/wods/editWod.js","comps/searchSortTable.js","comps/boxes/boxView.js","comps/boxes/boxSearch.js","pages/boxSearchPage.js","comps/profile/login.js","comps/boxes/boxListAccordion.js","comps/wods/addWod.js","comps/boxes/ownerBox.js","comps/profile/usernamePanel.js","pages/profile.js","comps/header.js","history.js","css/apptheme.js","app.js","index.js"],"names":["firebase","FirebaseAuthContext","React","createContext","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cvtTimetoInt","x","console","log","split","mins","seconds","parseInt","cvtIntToTime","Math","floor","secs","storage","database","LineChart","props","state","scoreType","data","values","stats","Map","this","ctx","document","getElementById","grd","getContext","createLinearGradient","addColorStop","lineChart","destroy","Chart","type","label","datasets","barPercentage","barThickness","maxBarThickness","minBarLength","backgroundColor","options","scales","yAxes","ticks","callback","index","labels","tooltips","callbacks","title","tooltipItem","datasetIndex","yLabel","maintainAspectRatio","plugins","beforeInit","chart","newProps","setState","createChart","obj","Array","from","Object","entries","entry","Grid","item","xs","style","height","id","Component","withTheme","BarChart","length","binData","barChart","parseFloat","_mean","sd","bins","i","binA","format","binB","unshift","push","standardDeviation","mean","createLabels","binnedData","diff","numSDAway","abs","db","ScoreDataView","wodID","graphData","rawScores","scoresPath","scoreListener","ref","on","ss","exists","getData","val","getDescStats","showCharts","score","sort","y","vals","min","max","median","container","align","Paper","elevation","Typography","get","ScoreList","scores","uid","Fragment","TableContainer","component","Table","aria-label","TableHead","TableCell","TableBody","map","isCurUserScore","ScoreRow","info","onRemove","isUserScore","Card","variant","color","CardContent","gutterBottom","username","scoreID","TableRow","selected","Button","size","onClick","setScore","path","userScore","boxID","Promise","res","rej","set","date","Date","now","then","catch","AddScore","wodMD","userMD","s","search","value","isNumInSane","alert","scorePath","userScorePath","err","Accordion","AccordionSummary","background","theme","palette","primary","main","expandIcon","aria-controls","AccordionDetails","replace","toUpperCase","TextField","margin","pattern","inputProps","placeholder","InputLabelProps","shrink","handleAddScore","bind","ActionCancelModal","open","Modal","onClose","aria-labelledby","aria-describedby","position","top","left","width","transform","display","flexDirection","justifyContent","modalText","onAction","actionText","cancelText","ScoreView","curRemoveScoreID","showRemoveAlert","userScoreListener","arr","objListToArray","isTime","a","b","undefined","remove","removeScore","handleRemoveScore","handleBack","handleModalClose","EditWod","wodInfo","userBoxes","hasBoxes","wodText","wodBoxPath","update","editWod","ev","name","target","oldScoreType","oldBoxID","Select","native","box","key","onChange","handleValChange","multiline","rows","editWOD","SearchSortTable","headers","filteredRows","orderTableBy","orderTable","pageNum","rowsPerPage","pageStart","pageEnd","keyCode","which","filter","wod","toLowerCase","includes","orderBy","order","descendingComparator","comparator","stabilizedThis","el","isAsc","newPage","start","end","fullWidth","onKeyUp","InputProps","startAdornment","InputAdornment","header","sortable","TableSortLabel","active","direction","createSortHandler","stableSort","getComparator","slice","row","Wod","handleView","handleRemove","handleEdit","showOwnerBtns","TablePagination","rowsPerPageOptions","count","page","onChangePage","handleChangePage","onChangeRowsPerPage","handleChangeRowsPerPage","toLocaleDateString","BoxView","boxMD","wods","showWodList","currentWodID","currentWodMD","showEditModal","editWodInfo","curRemoveWodBoxID","curRemoveWodID","curRemoveWodTitle","wodPath","boxPath","boxListener","wodListener","removeWod","filteredWods","isReadOnly","handleScoreView","handleRemoveWod","deleteWod","handleEditModalClose","BoxSearch","user","isOwner","allBoxes","filteredBoxes","Box","mainGrad","handleBoxView","handleRemoveBox","itemxs","padding","alignItems","BoxSearchPage","showBoxView","currentBoxID","allBoxesListener","objectsToArray","Login","email","pass1","auth","signInWithEmailAndPassword","onLogin","error","code","message","justify","handleSubmit","to","className","BoxListAccordion","showBoxList","curRemoveBoxID","curRemoveBoxTitle","boxTitle","boxNamesTitle","boxes","all","removeBox","zeroMinWidth","noWrap","deleteBox","AddWod","updates","setWod","createWOD","OwnerBox","addBoxProgress","scoreTypeSelectVal","boxIDSelectVal","listenForBoxes","accountType","boxObj","getArrayOfBoxes","showAddBoxProgress","createBox","once","boxData","ownerUID","toString","setBox","PageContent","sendEmailVerification","emailAlertOpen","Collapse","in","Alert","emailVerified","sendVerificationEmail","onLogout","ProfilePage","signOut","handleLogout","handleLogIn","Header","AppBar","toolbar","Toolbar","disableGutters","createBrowserHistory","apptheme","createMuiTheme","responsiveFontSizes","App","btmnav","currentUser","firebaseAuthListener","onAuthStateChanged","userMDListener","metadata","Provider","history","ThemeProvider","exact","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","Link","icon","contextType","ReactDOM","render"],"mappings":"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","file":"static/js/main.459907af.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \nimport React from \"react\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCGE8_j8cfIBmIzcvP6CVgG2yC6EE1Ep1U\",\n  authDomain: \"wodtrackrr.firebaseapp.com\",\n  databaseURL: \"https://wodtrackrr.firebaseio.com\",\n  projectId: \"wodtrackrr\",\n  storageBucket: \"wodtrackrr.appspot.com\",\n  messagingSenderId: \"743601990099\",\n  appId: \"1:743601990099:web:5937e9151eaad13e93a726\",\n  measurementId: \"G-39CF0BRPMH\"\n};\n\n\n\nexport default firebase\nexport const FirebaseAuthContext = React.createContext(firebase.initializeApp(firebaseConfig));","export default function cvtReps(x){\n\treturn parseInt(x)\n}\n\nexport function cvtTimetoInt(x){\n\tconsole.log(\"Split\", x)\n\tlet [mins, seconds] = x.split(\":\")\n\treturn (parseInt(mins) * 60) + parseInt(seconds)\n}\n\n\nexport function cvtIntToTime(x){\n\tlet mins = Math.floor(x / 60)\n\tlet secs = Math.floor(x - (mins*60))\n\tif(secs < 10){\n\t\tsecs = `0${secs}`\n\t}\n\treturn `${mins}:${secs}`\n}\n\n\nexport function cvtTimetoIntList(rawScores){\n\treturn rawScores.map((score) => {\n\t\tcvtTimetoInt(score)\n\t})\n}\n\n\nexport function msToDate(ms){\n\treturn new Date(ms).toLocaleDateString(\"en-US\")\n}","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/storage\";\nimport \"firebase/database\"; \nvar storage = firebase.storage()\nvar db = firebase.database();\n\n\n\nfunction formatDate(){\n  const [{ value: month },,{ value: day },,{ value: year }] \n    = new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' })\n      .formatToParts(new Date())  \n  console.log(new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' }))\n  return `${year}/${month}/${day}`\n}\n\nexport default async function postData(url = '', data = {}) {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json'\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\n\n// export async function getImagePreview(fileObjs) {\n//   return await Promise.all(fileObjs.map(fileObj => {\n//     return new Promise((res, rej) => {\n//       const reader = new FileReader();  \n  \n//       reader.onload = (evt) => {\n//         res(evt)\n//       }\n//       // add error event\n//       reader.readAsDataURL(fileObj)\n//       }) \n//   }))\n  \n  \n// }\n\n\n// export function postCaptionUpload(ts, caption){\n//   let DBRef = db.ref(`posts/${ts}/`)\n//   DBRef.child('caption')\n//   .set(caption)\n//   .then( () => {\n//     console.log(\"Caption uploaded\")\n//   })\n//   .catch(err => { console.log(err) })\n// }\n\n// export function postMediaUpload(fileObj, ts, i) {\n//   const reader = new FileReader();  \n//   console.log(fileObj, ts, i)\n//   let DBRef = db.ref(`posts/${ts}/`)\n//   let fileType = fileObj.type.split('/')[0]\n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file?\n//     storage.ref()\n//     .child(`posts/${ts}/${fileObj.name}`)\n//     .put(fileObj)\n//     .then(snapshot => {\n//       if(snapshot){\n//         console.log(snapshot)\n//         DBRef.child(`media/${i}`)\n//         .update({\n//           type: fileType,\n//           url: snapshot.metadata.fullPath \n//         })\n//         .then( () => {\n//           console.log('File uploaded')\n//         })\n//         .catch( err => { console.log(err) })\n//       }\n\n//     })\n//     .catch(err => {console.log(err)})\n//   }\n//   reader.readAsDataURL(fileObj)\n// }\n\n// export async function downloadPostMedia(imgPaths){\n//     return await Promise.all(imgPaths.map(imgObj => {\n//       console.log(imgObj.get('path'))\n//       return new Promise((res, rej) => {\n//         storage.ref(imgObj.get('path')).getDownloadURL()\n//         .then(url => {\n//           console.log(url)\n//           res(new Map([['path', imgObj.get('path')], ['url', url], ['type', imgObj.get('type')] ]))\n//         }).catch(err => {rej(err)})\n//       })\n//     }))\n// }\n\n\n// /* not in use */\n\n// export function websiteImageUpload(title, file) {\n//   const reader = new FileReader();  \n\n//   let setNameDBRef = db.ref(`website/images`)\n  \n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file?\n//     storage.ref()\n//     .child(`website/images/${title}`)\n//     .put(file)\n//     .then(snapshot => {\n//       let stripped = snapshot.metadata.fullPath\n//       .replace(new RegExp(/\\//, 'g'), \"\")\n//       .replace(\".\", \"\")\n      \n//       // see if image object exits, preserve original upload date\n//       setNameDBRef.child(stripped)\n//       .once('value')\n//       .then( setNameImageSnapshot => {\n//           let fmtDate =  null // preserve original date\n//           if(setNameImageSnapshot.val()){\n//             fmtDate = setNameImageSnapshot.val().date\n//           }else{\n//             const date = new Date()\n//             const dateTimeFormat = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'numeric', day: '2-digit' }) \n//             const [{ value: month },,{ value: day },,{ value: year }] = dateTimeFormat.formatToParts(date )  \n//             fmtDate = `${year}/${month}/${day}` \n//           }\n\n//           setNameDBRef.child(stripped).set({\n//             \"date\": fmtDate,\n//             \"path\": snapshot.metadata.fullPath \n//           })\n//       } )\n\n//     })\n//     .catch(err => {console.log(err)})\n//   }\n//   reader.readAsDataURL(file)\n// }\n\n// export async function downloadWebsiteImages(imgPaths){\n//     return await Promise.all(imgPaths.map(imgObj => {\n      \n//       return new Promise((res, rej) => {\n//         storage.ref(imgObj.path).getDownloadURL()\n//         .then(url => {\n//           res(url)\n//         }).catch(err => {rej(err)})\n//       })\n//     }))\n// }\n\n// /* not in use */\n\n// function setThumbUploadHelper(setName, title, file){\n//   /*\n//     Uploads the file and file data to database \n//   */\n\n//   //upload \n//   let thumbStorageRef = storage.ref().child(`thumbnails/${setName}/${title}`);\n//   let setThumbDBRef = db.ref(`thumbnails/${setName}/`)\n\n//   // store file data\n//   thumbStorageRef.put(file)\n//   .then(snapshot => {\n//     let stripped = snapshot.metadata.fullPath.replace(new RegExp(/\\//, 'g'), \"\").replace(\".\", \"\")\n//     /* key: value ------ stippped: fullPath ----- pathtoimg1: path/to/img1  */\n//     setThumbDBRef.child(stripped).set(snapshot.metadata.fullPath)\n//   })\n// }\n\n// /* checks if thumbnail exists */ \n// export function setThumbUpload(setName, title, file) {\n//   const reader = new FileReader();  \n//   /*\n//     If setName exists, delete and upload if not just upload\n//   */\n//   let setThumbDBRef = db.ref(`thumbnails/${setName}/`)\n  \n//   reader.onload = (evt) => {\n//     setThumbDBRef.once(\"value\")\n//     .then( ss => {\n//       if(ss.exists()){\n//           //delete\n//           setThumbDBRef.remove()\n//           .then(() => {\n//             let thumbStorageRef = storage.ref(`thumbnails/${setName}`)\n//             // Ensure all previous entries are deleted. Settings will not work because files names will be different.\n//             thumbStorageRef.listAll()\n//             .then((res) => {\n//               res.items.forEach(item => {\n//                 item.delete()\n//                 .then(() => {\n//                   // database entry is gone, remove file from storage\n//                   setThumbUploadHelper(setName, title, file)\n//                 })\n//                 .catch(err => {console.log(err)})\n//               })\n//             })\n//             .catch(err => {console.log(err)})\n//           })\n//           .catch(err => { console.log(err) })\n//       }else{\n//          setThumbUploadHelper(setName, title, file)\n//       }\n//     })\n//   };\n//   reader.readAsDataURL(file);\n// }\n\n// export async function downloadSetThumbImage(setName){ \n//   let thumbSnapshot = await db.ref(`thumbnails/${setName}`).once('value')\n//   let thumbnailFullPath = Object.values(thumbSnapshot.val())[0]\n//   return await storage.ref(thumbnailFullPath).getDownloadURL()\n// }\n\n// /* use img and throbber to create progress indicator */\n// export function setImageUpload(setName, title, file) {\n//   const reader = new FileReader();  \n//   let setNameDBRef = db.ref(`images/${setName}`)\n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file\n//     storage.ref().child(`images/${setName}/${title}`)\n//     .put(file)\n//     .then(snapshot => {\n//       let stripped = snapshot.metadata.fullPath\n//       .replace(new RegExp(/\\//, 'g'), \"\")\n//       .replace(\".\", \"\")\n//       // see if image object exits, preserve original upload date\n//       setNameDBRef.child(stripped).once('value')\n//       .then( setNameImageSnapshot => {\n//           let fmtDate =  null\n//           setNameImageSnapshot.val()\n//           ? \n//             fmtDate = setNameImageSnapshot.val().date\n//           :\n//             fmtDate = formatDate()\n          \n//           setNameDBRef.child(stripped).set({\n//             \"date\": fmtDate,\n//             \"path\": snapshot.metadata.fullPath \n//           })\n//       } )\n//     })\n//     .catch(err => {console.log(err)})\n//   };\n//   reader.readAsDataURL(file);\n// }\n\n// /*\n//   Given array of image paths, fetch image url from Firebase Storage using img path\n//   Air Bnb doc\n//   https://peterpalau.github.io/react-bnb-gallery/#/options\n//   Firebase:\n//     Data return alphabetically, so images are sorted by name by default\n// */\n// export async function downloadSetNameImages(imgPaths){\n//   return await Promise\n//   .all(imgPaths\n//     .map((imgObj, i)=>{\n//       return new Promise(\n//         (res, rej) => {\n//           console.log(imgObj.path)\n//           storage.ref(imgObj.path).getDownloadURL()\n//           .then(url => {\n//             /* Image object doumented in react Air BnB Gallery */\n//             res({\n//               photo: url,\n//               number: i,\n//               caption: imgObj.path.split(\"/\").reverse()[0].split(\".\")[0],\n//               subcaption: imgObj.date,\n//               thumbnail: url\n//             })\n//           }).catch(err=>{rej(err)}) \n//         }\n//       )\n//     })\n//   )\n// }","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport Chart from 'chart.js';\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass LineChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: new Map() // mean, median, SD\n\t\t}\n\t}\n\n\t\n\tcomponentDidMount(){\n\n\t}\n\n\tcreateChart(){\n\t\tconsole.log(\"LineChart____________\")\n\t\tconsole.log(this.state)\n\t\tthis.ctx = document.getElementById('lineChart');\n\t\t\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\t\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.lineChart){\n\t\t\tthis.lineChart.destroy()\n\t\t}\n\t\t\n\t\tthis.lineChart = new Chart(this.ctx, {\n\t\t    type: 'line',\n\t\t    \n\t\t    data:  {\n\t\t    \tlabel: \"Scores\",\n\t\t\t    datasets: [{\n\t\t\t    \tlabel: \"Score\",\n\t\t\t        barPercentage: 0.5,\n\t\t\t        barThickness: 6,\n\t\t\t        maxBarThickness: 8,\n\t\t\t        minBarLength: 2,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: this.state.data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tscales: {\n\t\t            yAxes: [{\n\t\t                ticks:{\n\t\t                \tcallback: (label, index, labels) => {\n\t\t\t                \tif(this.state.scoreType === \"time\"){\n\t\t\t                \t\treturn cvtIntToTime(label)\n\t\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t\t                \t\treturn label\n\t\t\t                \t}\n\t\t\t                }\n\t\t\t             }\n\t\t            }]\n\t\t\t    },\n\t\t\t    tooltips: {\n\t\t\t        callbacks: {\n\t\t\t        \ttitle: (tooltipItem, data) => {\n\n\t\t\t        \t},\n\t\t\t            label: (tooltipItem, data) => {\n\t\t\t                var label = data.datasets[tooltipItem.datasetIndex].label || '';\n\n\t\t\t                if (label) {\n\t\t\t                    label += ': ';\n\t\t\t                }\n\n\t\t\t                if(this.state.scoreType === \"time\"){\n\t\t                \t\tlabel += cvtIntToTime(tooltipItem.yLabel)\n\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t                \t\tlabel += tooltipItem.yLabel\n\t\t                \t}\n\t\t\t                \n\t\t\t                \n\t\t\t                return label;\n\t\t\t            }\n\t\t\t        }\n\t\t\t    },\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t},\n\t\t\tplugins: [{\n\t\t\t\tbeforeInit: function(chart) {\n\t\t\t\t\tvar chartData = chart.data.datasets[0].data\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\n\n\t}\n    \n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps}, ()=>{\n\t\t\tthis.createChart()\n\t\t})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t\t\n\t}\n\n\tobjListToArray(obj){\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\t\n\n  render(){\n\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t<canvas id=\"lineChart\" ></canvas>\n\t\t\t</div>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default LineChart = withTheme(LineChart);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\nimport Chart from 'chart.js';\n\n\n\nvar db = firebase.database();\n\nclass BarChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: new Map() // mean, median, SD\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({\n\t\t\t...newProps,\n\t\t}, () => {\n\t\t\tif(this.state.values.length > 0)\n\t\t\t\tthis.createChart(this.binData(this.state.values))\n\t\t})\n\t}\n\n\tcreateChart([labels, data]){\n\t\tthis.ctx = document.getElementById('barChart');\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.barChart){\n\t\t\tthis.barChart.destroy()\n\t\t}\n\t\tthis.barChart = new Chart(this.ctx, {\n\t\t    type: 'bar',\n\t\t    data:  {\n\t\t    \tlabels: labels,\n\t\t\t    datasets: [{\n\t\t\t    \t'label': \"Scores (Standard Deviation)\",\n\t\t\t        minBarLength: 1,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t}\n\t\t});\n\t}\n\n\tformat(x){\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\treturn x <= 0 ? 0 : cvtIntToTime(x)\n\t\t}else if(this.state.scoreType === \"reps\"){\n\t\t\treturn parseFloat(x)\n\t\t}\n\t}\n\n\tcreateLabels(_mean, sd){\n\t\tlet bins = []\n\n\t\tfor(let i=0; i<3; i++){\n\t\t\tlet binA = `${this.format(_mean - (sd * (i + 1)))} - ${this.format(_mean - (sd * i))}`\n\t\t\tlet binB = `${this.format(_mean + (sd * i))} - ${this.format(_mean + (sd * (i + 1)))}`\t\n\t\t\tbins.unshift(binA)\n\t\t\tbins.push(binB)\n\t\t}\n\t\treturn bins\n\t}\n\n\tbinData(values){\n\t\t/*\n\t\t\t{x: binValue, y: countOfbin}\n\t\t\t6 bins 1,2,3 SD from Mean each way\n\t\t*/\n\t\tconsole.log(values)\n\t\tlet sd = standardDeviation(values)\n\t\tlet _mean = mean(values)\n\t\tlet labels = this.createLabels(_mean, sd)\n\t\tlet binnedData = [0, 0, 0, 0, 0, 0]\n\t\tfor(let x of values){\n\t\t \t\tlet diff = (x - _mean) // 11 - 10 => 1\n\t\t \t\tlet numSDAway = Math.floor(diff / sd) // 5 / 2 => .5 => 0\n\t\t \t\tconsole.log(`SD: ${sd}, x: ${x}, mean: ${_mean} Diff: ${diff}, sdAway: ${numSDAway}`)\n\t\t \t\tif(Math.abs(numSDAway) <= 1){\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[3]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[2]++\n\t\t \t\t\t}\n\t\t \t\t}else if(Math.abs(numSDAway) <= 2){\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[4]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[1]++\n\t\t \t\t\t}\n\t\t \t\t} else{\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[5]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[0]++\n\t\t \t\t\t}\n\t\t \t\t}\n\t\t }\n\t\t \n\t\t return [labels, binnedData]\n\t}\n\n  render(){\n\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t<canvas id=\"barChart\"></canvas>\n\t\t\t</div>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default BarChart = withTheme(BarChart);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport LineChart from \"../lineChart\"\nimport BarChart from \"../barChart\"\n\n\nimport postData from \"../../utils/api\"\nimport {cvtTimetoInt, cvtIntToTime, cvtTimetoIntList} from \"../../utils/formatting\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass ScoreDataView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\twodID: props.wodID,\n\t\t\tgraphData: new Array(),\n\t\t\trawScores: new Array(),\n\t\t\tscoreType: \"\",\n\t\t\tstats: new Map()\n\t\t}\n\t\t\n\t}\n\n\tcomponentDidMount(){\n\t\tlet scoresPath = `scores/${this.state.wodID}`\n\t\tthis.scoreListener  = db.ref(scoresPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\t/*ss.val() looks like this object from the path scores/wodID\n\t\t\t\t\tscores/wodID: {\n\t\t\t\t\t\tuid: {\n\t\t\t\t\t\t\tscoreinfo\n\t\t\t\t\t\t},\n\t\t\t\t\t\tuid: {...},\n\t\t\t\t\t\t...\n\t\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\tlet [graphData, rawScores, scoreType] = this.getData(ss.val())\n\t\t\t\tlet stats = this.getDescStats(rawScores)\n\t\t\t\tlet showCharts = (rawScores.length > 1) ? true : false\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tgraphData: graphData, \n\t\t\t\t\trawScores: rawScores, \n\t\t\t\t\tscoreType: scoreType, \n\t\t\t\t\tstats: stats,\n\t\t\t\t\tshowCharts: showCharts\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n\tgetData(obj){\n\t\t// create two arrays\n\t\t// One for data display in graph, \n\t\t//\t\t[ {\"category\": \"A\", \"amount\": 28}, ... ]\n\t\t// Second to crunch data, raw values\n\t\t/*\n\t\t\t\tkey\t=> uid\n\t\t\t\t\tboxID: \t\t\"-MMVcVjihF2bXFc6qIEp\"\n\t\t\t\t\tscore:  \t\"321\"\n\t\t\t\t\tusername:  \t\"TestOwner\"\n\t\t\t\t\twodID:  \t\"-MMjP1_MQH23dnFQOfjR\"\n\t\t*/\n\t\tlet graphData = []\n\t\tlet values = []\n\t\tlet scoreType = \"\"\n\n\t\t// extract scores form obj and convert time to integer of seconds\n\t\tfor(let item of Object.values(obj)){\n\t\t\tscoreType = item.scoreType\n\t\t\tif(item.scoreType === \"time\"){\n\t\t\t\tvalues.push(cvtTimetoInt(item.score))\n\t\t\t}else if(item.scoreType === \"reps\"){\n\t\t\t\tvalues.push(parseFloat(item.score))\n\t\t\t}\n\t\t}\n\n\t\t// sort scores\n\t\tvalues.sort((x,y) => {\n\t\t\tif(scoreType === \"time\"){\n\t\t\t\treturn x - y\n\t\t\t}else if(scoreType === \"reps\"){\n\t\t\t\treturn parseFloat(x) - parseFloat(y)\n\t\t\t}\n\t\t\treturn 1\n\t\t})\n\n\t\t// create data list for chart \n\t\tfor(let i =0; i < values.length; i++){\n\t\t\t graphData.push({\"x\": i, \"y\": values[i], \"c\": 0})\n\t\t}\n\t\treturn [graphData, values, scoreType]\n\t}\n\n\t getDescStats(vals){\n\t\tlet stats = [\n\t\t\t['min', Math.min(...vals)],\n\t\t\t['max', Math.max(...vals)],\n\t\t\t['mean', mean(vals)],\n\t\t\t['median', median(vals)],\n\t\t\t['sd', standardDeviation(vals)]\n\t\t]\n\t\treturn new Map(stats)\n    }\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<Grid item container align=\"center\" xs={12}>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tLow: {this.state.scoreType === \"time\" ? \n\t\t\t\t\t\t\t\tcvtIntToTime(this.state.stats.get(\"min\"))\n\t\t\t\t\t\t\t\t: this.state.stats.get(\"min\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tHigh: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats.get(\"max\"))\n\t\t\t\t\t\t\t: this.state.stats.get(\"max\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t<Paper elevation={6}>\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\tAvg: {this.state.scoreType === \"time\" ?\n\t\t\t\t\t\t\tcvtIntToTime(this.state.stats.get(\"mean\"))\n\t\t\t\t\t\t\t: this.state.stats.get(\"mean\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<LineChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType} />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BarChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType} />\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n  }\n}\nexport default ScoreDataView = withTheme(ScoreDataView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass ScoreList extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscores: props.scores,\n\t\t\tuid: props.uid\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n  \trender(){\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableCell>Username</TableCell>\n\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map(score => {\n\t\t\t\t\t\tlet isCurUserScore = \n\t\t\t\t\t\t\t(this.state.uid == score.get(\"uid\"))? true : false\n\t\t\t\t\t\treturn <ScoreRow \n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\tonRemove = {this.props.onRemove}\n\t\t\t\t\t\t\tisUserScore={isCurUserScore} \n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t</TableContainer>\n\t\t\t:\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t  <CardContent>\n\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t   \tNo Scores!\n\t\t\t\t    </Typography>\n\t\t\t\t   </CardContent>\n\t\t\t\t</Card>\n\t\t\t</Grid>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\n  \nexport default ScoreList = withTheme(ScoreList);\n\n/*\nShow details of Box and its WODS\n*/\nfunction ScoreRow(props){\n\tlet score = props.info.get(\"score\")\n\tlet username = props.info.get(\"username\")\n\tlet wodID = props.info.get(\"wodID\")\n\tlet uid = props.info.get(\"uid\")\n\tlet scoreID = `${wodID}/${uid}`\n\tlet rowStyle = (props.isUserScore)? \"\": \"\"\n\treturn(\n\t\t<TableRow selected={props.isUserScore}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{username}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{score} \n\t\t\t\t</TableCell>\n\t\t\t\t{\n\t\t  \t\t\tprops.isUserScore\n\t\t  \t\t\t?\n\t\t\t  \t\t<TableCell>\n\t\t\t\t\t    <Button size=\"small\" \n\t\t\t\t\t    \tcolor=\"error\" \n\t\t\t\t\t    \tonClick={() => props.onRemove(scoreID)}>\n\t\t\t\t\t    \tRemove\n\t\t\t\t\t    </Button>\n\t\t\t  \t\t</TableCell>\n\t\t\t  \t\t:\n\t\t\t  \t\t<TableCell></TableCell>\n\n\t\t  \t\t}\n\t\t</TableRow>\n\t)\n}\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/storage\";\nimport \"firebase/database\"; \nvar storage = firebase.storage()\nvar db = firebase.database();\n\n\n\n\n\nexport default function mTea(){}\n\n/*\n\tBoxes\n*/\n\nexport function setBox(title, uid){\n  \tlet boxNamesTitle = `boxNames/${title}`\n  \tlet userBoxes = `users/${uid}/boxes`\n  \tlet boxes = `boxes`\n\n  \treturn new Promise((res, rej) => {\n  \t\tdb.ref(boxNamesTitle).once(\"value\", ss =>{\n\t\t\tif(ss.exists()){\n\t\t\t\trej(\"Title exists\")\n\t\t\t}else{\n\t\t\t\tlet boxID = db.ref(boxes).push().key\n\t\t\t\tlet boxData = {\n\t\t\t\t\ttitle: title,\n\t\t\t\t\townerUID: uid,\n\t\t\t\t\tboxID: boxID,\n\t\t\t\t\tdate: Date.now()\n\t\t\t\t}\n\n\t\t\t\tPromise.all([\n\t\t\t\t\t// add to list of all boxes\n\t\t\t\t\tdb.ref(`${boxes}/${boxID}`).set(boxData),\n\t\t\t\t\t// add to list of boxNames\n\t\t\t\t\tdb.ref(boxNamesTitle).set(boxData),\n\t\t\t\t\t// add to users list of boxes\n\t\t\t\t\tdb.ref(`${userBoxes}/${boxID}`).set(boxData)\n\t\t\t\t])\n\t\t\t\t.then((values) => {\n\t\t\t\t\tres(`Succefully created box ${values.toString()}`)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n  \t})\n }\n\n export function removeBox(boxID, title, uid){\n\n  \tlet boxNamesTitle = `boxNames/${title}`\n  \tlet userBoxes = `users/${uid}/boxes/${boxID}`\n  \tlet boxes = `boxes/${boxID}`\n  \tlet wods = `wods/${boxID}`\n  \treturn Promise.all([\n  \t\tdb.ref(boxes).set({}),\n\t  \tdb.ref(wods).set({}),\n\t\tdb.ref(boxNamesTitle).set({}),\n\t\tdb.ref(userBoxes).set({})]\n\t)\n  \t\n  }\n\n/*\n\tWods\n*/\n\nexport function setWod(boxID, title, wodText, scoreType){\n  \tlet wodBoxPath = `wods/${boxID}`\n\tlet wodID = db.ref(wodBoxPath).push().key\n\n\tlet wodPath = `${wodBoxPath}/${wodID}`\n\tlet shallowPath = `shallow/${wodBoxPath}/${wodID}` // able to query at boxid for wods\n\n\t\n\tlet updates = {}\n\tupdates[shallowPath] = true \n\tupdates[wodPath] = {\n\t\tboxID: boxID,\n\t\twodID: wodID,\n\t\ttitle: title,\n\t\tscoreType: scoreType,\n\t\twodText: wodText,\n\t\tdate: Date.now()\n\t}\n\treturn db.ref().update(updates)\n\t\n\n\t\n  }\nexport function editWod(boxID, wodID, title, wodText, scoreType){\n\tlet wodBoxPath = `wods/${boxID}/${wodID}`\n\n\treturn db.ref(wodBoxPath).update({\n\t\ttitle: title,\n\t\twodText: wodText,\n\t\tscoreType: scoreType\n\t})\n}\n\n\n// delete wod plus its scores from wods and scores nodes in Firebase\n// leaving scores under users node for now.\nexport function removeWod(wodPath, scorePath){\n\t// let wodPath = `wods/${this.state.curRemoveWodBoxID}/${this.state.curRemoveWodID}`\n\t// let scorePath = `scores/${this.state.curRemoveWodID}`\n\n\treturn new Promise((res, rej) => {\n\t\ttry{\n\t\t\tdb.ref(wodPath)\n\t\t\t.remove()\n\t\t\t.then(()=>{\n\t\t\t\tdb.ref(scorePath)\n\t\t\t\t.remove()\n\t\t\t\t.then(() => {\n\t\t\t\t\tres(\"Deleting complete\")\n\t\t\t\t})\n\t\t\t})\n\t\t}catch{\n\t\t\trej(\"error while deleting Wod\")\n\t\t}\n\t})\n}\n\n\n\n/*\n\tScores\n*/\n\nexport function setScore( path,\n\ttitle,\n\tusername, \n\tuid, \n\tuserScore,\n\twodID,\n\tboxID,\n\tscoreType\n){\n\treturn new Promise((res, rej) => {\n\n\t\tdb.ref(path).set({\n\t\t\tusername: username,\n\t\t\tuid: uid,\n\t\t\ttitle: title,\n\t\t\tscore: userScore,\n\t\t\twodID: wodID,\n\t\t\tboxID: boxID,\n\t\t\tscoreType: scoreType,\n\t\t\tdate: Date.now()\n\t\t})\n\t\t.then(() => res(\"Success added score\"))\n\t\t.catch(() => rej(\"Failed to add score\"))\t\n\t})\n}\n\nexport function setShallowScore( path\n){\n\treturn new Promise((res, rej) => {\n\n\t\tdb.ref(`shallow/${path}`).set(true)\n\t\t.then(() => res(\"Success added score\"))\n\t\t.catch(() => rej(\"Failed to add score\"))\t\n\t})\n}\n\n\nexport function removeScore(scoreID){\n\treturn new Promise((res, rej) => {\n\t\tdb.ref(`scores/${scoreID}`)\n\t\t.remove()\n\t\t.then(()=>{res(`Successfully removed score: ${scoreID}`)})\n\t\t.catch((err) => {rej(`Failed to remove score: ${scoreID}`)})\n\t})\n}\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ScoreDataView from \"./scoreDataView\" \n\nimport { setScore, removeScore } from \"../../utils/firebaseData\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\nclass AddScore extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tlet wodID = props.wodMD.get(\"wodID\")\n\t\tlet scoreType = props.wodMD.get(\"scoreType\")\n\t\tlet boxID = props.wodMD.get(\"boxID\")\n\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\twodMD: props.wodMD,\n\t\t\twodID: wodID,\n\t\t\tboxID: boxID,\n\t\t\tscoreType: scoreType\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tobjListToArray(obj){\n\t\t// let key = Object.keys(obj)[0]\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\tisNumInSane(s){\n\t\tlet hasNonDigitRegex = /\\D/\n\t\tlet res = s.search(hasNonDigitRegex) \n\t\tlet isSane = (res === -1) ? true: false\n\t\treturn isSane \n\t}\n\n\thandleAddScore(){\n\t\tif(!this.state.userMD){return}\n\n\t\tlet userScore = \"\"\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\tlet mins =  document.getElementById(\"scoreViewUserScoreMins\").value\n\t\t\tlet secs =  document.getElementById(\"scoreViewUserScoreSecs\").value\n\t\t\tif(!this.isNumInSane(mins) || !this.isNumInSane(secs)){\n\t\t\t\talert(`Time must only contain numbers, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) > 59){\n\t\t\t\talert(`Seconds must be 59 or below, entered: ${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) < 10 && secs.length === 1){\n\t\t\t\tsecs = `0${secs}`\n\t\t\t}\n\t\t\tif(mins.length > 2){\n\t\t\t\talert(`Minutes must be 99 or below, entered: ${mins}`)\t\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length === 0){\n\t\t\t\tmins = \"0\"\n\t\t\t}\n\t\t\tif(secs.length === 0){\n\t\t\t\tsecs = \"0\"\n\t\t\t}\n\t\t\tuserScore = `${mins}:${secs}`\n\t\t}else{\n\t\t\t// reps or rounds\n\t\t\tuserScore =  document.getElementById(\"scoreViewUserScore\").value\n\t\t\tif(userScore.length > 3){\n\t\t\t\talert(`Score must be 3 digits or less, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!this.isNumInSane(userScore)){\n\t\t\t\talert(`Score must be digits only, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t}\n\n\t\tlet username = this.state.userMD.username\n\t\tlet uid = this.state.userMD.uid\n\t\tlet wodID = this.state.wodMD.get(\"wodID\")\n\t\tlet boxID = this.state.wodMD.get(\"boxID\")\n\t\tlet title = this.state.wodMD.get(\"title\")\n\n\n\t\t// each score can be idnetified by wodID/uid, enforces 1 score per workout per user\n\t\tlet scorePath = `scores/${wodID}/${uid}`\n\t\tlet userScorePath = `users/${uid}/scores/${boxID}/${wodID}`\n\n\t\tsetScore( scorePath,\n\t\t\ttitle,\n\t\t\tusername, \n\t\t\tuid, \n\t\t\tuserScore,\n\t\t\twodID,\n\t\t\tboxID,\n\t\t\tthis.state.wodMD.get(\"scoreType\")\n\t\t)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\n\n\t\tsetScore( userScorePath,\n\t\t\ttitle,\n\t\t\tusername, \n\t\t\tuid, \n\t\t\tuserScore,\n\t\t\twodID,\n\t\t\tboxID,\n\t\t\tthis.state.wodMD.get(\"scoreType\")\n\t\t)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\t}\n\n\t\n\n\n\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tstyle={{background: this.props.theme.palette.primary.main}}\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls=\"additional-actions2-content\"\n\t\t\t\t\tid=\"additional-actions2-header\">\n\t\t\t\t\t<Typography >\n\t\t\t\t\t\tAdd Score\n\t\t\t\t\t</Typography>\t        \n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid  item xs={12} >\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\t{this.state.scoreType\n\t\t\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t\tthis.state.scoreType[0],\n\t\t\t\t\t\t\t\t\tthis.state.scoreType[0].toUpperCase())\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{this.state.scoreType === \"reps\"\n\t\t\t\t\t?\t<Grid item xs={10}>\n\t\t\t\t\t\t<TextField\n\t\t\t              id=\"scoreViewUserScore\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{4}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 4\",\n\t\t\t                placeholder: \"Score\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t        :\n\t\t\t        \t<React.Fragment>\n\t\t\t        \t<Grid item xs={5}>\n\t\t\t        \t<TextField\n\t\t\t              id=\"scoreViewUserScoreMins\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{3}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 3\",\n\t\t\t                placeholder: \"Minutes\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t            <Grid item xs={5}>\n\t\t\t            <TextField\n\t\t\t              id=\"scoreViewUserScoreSecs\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{2}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 2\",\n\t\t\t                placeholder: \"Seconds\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t        \t</React.Fragment>\n\n\t\t\t\t\t}\n\t\t\t\t\t<Grid item xs={2}>\n\t\t            \t<Button variant=\"outline\" color=\"primary\" onClick={this.handleAddScore.bind(this)}>Add</Button>\n\t\t            </Grid>\n\t\t        </Grid>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\t\t\n\t\t</Grid>\n\t)\n  }\n}\n\n  \nexport default AddScore = withTheme(AddScore);\n\n","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\n\n\nexport default class ActionCancelModal extends Component{\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\topen: props.open\n\t\t}\n\t\tconsole.log(\"Modal\")\n\t\tconsole.log(this)\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"simple-modal-title\"\n\t\t\t    aria-describedby=\"simple-modal-description\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t {this.props.modalText}\n\t\t    \t\t\t</Typography>\n\n\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"primary\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onAction()}}>\n\t\t    \t\t\t\t{this.props.actionText}\n\t\t    \t\t\t</Button>\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"error\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onClose()}}>\n\t\t    \t\t\t\t{this.props.cancelText}\n\t\t    \t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t)\n\t}\n\n}\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ScoreDataView from \"./scoreDataView\" \nimport ScoreList from \"./scoreList\"\nimport AddScore from \"./addScore\" \nimport ActionCancelModal from \"../actionCancelModal\"\n\nimport { setScore, removeScore } from \"../../utils/firebaseData\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n\nclass ScoreView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tlet wodID = props.wodMD.get(\"wodID\")\n\t\tlet scoreType = props.wodMD.get(\"scoreType\")\n\t\tlet boxID = props.wodMD.get(\"boxID\")\n\n\t\t// console.log(`UserMD`)\n\t\t// console.log(this.props.userMD)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\twodID: wodID,\n\t\t\twodMD: props.wodMD,\n\t\t\tboxID: boxID,\n\t\t\tscoreType: scoreType,\n\t\t\tscores: new Array(),\n\t\t\tuserScore: {},\n\t\t\tcurRemoveScoreID: \"\",\n\t\t\tshowRemoveAlert: false\n\t\t}\n\t}\n\n\n\tcomponentDidMount(){\n\t\tlet scorePath = `scores/${this.state.wodID}`\n\t\tlet userScorePath = `users/${this.state.userMD.uid}/scores/`+\n\t\t\t`${this.state.boxID}/${this.state.wodID}`\n\t\t\n\t\tthis.userScoreListener = db.ref(userScorePath).on(\"value\", userScore => {\n\t\t\tif(userScore && userScore.exists()){\n\t\t\t\tconsole.log(\"userScoreListener\")\n\n\t\t\t\tthis.setState({userScore: userScore.val()})\n\t\t\t}\n\t\t})\n\n\t\tthis.scoreListener  = db.ref(scorePath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet arr = this.objListToArray(ss.val())\n\t\t\t\t/*\n\t\t\t\t\tsort score depending on:\n\t\t\t\t\t\ttime (low to high) or \n\t\t\t\t\t\treps (high to low)\n\t\t\t\t*/\n\t\t\t\tlet isTime = (this.state.scoreType && this.state.scoreType === \"time\") ? 1 : 0\n\t\t\t\tarr.sort((a,b) => {\n\t\t\t\t\treturn isTime \n\t\t\t\t\t?\n\t\t\t\t\t\t  parseFloat(a.get(\"score\")) < parseFloat(b.get(\"score\")) ? -1 : 1\n\t\t\t\t\t:\n\t\t\t\t\t\t parseFloat(a.get(\"score\")) > parseFloat(b.get(\"score\")) ? 1 : -1\n\n\t\t\t\t})\n\t\t\t\tthis.setState({scores: arr})\n\t\t\t}\n\t\t})\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif(this.scoreListener() !== undefined)\n\t\t\tthis.scoreListener()\n\n\t\tif(this.userScoreListener()!== undefined)\n\t\t\tthis.userScoreListener()\n\t\t\n\t}\n\n\tobjListToArray(obj){\n\t\t// let key = Object.keys(obj)[0]\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\thandleModalClose(){\n\t\tthis.setState({showRemoveAlert:false})\n\t}\n\n\thandleRemoveScore(scoreID){\n\t\tconsole.log(`Remove score with ID: ${scoreID}`)\n\t\tthis.setState({curRemoveScoreID: scoreID, showRemoveAlert: true})\n\t}\n\n\tremoveScore(){\n\t\tlet scoreID = this.state.curRemoveScoreID\n\t\tif(scoreID === \"\" || scoreID.length <=0){return}\n\n\t\tthis.setState({showRemoveAlert: false})\n\n\t\tremoveScore(scoreID)\n\t\t.then((res)=>{\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\t\t\t\n\t\t})\n\t\t.catch((err)=>{console.log(err)})\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t<Grid item align=\"center\" xs={12}>\n\t\t\t<Typography>{this.state.wodMD.get(\"title\")}</Typography>\n\t\t\t<Typography>Type: {this.state.wodMD.get(\"scoreType\")}</Typography>\n\t\t</Grid>\n\t\t<Grid item container xs={12}>\n\t\t\t<Grid item xs={1}><span></span></Grid>\n\t\t\t<Grid item xs={11}>\n\t\t\t\t<ReactMarkdown>{this.state.wodMD.get(\"wodText\")}</ReactMarkdown>\n\t\t\t</Grid>\n\t\t</Grid>\n\t\t<AddScore \n\t\t\tuserMD={this.state.userMD}\n\t\t\twodMD={this.state.wodMD}\n\t\t/>\n\t\t<Grid item xs={12}>\n\t\t\t<ScoreDataView \n\t\t\t\twodID={this.state.wodMD.get(\"wodID\")} \n\t\t\t/>\n\t\t</Grid>\n\t\t<Grid item xs={12}>\n\t\t\t<Paper>\t\t\n\t\t\t<ScoreList\n\t\t\t\tscores={this.state.scores}\n\t\t\t\tuid={this.state.userMD.uid}\n\t\t\t\tonRemove={this.handleRemoveScore.bind(this)}\n\t\t\t/>\n\t\t\t</Paper>\n\t\t</Grid>\n\t\t<Grid item xs={12} align=\"center\">\n\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={()=>{this.props.handleBack()}}>Back</Button>\n\t\t</Grid>\n\t\t<ActionCancelModal\n\t\t\topen={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        onAction={this.removeScore.bind(this)}\n\t        modalText={`Remove score?`}\n\t        actionText={`Remove`}\n\t        cancelText={`Cancel`}\n\t    />\n\t\t</Grid>\n\t)\n  }\n}\n  \nexport default ScoreView = withTheme(ScoreView);\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\n\nimport {editWod} from \"../../utils/firebaseData\"\n\n\nvar db = firebase.database();\n\nexport default class EditWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\t\n\n\t\tthis.state = {\n\t\t\twodInfo: props.wodInfo,\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\topen: props.open,\n\t\t\tonClose: props.onClose,\n\t\t\ttitle: props.title,\n\t\t\twodText: props.wodText\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n\n\teditWOD(){\n\t  \tlet boxID = document.getElementById(\"editOwnerBoxAddWodBoxID\").value\n\t  \tlet title = document.getElementById(\"editOwnerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"editOwnerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"editOwnerBoxAddWodWodText\").value\n\t  \tlet wodID = this.state.wodInfo.get(\"wodID\")\n\n\t  \tif(!boxID || !title || !scoreType || !wodText || !wodID){\n\t  \t\tconsole.log(\"Error with input editWod\")\n\t  \t\tconsole.log(boxID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\n\t  \teditWod(boxID, wodID, title, wodText, scoreType)\n\t  \t.then((res)=> {\n\t  \t\tconsole.log(res)\n\t  \t\tthis.props.onClose()\n\t  \t})\n\t  \t.catch((err)=>{console.log(err)})\n\n\t  }\n\n\thandleValChange(ev, val){\n\t\tconst name = ev.target.name;\n\t\tconsole.log(name, val)\n\t    this.setState({\n\t      [name]: ev.target.value\n\t  \t})\n\t}\n\n\trender(){\n\t\tlet oldScoreType = this.state.wodInfo.get(\"scoreType\")\n\t\tlet scoreTypes = [\"time\", \"reps\"]\n\t\tlet oldBoxID = this.state.wodInfo.get(\"boxID\")\n\t\treturn(\n\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"edit-wod-modal\"\n\t\t\t    aria-describedby=\"edit-wod\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t Edit Wod({this.state.wodInfo.get(\"wodID\")})\n\t\t    \t\t\t</Typography>\n\n\n\t\t    \t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t    <Select\n\t\t\t\t\t          native\n\t\t\t\t\t          inputProps={{\n\t\t\t\t\t            name: 'Box',\n\t\t\t\t\t            id: 'editOwnerBoxAddWodBoxID',\n\t\t\t\t\t          }}\n\t\t\t\t\t        >\n\t\t\t\t\t          { this.state.hasBoxes ?\n\t\t\t\t\t          \tthis.state.userBoxes\n\t\t\t\t        \t\t.map((box, i) => {\n\t\t\t\t\t        \t\tlet boxID = box.get(\"boxID\")\n\t\t\t\t\t        \t\treturn (\n\t\t\t\t\t        \t\t\t<option \n\t\t\t\t        \t\t\t\t\tkey={i}\n\t\t\t\t        \t\t\t\t\tvalue={boxID}\n\t\t\t\t        \t\t\t\t\tselected={oldBoxID === boxID? true: false}\n\t\t\t\t        \t\t\t\t>\n\t\t\t\t        \t\t\t\t\t{box.get(\"title\")}\n\t\t\t\t        \t\t\t\t</option>\n\t\t\t\t\t        \t\t)\n\t\t\t\t\t        \t})\n\t\t\t\t\t        \t:\n\t\t\t\t\t        \t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t          }\n\t\t\t\t\t      </Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={6}>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t  native\n\t\t\t\t\t\t\t  inputProps={{\n\t\t\t\t\t\t\t    name: 'Score Type',\n\t\t\t\t\t\t\t    id: 'editOwnerBoxAddWodScoreType',\n\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tscoreTypes.map((scoreType) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option \n\t\t\t\t\t\t\t\t\t\t      \tvalue={scoreType}\n\t\t\t\t\t\t\t\t\t\t      \tselected={oldScoreType === scoreType? true: false}\n\t\t\t\t\t\t\t\t\t\t      >\n\t\t\t\t\t\t\t\t\t\t      \t{scoreType}\n\t\t\t\t\t\t\t\t\t\t    </option>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={12}>\n\t\t\t\t          <TextField\n\t\t\t\t              id=\"editOwnerBoxAddWodTitle\"\n\t\t\t\t              type=\"text\"\n\t\t\t\t              name=\"title\"\n\t\t\t\t              style={{ margin: 8}}\n\t\t\t\t              value= {this.state.title}\n\t\t\t\t              onChange={this.handleValChange.bind(this)}\n\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t              inputProps={{\n\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t                placeholder: \"Title\"\n\t\t\t\t              }}\n\t\t\t\t              margin=\"normal\"\n\t\t\t\t              color=\"primary\"\n\t\t\t\t              InputLabelProps={{\n\t\t\t\t                shrink: true,\n\t\t\t\t              }}\n\t\t\t\t            />\n\t\t\t\t        </Grid>\n\t\t\t\t        <Grid item xs={12}>\n\t\t\t\t             <TextField\n\t\t\t\t              id=\"editOwnerBoxAddWodWodText\"\n\t\t\t\t              type=\"text\"\n\t\t\t\t              name=\"wodText\"\n\t\t\t\t              style={{ margin: 8}}\n\t\t\t\t              value= {this.state.wodText}\n\t\t\t\t              onChange={this.handleValChange.bind(this)}\n\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t              inputProps={{\n\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t                placeholder: \"Workout here\"\n\t\t\t\t              }}\n\t\t\t\t              margin=\"normal\"\n\t\t\t\t              color=\"primary\"\n\t\t\t\t              multiline\n  \t\t\t\t\t  \t\t  rows={5}\n\t\t\t\t              InputLabelProps={{\n\t\t\t\t                shrink: true,\n\t\t\t\t              }}\n\t\t\t\t            />\n\t\t\t\t        </Grid>\n\t\t\t\t\t      <Grid item xs={12}>\n\t\t\t\t\t\t      <Button \n\t\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t\t      \tonClick={this.editWOD.bind(this)}\n\t\t\t\t\t\t      >\n\t\t\t\t\t\t      \tUpdate\n\t\t\t\t\t\t      </Button>\n\t\t\t\t\t      </Grid>\n\t\t\t\t\t         <Grid item xs={12}>\n\t\t\t\t\t\t      <Button \n\t\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t\t      \tonClick={this.props.onClose}\n\t\t\t\t\t\t      >\n\t\t\t\t\t\t      \tCancel\n\t\t\t\t\t\t      </Button>\n\t\t\t\t\t      </Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t\t\n\t\t)\n\t}\n}","// Firebase\nimport firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ReactMarkdown from 'react-markdown'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {msToDate} from \"../utils/formatting\"\n\nclass SearchSortTable extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\theaders: props.headers,\n\t\t\trows: props.rows,\t\t\n\t\t\tfilteredRows: props.filteredRows,\n\t\t\torderTableBy: \"date\",\n\t\t\torderTable: \"asc\",\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage:5,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: 5\n\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\t/*\n\t\tSearch Table\n\t*/\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tconsole.log(val)\n\t\tlet filteredRows = this.state.rows.filter(wod =>{\n\t\t  return wod.get(\"title\").toLowerCase().includes(val.toLowerCase())\n\t\t})\n\n\t\tthis.setState({filteredRows: filteredRows})\n\t}\n\n\t/*\n\t\tSort Table\n\t*/ \n\tdescendingComparator(a, b, orderBy) {\n\t\tif (b.get(orderBy) < a.get(orderBy)) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (b.get(orderBy) > a.get(orderBy)) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tgetComparator(order, orderBy) {\n\t\treturn order === 'desc'\n\t\t? (a, b) => this.descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -this.descendingComparator(a, b, orderBy);\n\t}\n\n\tstableSort(comparator) {\n\t\tlet arr = this.state.filteredRows\n\t\tconst stabilizedThis = arr.map((el, index) => [el, index]);\n\n\t\tstabilizedThis.sort((a, b) => {\n\t\t\tconst order = comparator(a[0], b[0]);\n\t\t\t\n\t\t\tif (order !== 0) return order;\n\t\t\treturn a[1] - b[1];\n\t\t});\n\t\treturn stabilizedThis.map((el) => el[0]);\n\t}\n\n\tcreateSortHandler(orderBy){\n\t\tlet isAsc = \n\t\t\tthis.state.orderTableBy === orderBy &&\n\t\t\tthis.state.orderTable === \"asc\"\n\t\tthis.setState({\n\t\t\torderTableBy: orderBy,\n\t\t\torderTable: isAsc? \"desc\" : \"asc\"\n\t\t}) \n\t}\n\n\thandleChangePage(ev, newPage){\n\t\tlet start = newPage * this.state.rowsPerPage\n\t\tlet end = (newPage * this.state.rowsPerPage) + this.state.rowsPerPage\n\t\tthis.setState({\n\t\t\tpageNum: newPage,\n\t\t\tpageStart: start,\n\t\t\tpageEnd: end\n\t\t})\n\t}\n\n\thandleChangeRowsPerPage(ev){\n\t\tlet rowsPerPage = parseInt(ev.target.value)\n\t\tconsole.log(rowsPerPage)\n\t\tthis.setState({\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage: rowsPerPage,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: rowsPerPage\n\t\t})\n\t}\n\n\n\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} align=\"center\">\n\t\t<Paper elevation={2}>\n\t\t    <Paper elevation={2} component=\"form\">\n\t\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant=\"outlined\"\n\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\tonChange={this.onChange.bind(this)}\n\t\t\tplaceholder=\"Search\"\n\t\t\tInputProps={{\n\t\t\t  startAdornment: (\n\t\t\t    <InputAdornment position=\"start\">\n\t\t\t      <SearchIcon color=\"primary\" />\n\t\t\t    </InputAdornment>\n\t\t\t  ),\n\t\t\t}}\n\t\t\t/>\n\t\t\t</Paper>\n\n\t\t\t<Grid container item xs={12}>\n\t\t\t<TableContainer>\n  \t\t\t<Table>\n\t\t\t<TableHead>\n\t\t    \t<TableRow>\n\t\t    \t{\n\t\t    \t\tthis.state.headers.map((header)=>{\n\t\t\t        \treturn (\n\t\t\t        \t<TableCell>\n\t\t\t        \t\t{\n\t\t\t        \t\t\theader.sortable?\n\t\t\t\t\t        \t\t<TableSortLabel\n\t\t\t\t\t\t              active={header.id === this.state.orderTableBy}\n\t\t\t\t\t\t              direction={header.id === this.state.orderTableBy?  this.state.orderTable: \"asc\"}\n\t\t\t\t\t\t              onClick={()=>{ this.createSortHandler(header.id)}}\n\t\t\t\t\t\t            >            \n\t\t\t\t\t        \t\t\t{header.label}\n\t\t\t\t\t\t\t        </TableSortLabel>\n\t\t\t\t\t\t\t    :\n\t\t\t\t\t\t\t    \t<React.Fragment>{header.label}</React.Fragment>\n\t\t\t        \t\t}\n\t\t\t        \t</TableCell>)\n\t\t    \t\t})\n\t\t    \t}\n\t\t    \t</TableRow>\n\t\t    </TableHead>\n\n\t\t    <TableBody>\n\t\t\t\t{this.state.filteredRows.length > 0\n\t\t\t\t?\n\t\t\t\t\tthis.stableSort(\n\t\t\t\t\t\tthis.getComparator(\n\t\t\t\t\t\t\tthis.state.orderTable,\n\t\t\t\t\t\t\tthis.state.orderTableBy\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.slice(this.state.pageStart, this.state.pageEnd)\n\t\t\t\t\t.map(row => {\n\t\t\t\t\t\treturn <Wod \n\t\t\t\t\t\t\thandleView={this.props.handleView}\n\t\t\t\t\t\t\thandleRemove={this.props.handleRemove}\n\t\t\t\t\t\t\thandleEdit={this.props.handleEdit}\n\t\t\t\t\t\t\tinfo={row}\n\t\t\t\t\t\t\tshowOwnerBtns={this.props.showOwnerBtns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t:\n\t\t\t\t\t\n\t\t\t\t\t<span>No data!</span>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t    </TableBody>\n  \t\t\t</Table>\n\t\t    </TableContainer>\n\t\t     <TablePagination\n\t          rowsPerPageOptions={[5, 10, 25]}\n\t          component=\"div\"\n\t          count={this.state.filteredRows.length}\n\t          rowsPerPage={this.state.rowsPerPage}\n\t          page={this.state.pageNum}\n\t          onChangePage={this.handleChangePage.bind(this)}\n\t          onChangeRowsPerPage={this.handleChangeRowsPerPage.bind(this)}\n\t        />\n\t\t\t</Grid>\n\t\t</Paper>\n\t\t</Grid>\n\t)\n  }\n}\n\nfunction Wod(props){\n\tlet title = props.info.get(\"title\")\n\tlet scoreType = props.info.get(\"scoreType\")\n\tlet wodText = props.info.get(\"wodText\")\n\tlet date = props.info.get(\"date\")\n\treturn(\n\t\t<TableRow>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{msToDate(date)}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{scoreType}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t<ReactMarkdown>{wodText}</ReactMarkdown>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Button size=\"small\" color=\"primary\" \n\t\t\t\t\tonClick={() => props.handleView(props.info)}>\n\t\t\t\t\tView Scores\n\t\t\t\t</Button>\n\t\t\t</TableCell>\n\t\t\t<React.Fragment>\n\t\t\t{\n\t  \t\t\tprops.showOwnerBtns\n\t  \t\t\t?\n\t\t\t\t<TableCell>\n\t\t\t    <Button size=\"small\" \n\t\t\t    \tcolor=\"secondary\" \n\t\t\t    \tonClick={() => props.handleEdit(props.info)}>\n\t\t\t    \tEdit\n\t\t\t    </Button>\n\t\t\t\t</TableCell>\n\t\t  \t\t:\n\t\t  \t\t<React.Fragment></React.Fragment>\n\t  \t\t}\n\t  \t\t</React.Fragment>\n\n\t\t\t<React.Fragment>\n\t\t\t{\n\t  \t\t\tprops.showOwnerBtns\n\t  \t\t\t?\n\t\t\t\t<TableCell>\n\t\t\t    <Button size=\"small\" \n\t\t\t    \tcolor=\"error\" \n\t\t\t    \tonClick={() => props.handleRemove(props.info)}>\n\t\t\t    \tRemove\n\t\t\t    </Button>\n\t\t\t\t</TableCell>\n\t\t  \t\t:\n\t\t  \t\t<React.Fragment></React.Fragment>\n\t  \t\t}\n\t  \t\t</React.Fragment>\n\t\t</TableRow>\n\t)\n}\n\nexport default SearchSortTable = withTheme(SearchSortTable);","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\n\n// WodTrackrr\nimport ScoreView from \"../scores/scoreView\"\nimport EditWod from \"../wods/editWod\"\nimport { removeWod } from \"../../utils/firebaseData\"\nimport SearchSortTable from \"../searchSortTable\"\nimport ActionCancelModal from \"../actionCancelModal\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\n\n\nclass BoxView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tboxID: props.boxID,\n\t\t\tboxMD: new Map(),\n\t\t\tuserBoxes: props.userBoxes, // from boxListAccordion from OwnerBox\n\t\t\thasBoxes: props.hasBoxes,   // from boxListAccordion from OwnerBox\n\t\t\twods: new Array(),\n\t\t\tshowWodList: true,\n\t\t\tcurrentWodID: \"\",\n\t\t\tcurrentWodMD: new Map(),\n\t\t\tshowRemoveAlert: false,\n\t\t\tshowEditModal: false,\n\t\t\teditWodInfo: new Map(),\n\t\t\tcurRemoveWodBoxID: \"\",\n\t\t\tcurRemoveWodID: \"\",\n\t\t\tcurRemoveWodTitle: \"\"\n\n\t\t}\n\t\tthis.wodPath = `wods/${this.props.boxID}`\n\t\tthis.boxPath = `boxes/${this.props.boxID}`\n\t}\n\n\n\tcomponentDidMount(){\n\t\tthis.boxListener  = db.ref(this.boxPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet boxMD = new Map(Object.entries(ss.val()))\n\t\t\t\tthis.setState({boxMD: boxMD})\n\t\t\t}\n\t\t})\n\n\t\tthis.wodListener  = db.ref(this.wodPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet wods = this.objListToArray(ss.val())\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: wods\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tthis.wodListener()\n\t\tthis.boxListener()\n\t}\n\n\t// \n\tobjListToArray(obj){\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\thandleScoreView(wodMD){\n\t\tthis.setState({showWodList: false, currentWodMD: wodMD})\n\t}\n\n\thandleBack(){\n\t\tthis.setState({showWodList: true})\n\t}\n\n\thandleModalClose(){\n\t  \tthis.setState({showRemoveAlert:false})\n\t  }\n\n\thandleRemoveWod(wodInfo){\n\t\tconsole.log(wodInfo)\n\t\tthis.setState({\n\t\t\tshowRemoveAlert: true,\n\t\t\tcurRemoveWodBoxID: wodInfo.get(\"boxID\"),\n\t\t\tcurRemoveWodID: wodInfo.get(\"wodID\"),\n\t\t\tcurRemoveWodTitle: wodInfo.get(\"title\"),\n\t\t})\n\t}\n\n\tdeleteWod(){\n\t\tlet wodPath = `wods/${this.state.curRemoveWodBoxID}/${this.state.curRemoveWodID}`\n\t\tlet scorePath = `scores/${this.state.curRemoveWodID}`\n\n\t\tremoveWod(wodPath, scorePath)\n\t\t.then((res) => {\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\n\t\t})\n\t}\n\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\t/*\n\t\tSearch bar, filter by name\n\t*/\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tlet filteredWods = this.state.wods.filter(wod =>{\n\t\t  return wod.get(\"title\").toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredWods: filteredWods})\n\t}\n\n\n\thandleEdit(info){\n\t\tconsole.log(\"Populate with info, show in modal with form\")\n\t\tconsole.log(info)\n\t\tthis.setState({\n\t\t\teditWodInfo: info,\n\t\t\tshowEditModal: true\n\t\t})\n\t}\n\thandleEditModalClose(){\n\t\tthis.setState({showEditModal: false})\n\t}\n\n  render(){\n  \tlet showOwnerBtns = this.state.boxMD.get(\"ownerUID\") === this.state.userMD.uid && !this.props.isReadOnly\n\n\n \tlet sortableHeadersOwner = [\n \t\t{id:\"date\", sortable:true, label:\"Date\"},\n \t\t{id:\"title\", sortable:true, label:\"Title\"},\n \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n \t\t{id:\"view\", sortable:false, label:\"\"},\n \t\t{id:\"edit\", sortable:false, label:\"\"},\n \t\t{id:\"remove\", sortable:false, label:\"\"}\n \t]\n \tlet sortableHeadersUser = [\n \t\t{id:\"date\", sortable:true, label:\"Date\"},\n \t\t{id:\"title\", sortable:true, label:\"Title\"},\n \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n \t\t{id:\"view\", sortable:false, label:\"\"}\n \t]\n \n\treturn(\n\t\t<Grid item xs={12}>\n\t\t<Paper elevation={2}>\n\t\t\t<Grid item align=\"center\" xs={12}>\n\t\t\t\t<Typography \n\t\t\t\t\talign=\"center\" \n\t\t\t\t\tvariant=\"h3\"\n\t\t\t\t>\n\t\t\t\t\t{this.state.boxMD.get(\"title\")}\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\n\n\t\t\t{this.state.showWodList\n\t\t\t?\t\n\t\t\t\t<React.Fragment>\n\t\t\t\t{\n\t\t\t\t\tthis.state.wods.length > 0?\n\t\t\t\t\t<SearchSortTable\n\t\t\t\t\t\trows = {this.state.wods}\n\t\t\t\t\t\tfilteredRows={this.state.wods}\n\t\t\t\t\t\theaders={showOwnerBtns? sortableHeadersOwner: sortableHeadersUser}\n\t\t\t\t\t\thandleView={this.handleScoreView.bind(this)}\n\t\t\t\t\t\thandleRemove={this.handleRemoveWod.bind(this)}\n\t\t\t\t\t\thandleEdit={this.handleEdit.bind(this)}\n\t\t\t\t\t\tshowOwnerBtns={showOwnerBtns}\n\t\t\t\t\t/>\n\t\t\t\t\t:\n\t\t\t\t\t<React.Fragment></React.Fragment>\n\n\t\t\t\t}\n\t\t\t\t</React.Fragment>\n\t\t\t:\n\t\t\t\t<ScoreView \n\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\twodMD={this.state.currentWodMD} \n\t\t\t\t\thandleBack={this.handleBack.bind(this)}/>\n\n\t\t\t}\n\t\t</Paper>\n\n\n\n\t\t<Grid item xs={12} align=\"center\">\n\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={()=>{this.props.handleBack()}}>Back</Button>\n\t\t</Grid>\n\t\t<ActionCancelModal\n\t\t\topen={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        onAction={this.deleteWod.bind(this)}\n\t        modalText={ `Remove ${this.state.curRemoveWodTitle} (${this.state.curRemoveWodID})?`}\n\t        actionText={\"Delete\"}\n\t        cancelText={\"Cancel\"}\n\t\t/>\n\n\t\t<EditWod \n\t\t\topen={this.state.showEditModal}\n\t\t\tonClose={this.handleEditModalClose.bind(this)}\n\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\twodInfo={this.state.editWodInfo}\n\t\t\ttitle={this.state.editWodInfo.get(\"title\")}\n\t\t\twodText={this.state.editWodInfo.get(\"wodText\")}\n\n\t\t/>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default BoxView = withTheme(BoxView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment,  }\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"./boxView\" \n\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\nclass BoxSearch extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      allBoxes: props.allBoxes,\n      filteredBoxes: props.allBoxes\n    }  \n  }\n\n  componentDidMount(){\n  \tthis.setState({filteredBoxes: this.props.allBoxes})\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        \n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredBoxes = this.state.allBoxes.filter(box =>{\n      return box.get(\"title\").toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredBoxes: filteredBoxes})\n  }\n\n  render () {\n    return (\n      <Grid item xs={12} >\n      <Paper elevation={2} component=\"form\">\n  \n       <TextField\n       fullWidth\n        variant=\"outlined\"\n        onKeyUp={this.onKeyUp.bind(this)}\n        onChange={this.onChange.bind(this)}\n        placeholder=\"Search Boxes\"\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon color=\"primary\" />\n            </InputAdornment>\n          )\n        }}\n      />\n      \n      </Paper>\n      <Grid item xs={12}>\n        {\n          this.state.filteredBoxes.map((box, i) => {\n            return <Box \n                    key={i} \n                    info={box} \n                    color={this.props.theme.palette.primary.mainGrad}\n                    handleBoxView={this.props.handleBoxView}\n                    handleRemoveBox={this.props.handleRemoveBox}\n                    isOwner={this.props.isOwner}\n                    />\n          })\n        }\n      </Grid>\n      </Grid>\n    );\n  }\n}\n\n\nfunction Box(props){\n  let title = props.info.get(\"title\")\n  let boxID = props.info.get(\"boxID\")\n  return(\n    <Grid item xs={12}>\n      <Paper>\n        <Grid container itemxs={12}>\n        <Grid item xs={10}>\n          <Typography align=\"left\" style={{padding: \"2.5vw\"}} variant=\"body1\">\n            {title}\n          </Typography>\n        </Grid>\n\n        <Grid container item xs={2} align=\"center\" alignItems='center'>\n          <Button \n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={()=>{props.handleBoxView(boxID)}}>\n              View\n          </Button>\n          {\n            props.isOwner\n            ?\n              <Button variant=\"outlined\" color=\"error\" \n                onClick={()=>{props.handleRemoveBox(boxID, title)}}>Remove</Button>\n            :\n            <React.Fragment></React.Fragment>\n          }\n        </Grid>\n      </Grid>\n      </Paper>\n    </Grid>)\n}\n\nexport default BoxSearch = withTheme(BoxSearch);\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment,  }\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"../comps/boxes/boxView\" \nimport BoxSearch from \"../comps/boxes/boxSearch\" \n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\nvar db = firebase.database();\n\n\nclass BoxSearchPage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      showBoxView: false,\n      allBoxes: [],\n      currentBoxID: null\n    }  \n  }\n\n\n  componentDidMount(){\n    this.allBoxesListener = db.ref(\"boxes\")\n    .on('value', ss => {\n      if(ss && ss.exists()){\n        let arr = this.objectsToArray(ss.val())\n        arr.sort((x, y) => {return x.get(\"title\").toLowerCase() > y.get(\"title\").toLowerCase() ? -1 : 1})\n        \n        this.setState({\n          allBoxes: arr\n        })\n      }\n    })\n  }\n\n\n  componentWillUnmount(){\n    if(this.allBoxesListener !== undefined){\n      this.allBoxesListener()\n    }\n  }\n\n    objectsToArray(obj){\n    return Array.from(Object.entries(obj), entry => {\n       return new Map(Object.entries(entry[1]));\n    })\n  }\n\n  handleBoxView(boxID){\n    this.setState({showBoxView: true, currentBoxID: boxID})\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n  handleBack(){\n    this.setState({showBoxView: false})\n  }\n\n\n  render () {\n    return (\n    \t<Grid item xs={12} >\n      {!this.state.showBoxView\n        ?\n          <React.Fragment>\n          {\n            this.state.allBoxes.length > 0?\n            <BoxSearch \n                handleBoxView={this.handleBoxView.bind(this)}\n                allBoxes={this.state.allBoxes}\n                isOwner={false}\n                handleRemoveBox={this.props.handleRemoveBox}\n            />\n            :\n            <React.Fragment></React.Fragment>\n          }\n          </React.Fragment>\n        :\n        \n        <BoxView userMD={this.state.userMD} \n          handleBack={this.handleBack.bind(this)} \n          boxID={this.state.currentBoxID}\n          isReadOnly={true}\n        />\n\n      }\n      \n  \t\t</Grid>\n    )\n  }\n}\nexport default BoxSearchPage = withTheme(BoxSearchPage);\n","import firebase from \"../../context/firebaseContext\"\n// import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport postData from \"../../utils/api\"\nimport \"../../css/login.css\"\nimport \"../../styles.css\"\n\n\nexport default class Login extends Component {\n  \n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n    \n    console.log(email.value, pass1)\n  \n    firebase.auth().signInWithEmailAndPassword(email.value, pass1.value)\n    .then(res=>{\n      console.log(\"Firebase res\")\n      console.log(res)\n      this.props.onLogin(res.user)\n    })\n    .catch(function(error) {\n      console.log(error)\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // ...\n    });\n  }\n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  render () {\n    return (\n      <Grid container id=\"login\" align=\"center\" justify=\"center\">\n        <br />\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Typography variant=\"h4\">\n              Login\n            </Typography>\n          \n            <br />\n        \n            <TextField\n            id=\"email\"\n            style={{ margin: 8 }}\n            placeholder=\"Email\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            /><br /><br />\n            <TextField\n            id=\"password\"\n            type=\"password\"\n            style={{ margin: 8 }}\n            placeholder=\"Passowrd\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            />\n            <br/><br/>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n              Login\n            </Button>\n            <Link to=\"/register\" className=\"no-line\" style={{'padding-left': '10px'}}>\n              <Button variant=\"outlined\" color=\"secondary\" >\n                Register\n              </Button>\n            </Link>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\n\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport BoxView from \"./boxView\" \nimport BoxSearch from \"./boxSearch\" \n\nimport {removeBox} from \"../../utils/firebaseData\"\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n/*\nAccordion to toggle between list of boxes and the box view component\n**box view compnent will be sued in search as well\n\n\n*/\n\n\nclass BoxListAccordion extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes,\n      showBoxList: true,\n      currentBoxID: \"\",\n      showRemoveAlert: false,\n      curRemoveBoxID: \"\",\n      curRemoveBoxTitle: \"\"\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  componentWillUnmount(){\n  \tconsole.log(\"Component will unmount\")\n  }\n\n  handleBoxView(boxID){\n  \tthis.setState({showBoxList: false, currentBoxID: boxID})\n  }\n\n  handleRemoveBox(boxID, boxTitle){\n  \tthis.setState({\n  \t\tshowRemoveAlert: true, \n  \t\tcurRemoveBoxID: boxID,\n  \t\tcurRemoveBoxTitle: boxTitle\n  \t})\n  }\n\n\n  handleBack(){\n  \tthis.setState({showBoxList: true})\n  }\n\n  handleModalClose(){\n  \tthis.setState({showRemoveAlert:false})\n  }\n\n  deleteBox(){  \t\n  \tremoveBox(this.state.curRemoveBoxID, \n  \t\tthis.state.curRemoveBoxTitle,\n  \t\tthis.state.userMD.uid)\n  \t.then((res)=>{this.handleModalClose()})\n  \t.catch((err)=>{console.log(err)})\n\n  }\n\n  render(){\n\treturn(\n\t<Accordion id=\"BoxListAccordion\">\n\t\t<AccordionSummary\n\t\tstyle={{background: this.props.theme.palette.primary.main}}\n\t\texpandIcon={<ExpandMoreIcon />}\n\t\taria-label=\"Expand\"\n\t\taria-controls=\"additional-actions2-content\"\n\t\tid=\"additional-actions2-header\"\n\t\t>\n\t\t\t<Typography >\n\t\t\t\tBoxes and Wods\n\t\t\t</Typography>\t        \n\t\t</AccordionSummary>\n\t\t<AccordionDetails>\n\t\t{this.state.showBoxList\n\t\t?\n\t\t\t\n\t\t\t<Grid container  item={12}>\n\t\t\t{\n\t\t\t\tthis.state.userBoxes.length > 0\n\t\t\t?\n\t\t\t\t<BoxSearch \n\t\t\t\t\tuser = {this.state.user}\n\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t\tallBoxes = {this.state.userBoxes}\n\t\t\t\t\thandleRemoveBox={this.handleRemoveBox.bind(this)}\n\t\t\t\t\thandleBoxView={this.handleBoxView.bind(this)}\n\t\t\t\t\tisOwner = {true}\n\t\t\t\t/>\n\t\t\t:\n\t\t\t\t<Grid item zeroMinWidth xs={6}>\n\t\t\t\t\t<Paper elevation={4} style={{padding: \"1vw\"}}>\n\t\t\t\t\t\t<Typography noWrap align=\"left\">No boxes Found!</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\t</Grid>\n\t\t:\n\t\t\t<BoxView \n\t\t\t\thandleBack={this.handleBack.bind(this)}\n\t\t\t\tuserMD={this.state.userMD} \n\t\t\t\tboxID={this.state.currentBoxID} \n\t\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\t\tisReadOnly={false}\n\t\t\t/>\n\n\t\t}\n\n\t\t\n\t\t</AccordionDetails>\n\t\t<Modal\n\t        open={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        aria-labelledby=\"simple-modal-title\"\n\t        aria-describedby=\"simple-modal-description\"\n\t    >\n\t    \t<div style={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\twidth: \"80vw\",\n\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t}}>\n\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t    \t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\",justifyContent: \"center\"}}>\n\t    \t\t\t<Typography style={{position: \"\"}}>\n\t    \t\t\t\t Remove {this.state.curRemoveBoxTitle} ({this.state.curRemoveBoxID})\n\t    \t\t\t</Typography>\n\t    \t\t\t\n\t    \t\t\t<Button color=\"primary\" variant=\"outlined\" onClick={()=>{ this.deleteBox()}}>Delete</Button>\n\t    \t\t</Paper>\n\t    \t\t</Grid>\n\t    \t</div>\n\n\t    </Modal>\n\t</Accordion>\t\t\n\t)\n  }\n}\n\n  \nexport default BoxListAccordion = withTheme(BoxListAccordion);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress\n} \nfrom '@material-ui/core';\n\nimport {setWod} from \"../../utils/firebaseData\"\n\n\nvar db = firebase.database();\n\nexport default class AddWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes\n\t\t}\n\t}\n\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcreateWOD(){\n\t  \tlet boxID = document.getElementById(\"ownerBoxAddWodBoxID\").value\n\t  \tlet title = document.getElementById(\"ownerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"ownerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"ownerBoxAddWodWodText\").value\n\n\t  \tif(!boxID || !title || !scoreType || !wodText){\n\t  \t\tconsole.log(\"Error with input createWod\")\n\t  \t\tconsole.log(boxID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\n\t  \tsetWod(boxID, title, wodText, scoreType)\n\t  \t.then((res)=> {console.log(res)})\n\t  \t.catch((err)=>{console.log(err)})\n\n\t  }\n\n\n\trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n\t\t\t\t<Grid item xs={6}>\n\t\t\t\t    <Select\n\t\t\t          native\n\t\t\t          inputProps={{\n\t\t\t            name: 'Box',\n\t\t\t            id: 'ownerBoxAddWodBoxID',\n\t\t\t          }}\n\t\t\t        >\n\t\t\t          { this.state.hasBoxes ?\n\t\t\t          \tthis.state.userBoxes\n\t\t        \t\t.map((box, i) => {\n\t\t\t        \t\treturn (<option key={i} value={box.get(\"boxID\")} >{box.get(\"title\")}</option>)\n\t\t\t        \t})\n\t\t\t        \t:\n\t\t\t        \t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t          }\n\t\t\t      </Select>\n\t\t\t    </Grid>\n\t\t\t    <Grid item xs={6}>\n\t\t\t\t\t<Select\n\t\t\t\t\t  native\n\t\t\t\t\t  \n\t\t\t\t\t  inputProps={{\n\t\t\t\t\t    name: 'Score Type',\n\t\t\t\t\t    id: 'ownerBoxAddWodScoreType',\n\t\t\t\t\t  }}\n\t\t\t\t\t>\n\t\t\t\t\t      <option value={\"time\"}>Time</option>\n\t\t\t\t\t      <option value={\"reps\"}>Reps</option>\n\t\t\t\t\t  </Select>\n\t\t\t    </Grid>\n\t\t\t    <Grid item xs={12}>\n\t\t          <TextField\n\t\t              id=\"ownerBoxAddWodTitle\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Title\"\n\t\t              }}\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </Grid>\n\t\t        <Grid item xs={12}>\n\t\t             <TextField\n\t\t              id=\"ownerBoxAddWodWodText\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Workout here\"\n\t\t              }}\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              multiline\n  \t\t\t\t\t  rows={10}\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </Grid>\n\t\t        \n\t\t\t      <Grid item xs={12}>\n\t\t\t\t      <Button \n\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t      \tonClick={this.createWOD.bind(this)}\n\t\t\t\t      >\n\t\t\t\t      \tEnter WOD\n\t\t\t\t      </Button>\n\t\t\t      </Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress\n} \nfrom '@material-ui/core';\n\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport BoxListAccordion from \"./boxListAccordion\"\n\nimport {setBox, setWod, removeWod} from \"../../utils/firebaseData\"\nimport AddWod from \"../wods/addWod\"\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n\n/*\nAccordion for:\nAdd Box\nShow Boxes\n\n\n*/\n\n\n\nclass OwnerBox extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: [],\n      hasBoxes: false,\n      addBoxProgress: true,\n      scoreTypeSelectVal: \"\",\n      boxIDSelectVal: \"\"\n    }\n  }\n  \n\n\n  componentDidMount(){\n  \tthis.listenForBoxes()\n  }\n\n \n  componentWillReceiveProps(newProps){\n\tthis.setState({...newProps})\n\tif(newProps.userMD.accountType === \"owner\"){\n\t\tthis.listenForBoxes()\n\t}\n  }\n\n  componentWillUnmount(){\n  \tif(this.boxListener !== undefined){\n    \tthis.boxListener()\n  \t}\n  }\n\n\n  getArrayOfBoxes(boxObj){\n\treturn Array.from(Object.entries(boxObj), entry => {\n\t\t return new Map(Object.entries(entry[1]));\n\t})\n  }\n\n  listenForBoxes(){\n  \tif(this.state.user.uid === null){return}\n  \tlet path = `users/${this.state.user.uid}/boxes`\n  \t\n  \tthis.boxListener = db.ref(path).on('value', ss => {\n  \t\tif(ss != null && ss.exists()){\n\t\t\tthis.setState({\n\t\t\t\thasBoxes: true, \n\t\t\t\tuserBoxes: this.getArrayOfBoxes(ss.val())\n\t\t\t})  \t\t\t\n  \t\t}else{\n  \t\t\tthis.setState({\n\t\t\t\thasBoxes: false, \n\t\t\t\tuserBoxes: []\n\t\t\t})\n  \t\t}\n  \t})\n  }\n  \n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        let a = document.getElementById(\"ownerBoxAddBoxTitle\")\n        let title = a.value\n        this.setState({showAddBoxProgress: true})\n        this.createBox(title)\n    }\n  }\n\n  // import setBox from \"\"\n  createBox(title){\n\tsetBox(title, this.props.user.uid)\n\t.then((res) => {console.log(res)})\n  }\n\n\n  handleSelectValChange(ev){\n\tconst name = ev.target.name;\n\tconsole.log(name)\n    this.setState({\n      [name]: ev.target.value\n  \t})\n  }\n \n  render () {\n    return (\n    \t<Grid item xs={12} id=\"ownerBox\" >\n\t\t\t<Typography variant=\"h3\">\n\t\t\t\tWelcome, {this.state.userMD.accountType}!\n\t\t\t</Typography>\n\t\t\t\n\t\t\t<Accordion>\n\t\t        <AccordionSummary\n\t\t\t\t  style={{background: this.props.theme.palette.primary.mainGrad}}\n\t\t          expandIcon={<ExpandMoreIcon />}\n\t\t          aria-label=\"Expand\"\n\t\t          aria-controls=\"additional-actions1-content\"\n\t\t          id=\"additional-actions1-header\"\n\t\t        >\n\t\t        \t<Typography >\n\t\t        \t\tAdd Box\n\t\t        \t</Typography>\t        \n\t\t        </AccordionSummary>\n\t\t        <AccordionDetails>\n\t\t          <TextField\n\t\t              id=\"ownerBoxAddBoxTitle\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Name of box\"\n\t\t              }}\n\t\t              onKeyUp={this.onKeyUp.bind(this) }\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </AccordionDetails>\n\t\t    </Accordion>\n\t\n\t\t\t<Accordion>\n\t\t        <AccordionSummary\n\t\t\t\t  style={{background: this.props.theme.palette.primary.mainGrad}}\n\t\t          expandIcon={<ExpandMoreIcon />}\n\t\t          aria-label=\"Expand\"\n\t\t          aria-controls=\"additional-actions0-content\"\n\t\t          id=\"additional-actions0-header\"\n\t\t        >\n\t        \t<Typography >\n\t        \t\tAdd WOD\n\t        \t</Typography>\t        \n\t\t        </AccordionSummary>\n\t\t        <AccordionDetails>\n\t\t        {this.state.hasBoxes ?\n\t\t          \t<AddWod\n  \t\t          \tuid={this.state.user.uid}\n  \t\t          \tuserMD={this.state.userMD}\n  \t\t          \tuserBoxes={this.state.userBoxes}\n  \t\t          \thasBoxes={this.state.hasBoxes}\n  \t\t          />\n  \t\t          :\n  \t\t          <span>No boxes</span>\n  \t\t      \t}\n\t\t        </AccordionDetails>\n\t\t    </Accordion>\n\n\t\t  \t<BoxListAccordion \n\t\t  \t\tuser = {this.state.user}\n\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\tuserBoxes = {this.state.userBoxes}\n\t\t\t\thasBoxes = {this.state.hasBoxes}\n\t\t  \t/>\n\t\t  \n    \t\n  \t\t</Grid>\n    );\n  }\n}\n\n\n\n\nexport default OwnerBox = withTheme(OwnerBox);","// Add the Firebase services that you want to use\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography } from '@material-ui/core';\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\nvar db = firebase.database();\n\nconst usernameMaxLength = 12\nconst usernameMaxLengthErrMsg = \"Username cannot be longer than 12 characters\"\nconst usernameErrMsg = \"Username can only contain letters & numbers\" \n\n\nexport default class UsernamePanel extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n\ncomponentDidMount(){\n  this.hideUsernameInput()\n}\ncomponentDidUpdate(){\n  this.hideUsernameInput()\n}\n\n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  updateUsername(ev){\n    let usernameInput = document.getElementById('updateUsernameInput')\n    \n\n    if(usernameInput.style.display === \"none\"){\n      usernameInput.style.display = \"block\"\n\n    }else{\n\n      let re = /\\W/g  // match non word characters ^[A-Za-z0-9]\n    \n      if(usernameInput.value.length > 12){\n        alert(usernameMaxLengthErrMsg)\n        return\n      } \n      if(re.exec(usernameInput.value) !== null ){\n        alert(usernameErrMsg)\n        return\n      }\n      //update \n      if(usernameInput.value.length <= 0){ \n        this.hideUsernameInput()     \n        return \n      }\n\n      db.ref(`users/${this.state.user.uid}/`)\n      .update({\n        \"username\": usernameInput.value\n      })\n      .then(() => {\n       this.hideUsernameInput()\n      })\n      .catch(err => { console.log(err) })\n    }\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        this.updateUsername()\n    }\n  }\n\n  hideUsernameInput(){\n    try{\n      let usernameInput = document.getElementById('updateUsernameInput')\n      usernameInput.value = \"\"\n      usernameInput.style.display = \"none\"\n    }catch{return}\n  }\n\n  render () {\n    \n    return (\n    <Grid container id=\"usernamePanel\" >\n    {\n      !this.state.userMD\n      ? \n        <h1> Loading </h1>\n      :\n        <React.Fragment>\n          <Grid item xs={12} >\n            <Typography gutterBottom variant=\"h4\">\n              Username\n            </Typography>\n            <Typography gutterBottom variant=\"h5\">\n              {this.state.userMD.username}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={12} >\n            <Button  \n                variant=\"outlined\" \n                color=\"primary\" \n                onClick={this.updateUsername.bind(this)}\n            >\n              <Typography>\n                  Update Username\n              </Typography>\n            </Button>\n          </Grid>\n          <Grid item xs={12} >\n            <TextField\n              id=\"updateUsernameInput\"\n              type=\"text\"\n              style={{ margin: 8}}\n              pattern=\"[A-Za-z]{12}\"\n              inputProps={{\n                title: \"Letters only, max length 12\",\n                placeholder: \"New username\"\n              }}\n              onKeyUp={this.onKeyUp.bind(this) }\n              margin=\"normal\"\n              color=\"primary\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />    \n          </Grid>\n        </React.Fragment>\n    }\n    </Grid>\n    );\n  }\n}\n\n\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button, Typography, Collapse } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\n\nimport Login from \"../comps/profile/login\"\nimport OwnerBox from \"../comps/boxes/ownerBox\"\n\nimport UsernamePanel from \"../comps/profile/usernamePanel\"\n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\n\n\nvar db = firebase.database();\n\n\nexport class PageContent extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n  \n  sendVerificationEmail(){\n    this.state.user.sendEmailVerification()\n    .then( () => {\n        this.setState({emailAlertOpen: true})\n    })\n    .catch( err => {console.log(err)})\n  }\n\n  render(){\n    return (\n      <Grid container align=\"center\">\n      <Grid item xs={12}>\n        <Collapse in={this.state.emailAlertOpen}>\n          <Alert onClose={() => {this.setState({emailAlertOpen: false})}}>\n            Email sent!\n          </Alert>\n        </Collapse>\n      </Grid>\n      <Grid item xs={12}>\n          <Paper elevation={2} >\n          </Paper>\n          {\n          !this.state.user.emailVerified\n          ?\n          \n            <Paper elevation={2}>\n              <Button variant=\"outline\" onClick={this.sendVerificationEmail.bind(this)} >\n               <Typography  variant=\"h5\" component=\"h3\">\n                  Send Verification Email\n                </Typography>\n              </Button>\n            </Paper>\n          :\n            <React.Fragment></React.Fragment>\n          }\n\n          \n          <Paper elevation={2}>\n            <OwnerBox user={this.state.user}\n              userMD={this.state.userMD}\n            />\n          </Paper>\n      </Grid>\n\n\n\n\n      <Grid item xs={12}>\n        <Grid item xs={12} className=\"compBorderOutline\">\n          <Paper elevation={2}>\n            <Button variant=\"outlined\" color=\"secondary\"\n                      onClick={this.props.onLogout}>\n                  <Typography variant=\"h6\" component=\"h6\">\n                    Logout\n                  </Typography>\n            </Button>\n          </Paper>\n          \n        </Grid>\n      </Grid>\n    </Grid>\n\n    )\n  }\n}\n\n\n\nexport default class ProfilePage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }  \n  }\n\n \n  handleLogout(){\n    firebase.auth().signOut().then(() => {\n      alert('Signed Out');\n      this.setState({user: null})\n    }, (error) => {\n      console.error('Sign Out Error', error )\n    });\n  }\n\n  /*\n    login.js has the form and does the login, calls this with the user obj\n  */\n  handleLogIn(user){\n      this.setState({user: user} )\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n\n  render () {\n    \n    return (\n    \t<Grid item xs={12} id=\"profilepage\">\n        {\n          this.state.user !== null\n          ? <PageContent \n                onLogout={this.handleLogout.bind(this)} \n                user= {this.state.user}\n                userMD={this.state.userMD}\n            />\n          : <Login \n            onLogin={this.handleLogIn.bind(this)} />\n        }\n  \t\t</Grid>\n    );\n  }\n}\n\n","import React, { Component } from \"react\";\n\nimport { AppBar, Toolbar, IconButton, Button, Typography} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nclass Header extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<AppBar position=\"static\" \n\t\t\t\t\tstyle={{background:this.props.theme.palette.background.toolbar}}>\n\t\t\t<Toolbar disableGutters={false}>\n\t\t\t    <Typography gutterBottom variant=\"h3\" style={{\"margin\": \"0 auto\"}}>\n\t\t            WodTrackrr\n\t\t          </Typography>\n\t\t        </Toolbar>\n\t\t\t</AppBar>\n\t\t)\n\t}\n}\n\n\nexport default Header = withTheme(Header);","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","let apptheme = {\n   \"palette\":{\n      \"common\":{\n         \"black\":\"#000\",\n         \"white\":\"#fff\"\n      },\n      \"background\":{\n         \"paper\":\"#2e3134\",\n         \"toolbar\": \"#0d0e0e\",\n         \"tableHeader\": \"#1b1d1e\",\n         \"default\":\"rgba(48, 48, 48, 1)\"\n      },\n      \"primary\":{\n         \"main\":\"#03ceec\",\n         \"mainGrad\": 'linear-gradient(90deg,#0890fd,#01d3fe)',\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"secondary\":{\n         \"light\":\"#6C30FF\",\n         \"main\":\"#6C30FF\",\n         \"dark\":\"#6C30FF\",\n         \"contrastText\":\"#fff\"\n      },\n      \"error\":{\n         \"light\":\"#ea4331\",\n         \"main\":\"#c43627\",\n         \"dark\":\"#2d0d0b\",\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"text\":{\n         \"primary\":\"#ffffff\",\n         \"secondary\":\"#e0dfdf\",\n         \"disabled\":\"#bdbdbd\",\n         \"hint\":\"#afafaf\"\n      }\n   },\n   \n};\n\nexport default apptheme = apptheme;","import firebase, { FirebaseAuthContext } from \"./context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/storage\"; \nimport \"firebase/database\"; \n\n\nimport React from \"react\";\nimport { HashRouter, Switch, Route, Link } from 'react-router-dom';\n\n\nimport { Paper, Button, BottomNavigation, BottomNavigationAction ,Grid, Container} from '@material-ui/core';\n\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport PanoramaIcon from '@material-ui/icons/Panorama';\n\nimport \"./styles.css\";\n\n\nimport BoxSearchPage from \"./pages/boxSearchPage\"\nimport Profile from \"./pages/profile\"\nimport Header from \"./comps/header\"\n\nimport postData from \"./utils/api\"\n\nimport history from \"./history\"\n\nimport { createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport pink from '@material-ui/core/colors/pink';\nimport teal from '@material-ui/core/colors/teal';\n\nimport apptheme from \"./css/apptheme\"\n\nvar db = firebase.database();\n\n// Needs to move to its own file\nlet theme = createMuiTheme(apptheme);\ntheme = responsiveFontSizes(theme)\n\nexport default class App extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      btmnav: 0,\n      user: firebase.auth().currentUser,\n      userMD: false\n    }\n\n    this.firebaseAuthListener = firebase.auth()\n    .onAuthStateChanged(user => {\n      if(user){\n        this.setState({ user: user })\n        this.userMDListener = db.ref('users/' + user.uid)\n        .on('value', metadata => {\n           if(metadata.val()){\n            this.setState({\n              userMD: metadata.val()\n            })\n           }\n        })\n      }\n    })\n  }\n\n  componentWillUnmount(){\n    if(this.firebaseAuthListener !== undefined)\n      this.firebaseAuthListener && this.firebaseAuthListener()\n    if(this.userMDListener !== null)\n      this.userMDListener && this.userMDListener()\n  }\n\n  render(){\n    return(\n    <FirebaseAuthContext.Provider>\n    <HashRouter history={history} >\n    <ThemeProvider theme={theme}>\n      <Grid container>\n        <Grid item xs={12} id=\"page-header\">\n          <Header className=\"header\" />\n        </Grid>\n        <Grid item xs={11} id=\"page-container\" className=\"page-content\">\n          <Switch>\n            <Route exact path=\"/boxSearch\">\n              <BoxSearchPage user={this.state.user}\n                userMD={this.state.userMD} />\n            </Route>     \n            <Route exact path=\"/profile\">\n              <Profile user={this.state.user}\n                userMD={this.state.userMD} />\n            </Route>      \n          </Switch>\n        </Grid>\n        <Grid item xs={12} className=\"footer\">\n          <BottomNavigation className=\"footer\"\n            value = {this.state.btmnav}\n            onChange = {(event, newValue) => {\n                this.setState({btmnav: newValue})\n              }}\n              style={{background: theme.palette.background.toolbar}}\n            showLabels\n          >\n            <BottomNavigationAction label=\"Search\" component={Link} to=\"/boxSearch\" icon={<PersonIcon />}  />\n            <BottomNavigationAction label=\"Profile\" component={Link} to=\"/profile\" icon={<PersonIcon />}  />\n          </BottomNavigation>\n        </Grid>\n      </Grid>\n      </ThemeProvider>\n      </HashRouter>\n      </FirebaseAuthContext.Provider>\n  \n    );\n  }\n}\nApp.contextType = FirebaseAuthContext;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\n\n\n\n\nReactDOM.render( <App />, document.getElementById('root'));"],"sourceRoot":""}