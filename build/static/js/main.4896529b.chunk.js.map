{"version":3,"sources":["context/firebaseContext.js","utils/formatting.js","utils/api.js","comps/lineChart.js","comps/barChart.js","comps/scores/scoreDataView.js","utils/firebaseData.js","comps/scores/scoreView.js","comps/wods/editWod.js","comps/searchSortTable.js","comps/actionCancelModal.js","comps/boxes/boxView.js","comps/boxes/boxSearch.js","pages/boxSearchPage.js","comps/profile/login.js","comps/boxes/boxListAccordion.js","comps/wods/addWod.js","comps/boxes/ownerBox.js","comps/profile/usernamePanel.js","pages/profile.js","comps/header.js","history.js","css/apptheme.js","app.js","index.js"],"names":["firebase","FirebaseAuthContext","React","createContext","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cvtTimetoInt","x","console","log","split","mins","seconds","parseInt","cvtIntToTime","Math","floor","secs","storage","database","LineChart","props","state","scoreType","data","values","stats","Map","this","ctx","document","getElementById","grd","getContext","createLinearGradient","addColorStop","lineChart","destroy","Chart","type","label","datasets","barPercentage","barThickness","maxBarThickness","minBarLength","backgroundColor","options","scales","yAxes","ticks","callback","index","labels","tooltips","callbacks","title","tooltipItem","datasetIndex","yLabel","maintainAspectRatio","plugins","beforeInit","chart","newProps","setState","createChart","obj","Array","from","Object","entries","entry","Grid","item","xs","style","height","id","Component","withTheme","BarChart","binData","barChart","forEach","dataset","push","update","pop","parseFloat","_mean","sd","bins","i","binA","format","binB","unshift","standardDeviation","mean","createLabels","binnedData","diff","numSDAway","abs","db","ScoreDataView","wodID","graphData","rawScores","scoresPath","scoreListener","ref","on","ss","exists","getData","val","getDescStats","score","sort","y","length","vals","min","max","median","container","Paper","Typography","get","setScore","path","username","uid","userScore","boxID","Promise","res","rej","set","date","Date","now","then","catch","ScoreRow","info","scoreID","isUserScore","TableRow","selected","TableCell","Button","size","color","onClick","handleRemoveScore","ScoreView","wodMD","userMD","scores","curRemoveScoreID","showRemoveAlert","scorePath","arr","objListToArray","isTime","a","b","s","search","value","isNumInSane","alert","userScorePath","err","remove","removeScore","Accordion","AccordionSummary","background","theme","palette","primary","main","expandIcon","aria-label","aria-controls","AccordionDetails","replace","toUpperCase","TextField","margin","pattern","inputProps","placeholder","InputLabelProps","shrink","Fragment","variant","handleAddScore","bind","TableContainer","component","Table","TableHead","TableBody","map","isCurUserScore","Card","CardContent","gutterBottom","align","handleBack","Modal","open","onClose","handleModalClose","aria-labelledby","aria-describedby","position","top","left","width","transform","display","flexDirection","justifyContent","EditWod","wodInfo","userBoxes","hasBoxes","wodText","wodBoxPath","editWod","ev","name","target","oldScoreType","oldBoxID","Select","native","box","key","onChange","handleValChange","multiline","rows","editWOD","SearchSortTable","headers","filteredRows","orderTableBy","orderTable","pageNum","rowsPerPage","pageStart","pageEnd","keyCode","which","filter","wod","toLowerCase","includes","orderBy","order","descendingComparator","comparator","stabilizedThis","el","isAsc","newPage","start","end","elevation","fullWidth","onKeyUp","InputProps","startAdornment","InputAdornment","header","sortable","TableSortLabel","active","direction","createSortHandler","stableSort","getComparator","slice","row","Wod","handleView","handleRemove","handleEdit","showOwnerBtns","TablePagination","rowsPerPageOptions","count","page","onChangePage","handleChangePage","onChangeRowsPerPage","handleChangeRowsPerPage","toLocaleDateString","ActionCancelModal","modalText","onAction","actionText","cancelText","BoxView","boxMD","wods","showWodList","currentWodID","currentWodMD","showEditModal","editWodInfo","curRemoveWodBoxID","curRemoveWodID","curRemoveWodTitle","wodPath","boxPath","boxListener","wodListener","removeWod","filteredWods","isReadOnly","handleScoreView","handleRemoveWod","deleteWod","handleEditModalClose","BoxSearch","user","isOwner","allBoxes","filteredBoxes","Box","mainGrad","handleBoxView","handleRemoveBox","itemxs","padding","alignItems","BoxSearchPage","showBoxView","currentBoxID","allBoxesListener","objectsToArray","undefined","Login","email","pass1","auth","signInWithEmailAndPassword","onLogin","error","code","message","justify","handleSubmit","to","className","BoxListAccordion","showBoxList","curRemoveBoxID","curRemoveBoxTitle","boxTitle","boxNamesTitle","boxes","all","removeBox","zeroMinWidth","noWrap","deleteBox","AddWod","updates","setWod","createWOD","OwnerBox","addBoxProgress","scoreTypeSelectVal","boxIDSelectVal","listenForBoxes","accountType","boxObj","getArrayOfBoxes","showAddBoxProgress","createBox","once","boxData","ownerUID","toString","setBox","PageContent","sendEmailVerification","emailAlertOpen","Collapse","in","Alert","emailVerified","sendVerificationEmail","onLogout","ProfilePage","signOut","handleLogout","handleLogIn","Header","AppBar","toolbar","Toolbar","disableGutters","createBrowserHistory","apptheme","createMuiTheme","responsiveFontSizes","App","btmnav","currentUser","firebaseAuthListener","onAuthStateChanged","userMDListener","metadata","Provider","history","ThemeProvider","exact","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","Link","icon","contextType","ReactDOM","render"],"mappings":"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","file":"static/js/main.4896529b.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \nimport React from \"react\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCGE8_j8cfIBmIzcvP6CVgG2yC6EE1Ep1U\",\n  authDomain: \"wodtrackrr.firebaseapp.com\",\n  databaseURL: \"https://wodtrackrr.firebaseio.com\",\n  projectId: \"wodtrackrr\",\n  storageBucket: \"wodtrackrr.appspot.com\",\n  messagingSenderId: \"743601990099\",\n  appId: \"1:743601990099:web:5937e9151eaad13e93a726\",\n  measurementId: \"G-39CF0BRPMH\"\n};\n\n\n\nexport default firebase\nexport const FirebaseAuthContext = React.createContext(firebase.initializeApp(firebaseConfig));","export default function cvtReps(x){\n\treturn parseInt(x)\n}\n\nexport function cvtTimetoInt(x){\n\tconsole.log(\"Split\", x)\n\tlet [mins, seconds] = x.split(\":\")\n\treturn (parseInt(mins) * 60) + parseInt(seconds)\n}\n\n\nexport function cvtIntToTime(x){\n\tlet mins = Math.floor(x / 60)\n\tlet secs = Math.floor(x - (mins*60))\n\tif(secs < 10){\n\t\tsecs = `0${secs}`\n\t}\n\treturn `${mins}:${secs}`\n}\n\n\nexport function cvtTimetoIntList(rawScores){\n\treturn rawScores.map((score) => {\n\t\tcvtTimetoInt(score)\n\t})\n}\n\n\nexport function msToDate(ms){\n\treturn new Date(ms).toLocaleDateString(\"en-US\")\n}","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/storage\";\nimport \"firebase/database\"; \nvar storage = firebase.storage()\nvar db = firebase.database();\n\n\n\nfunction formatDate(){\n  const [{ value: month },,{ value: day },,{ value: year }] \n    = new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' })\n      .formatToParts(new Date())  \n  console.log(new Intl.DateTimeFormat('en', \n      { year: 'numeric', month: 'numeric', day: '2-digit' }))\n  return `${year}/${month}/${day}`\n}\n\nexport default async function postData(url = '', data = {}) {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json'\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\n\n// export async function getImagePreview(fileObjs) {\n//   return await Promise.all(fileObjs.map(fileObj => {\n//     return new Promise((res, rej) => {\n//       const reader = new FileReader();  \n  \n//       reader.onload = (evt) => {\n//         res(evt)\n//       }\n//       // add error event\n//       reader.readAsDataURL(fileObj)\n//       }) \n//   }))\n  \n  \n// }\n\n\n// export function postCaptionUpload(ts, caption){\n//   let DBRef = db.ref(`posts/${ts}/`)\n//   DBRef.child('caption')\n//   .set(caption)\n//   .then( () => {\n//     console.log(\"Caption uploaded\")\n//   })\n//   .catch(err => { console.log(err) })\n// }\n\n// export function postMediaUpload(fileObj, ts, i) {\n//   const reader = new FileReader();  \n//   console.log(fileObj, ts, i)\n//   let DBRef = db.ref(`posts/${ts}/`)\n//   let fileType = fileObj.type.split('/')[0]\n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file?\n//     storage.ref()\n//     .child(`posts/${ts}/${fileObj.name}`)\n//     .put(fileObj)\n//     .then(snapshot => {\n//       if(snapshot){\n//         console.log(snapshot)\n//         DBRef.child(`media/${i}`)\n//         .update({\n//           type: fileType,\n//           url: snapshot.metadata.fullPath \n//         })\n//         .then( () => {\n//           console.log('File uploaded')\n//         })\n//         .catch( err => { console.log(err) })\n//       }\n\n//     })\n//     .catch(err => {console.log(err)})\n//   }\n//   reader.readAsDataURL(fileObj)\n// }\n\n// export async function downloadPostMedia(imgPaths){\n//     return await Promise.all(imgPaths.map(imgObj => {\n//       console.log(imgObj.get('path'))\n//       return new Promise((res, rej) => {\n//         storage.ref(imgObj.get('path')).getDownloadURL()\n//         .then(url => {\n//           console.log(url)\n//           res(new Map([['path', imgObj.get('path')], ['url', url], ['type', imgObj.get('type')] ]))\n//         }).catch(err => {rej(err)})\n//       })\n//     }))\n// }\n\n\n// /* not in use */\n\n// export function websiteImageUpload(title, file) {\n//   const reader = new FileReader();  \n\n//   let setNameDBRef = db.ref(`website/images`)\n  \n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file?\n//     storage.ref()\n//     .child(`website/images/${title}`)\n//     .put(file)\n//     .then(snapshot => {\n//       let stripped = snapshot.metadata.fullPath\n//       .replace(new RegExp(/\\//, 'g'), \"\")\n//       .replace(\".\", \"\")\n      \n//       // see if image object exits, preserve original upload date\n//       setNameDBRef.child(stripped)\n//       .once('value')\n//       .then( setNameImageSnapshot => {\n//           let fmtDate =  null // preserve original date\n//           if(setNameImageSnapshot.val()){\n//             fmtDate = setNameImageSnapshot.val().date\n//           }else{\n//             const date = new Date()\n//             const dateTimeFormat = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'numeric', day: '2-digit' }) \n//             const [{ value: month },,{ value: day },,{ value: year }] = dateTimeFormat.formatToParts(date )  \n//             fmtDate = `${year}/${month}/${day}` \n//           }\n\n//           setNameDBRef.child(stripped).set({\n//             \"date\": fmtDate,\n//             \"path\": snapshot.metadata.fullPath \n//           })\n//       } )\n\n//     })\n//     .catch(err => {console.log(err)})\n//   }\n//   reader.readAsDataURL(file)\n// }\n\n// export async function downloadWebsiteImages(imgPaths){\n//     return await Promise.all(imgPaths.map(imgObj => {\n      \n//       return new Promise((res, rej) => {\n//         storage.ref(imgObj.path).getDownloadURL()\n//         .then(url => {\n//           res(url)\n//         }).catch(err => {rej(err)})\n//       })\n//     }))\n// }\n\n// /* not in use */\n\n// function setThumbUploadHelper(setName, title, file){\n//   /*\n//     Uploads the file and file data to database \n//   */\n\n//   //upload \n//   let thumbStorageRef = storage.ref().child(`thumbnails/${setName}/${title}`);\n//   let setThumbDBRef = db.ref(`thumbnails/${setName}/`)\n\n//   // store file data\n//   thumbStorageRef.put(file)\n//   .then(snapshot => {\n//     let stripped = snapshot.metadata.fullPath.replace(new RegExp(/\\//, 'g'), \"\").replace(\".\", \"\")\n//     /* key: value ------ stippped: fullPath ----- pathtoimg1: path/to/img1  */\n//     setThumbDBRef.child(stripped).set(snapshot.metadata.fullPath)\n//   })\n// }\n\n// /* checks if thumbnail exists */ \n// export function setThumbUpload(setName, title, file) {\n//   const reader = new FileReader();  \n//   /*\n//     If setName exists, delete and upload if not just upload\n//   */\n//   let setThumbDBRef = db.ref(`thumbnails/${setName}/`)\n  \n//   reader.onload = (evt) => {\n//     setThumbDBRef.once(\"value\")\n//     .then( ss => {\n//       if(ss.exists()){\n//           //delete\n//           setThumbDBRef.remove()\n//           .then(() => {\n//             let thumbStorageRef = storage.ref(`thumbnails/${setName}`)\n//             // Ensure all previous entries are deleted. Settings will not work because files names will be different.\n//             thumbStorageRef.listAll()\n//             .then((res) => {\n//               res.items.forEach(item => {\n//                 item.delete()\n//                 .then(() => {\n//                   // database entry is gone, remove file from storage\n//                   setThumbUploadHelper(setName, title, file)\n//                 })\n//                 .catch(err => {console.log(err)})\n//               })\n//             })\n//             .catch(err => {console.log(err)})\n//           })\n//           .catch(err => { console.log(err) })\n//       }else{\n//          setThumbUploadHelper(setName, title, file)\n//       }\n//     })\n//   };\n//   reader.readAsDataURL(file);\n// }\n\n// export async function downloadSetThumbImage(setName){ \n//   let thumbSnapshot = await db.ref(`thumbnails/${setName}`).once('value')\n//   let thumbnailFullPath = Object.values(thumbSnapshot.val())[0]\n//   return await storage.ref(thumbnailFullPath).getDownloadURL()\n// }\n\n// /* use img and throbber to create progress indicator */\n// export function setImageUpload(setName, title, file) {\n//   const reader = new FileReader();  \n//   let setNameDBRef = db.ref(`images/${setName}`)\n//   reader.onload = (evt) => {\n//     // Use Firebase API here to directly upload file\n//     storage.ref().child(`images/${setName}/${title}`)\n//     .put(file)\n//     .then(snapshot => {\n//       let stripped = snapshot.metadata.fullPath\n//       .replace(new RegExp(/\\//, 'g'), \"\")\n//       .replace(\".\", \"\")\n//       // see if image object exits, preserve original upload date\n//       setNameDBRef.child(stripped).once('value')\n//       .then( setNameImageSnapshot => {\n//           let fmtDate =  null\n//           setNameImageSnapshot.val()\n//           ? \n//             fmtDate = setNameImageSnapshot.val().date\n//           :\n//             fmtDate = formatDate()\n          \n//           setNameDBRef.child(stripped).set({\n//             \"date\": fmtDate,\n//             \"path\": snapshot.metadata.fullPath \n//           })\n//       } )\n//     })\n//     .catch(err => {console.log(err)})\n//   };\n//   reader.readAsDataURL(file);\n// }\n\n// /*\n//   Given array of image paths, fetch image url from Firebase Storage using img path\n//   Air Bnb doc\n//   https://peterpalau.github.io/react-bnb-gallery/#/options\n//   Firebase:\n//     Data return alphabetically, so images are sorted by name by default\n// */\n// export async function downloadSetNameImages(imgPaths){\n//   return await Promise\n//   .all(imgPaths\n//     .map((imgObj, i)=>{\n//       return new Promise(\n//         (res, rej) => {\n//           console.log(imgObj.path)\n//           storage.ref(imgObj.path).getDownloadURL()\n//           .then(url => {\n//             /* Image object doumented in react Air BnB Gallery */\n//             res({\n//               photo: url,\n//               number: i,\n//               caption: imgObj.path.split(\"/\").reverse()[0].split(\".\")[0],\n//               subcaption: imgObj.date,\n//               thumbnail: url\n//             })\n//           }).catch(err=>{rej(err)}) \n//         }\n//       )\n//     })\n//   )\n// }","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\nimport Chart from 'chart.js';\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass LineChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: new Map() // mean, median, SD\n\t\t}\n\t}\n\n\t\n\tcomponentDidMount(){\n\n\t}\n\n\tcreateChart(){\n\t\tconsole.log(\"LineChart____________\")\n\t\tconsole.log(this.state)\n\t\tthis.ctx = document.getElementById('lineChart');\n\t\t\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\t\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\n\t\tif(this.lineChart){\n\t\t\tthis.lineChart.destroy()\n\t\t}\n\t\t\n\t\tthis.lineChart = new Chart(this.ctx, {\n\t\t    type: 'line',\n\t\t    \n\t\t    data:  {\n\t\t    \tlabel: \"Scores\",\n\t\t\t    datasets: [{\n\t\t\t    \tlabel: \"Score\",\n\t\t\t        barPercentage: 0.5,\n\t\t\t        barThickness: 6,\n\t\t\t        maxBarThickness: 8,\n\t\t\t        minBarLength: 2,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: this.state.data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tscales: {\n\t\t            yAxes: [{\n\t\t                ticks:{\n\t\t                \tcallback: (label, index, labels) => {\n\t\t\t                \tif(this.state.scoreType === \"time\"){\n\t\t\t                \t\treturn cvtIntToTime(label)\n\t\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t\t                \t\treturn label\n\t\t\t                \t}\n\t\t\t                }\n\t\t\t             }\n\t\t            }]\n\t\t\t    },\n\t\t\t    tooltips: {\n\t\t\t        callbacks: {\n\t\t\t        \ttitle: (tooltipItem, data) => {\n\n\t\t\t        \t},\n\t\t\t            label: (tooltipItem, data) => {\n\t\t\t                var label = data.datasets[tooltipItem.datasetIndex].label || '';\n\n\t\t\t                if (label) {\n\t\t\t                    label += ': ';\n\t\t\t                }\n\n\t\t\t                if(this.state.scoreType === \"time\"){\n\t\t                \t\tlabel += cvtIntToTime(tooltipItem.yLabel)\n\t\t                \t}else if(this.state.scoreType === \"reps\"){\n\t\t                \t\tlabel += tooltipItem.yLabel\n\t\t                \t}\n\t\t\t                \n\t\t\t                \n\t\t\t                return label;\n\t\t\t            }\n\t\t\t        }\n\t\t\t    },\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t},\n\t\t\tplugins: [{\n\t\t\t\tbeforeInit: function(chart) {\n\t\t\t\t\tvar chartData = chart.data.datasets[0].data\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\n\n\t}\n    \n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps}, ()=>{\n\t\t\tthis.createChart()\n\t\t})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t\t\n\t}\n\n\tobjListToArray(obj){\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\t\n\n  render(){\n\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t<canvas id=\"lineChart\" ></canvas>\n\t\t\t</div>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default LineChart = withTheme(LineChart);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n// Stats\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport {cvtTimetoInt, cvtIntToTime} from \"../utils/formatting\"\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\nimport Chart from 'chart.js';\n\n\n\nvar db = firebase.database();\n\nclass BarChart extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tscoreType: props.scoreType,\n\t\t\tdata: props.data, // x y values for chart\n\t\t\tvalues: props.values, // raw score values\n\t\t\tstats: new Map() // mean, median, SD\n\t\t}\n\t}\n\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({\n\t\t\t...newProps,\n\t\t}, () => {\n\t\t\t\n\t\t\tthis.createChart(this.binData(this.state.values))\n\t\t\t\n\t\t})\n\t}\n\n\tcreateChart([labels, data]){\n\t\tthis.ctx = document.getElementById('barChart');\n\t\tlet context = this.ctx.getContext('2d')\n\t\tlet grd = context.createLinearGradient(200,0,200,400);\n\t\tgrd.addColorStop(0,\"#01d3fe\");\n\t\t\n\t\tgrd.addColorStop(1,\"#0890fd\");\n\t\tif(this.barChart){\n\t\t\tthis.barChart.destroy()\n\t\t}\n\t\tthis.barChart = new Chart(this.ctx, {\n\t\t    type: 'bar',\n\t\t    data:  {\n\t\t    \tlabels: labels,\n\t\t\t    datasets: [{\n\t\t\t    \t'label': \"Scores (Standard Deviation)\",\n\t\t\t        minBarLength: 1,\n\t\t\t        backgroundColor: grd,\n\t\t\t        data: data\n\t\t\t    }]\n\t\t\t},\n\t\t\toptions:{\n\t\t\t\tmaintainAspectRatio: false\n\t\t\t}\n\t\t});\n\t}\n\n   \n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount: BarChart\")\n\t}\n\n\taddData() {\n\t    \n\t    this.barChart.data.datasets.forEach((dataset) => {\n\t        dataset.data.push(this.binData(this.state.values));\n\t    });\n\t    this.barChart.update();\n\t}\n\n\tremoveData(chart) {\n\t    \n\t    this.barChart.data.datasets.forEach((dataset) => {\n\t        dataset.data.pop();\n\t    });\n\t    this.barChart.update();\n\t}\n\n\tformat(x){\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\treturn x <= 0 ? 0 : cvtIntToTime(x)\n\t\t}else if(this.state.scoreType === \"reps\"){\n\t\t\treturn parseFloat(x)\n\t\t}\n\t}\n\n\tcreateLabels(_mean, sd){\n\t\tlet bins = []\n\n\t\tfor(let i=0; i<3; i++){\n\t\t\tlet binA = `${this.format(_mean - (sd * (i + 1)))} - ${this.format(_mean - (sd * i))}`\n\t\t\tlet binB = `${this.format(_mean + (sd * i))} - ${this.format(_mean + (sd * (i + 1)))}`\t\n\t\t\tbins.unshift(binA)\n\t\t\tbins.push(binB)\n\t\t}\n\n\t\t// let bin1 = `${_(_mean - (sd * 3))} - ${_(_mean - (sd * 2))}`\n\t\t// let bin2 = `${_(_mean - (sd * 2))} - ${_(_mean - (sd * 1))}`\n\t\t// let bin3 = `${_(_mean - (sd * 1))} - ${_(_mean - (sd * 0))}`\n\t\t// let bin4 = `${_(_mean + (sd * 0))} - ${_(_mean + (sd * 1))}`\n\t\t// let bin5 = `${_(_mean + (sd * 1))} - ${_(_mean + (sd * 2))}`\n\t\t// let bin6 = `${_(_mean + (sd * 2))} - ${_(_mean + (sd * 3))}`\n\n\t\tconsole.log(\"Bins\")\n\t\tconsole.log(bins)\n\t\treturn bins\n\t}\n\n\tbinData(values){\n\t\t// {x: binValue, y: countOfbin}\n\t\t// 6 bins 1,2,3 SD from Mean each way\n\t\tlet sd = standardDeviation(values)\n\t\tlet _mean = mean(values)\n\t\n\t\t\n\t\tlet labels = this.createLabels(_mean, sd)\n\t\tlet binnedData = [0, 0, 0, 0, 0, 0]\n\n\n\t\t for(let x of values){\n\t\t \t\tlet diff = (x - _mean) // 11 - 10 => 1\n\t\t \t\tlet numSDAway = Math.floor(diff / sd) // 5 / 2 => .5 => 0\n\t\t \t\tconsole.log(`SD: ${sd}, x: ${x}, mean: ${_mean} Diff: ${diff}, sdAway: ${numSDAway}`)\n\t\t \t\tif(Math.abs(numSDAway) <= 1){\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[3]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[2]++\n\t\t \t\t\t}\n\t\t \t\t}else if(Math.abs(numSDAway) <= 2){\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[4]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[1]++\n\t\t \t\t\t}\n\t\t \t\t} else{\n\t\t \t\t\tif(diff > 0){\n\t\t \t\t\t\tbinnedData[5]++\n\t\t \t\t\t}else{\n\t\t \t\t\t\tbinnedData[0]++\n\t\t \t\t\t}\n\t\t \t\t}\n\t\t }\n\t\t \n\t\t return [labels, binnedData]\n\t}\n\n  render(){\n\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<div style={{height:\"25vh\", \"max-width\":\"50vw\"}}>\n\t\t\t\t<canvas id=\"barChart\"></canvas>\n\t\t\t</div>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default BarChart = withTheme(BarChart);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {\n\tmean, median, standardDeviation\n}from 'simple-statistics'\n\nimport LineChart from \"../lineChart\"\nimport BarChart from \"../barChart\"\n\n\nimport postData from \"../../utils/api\"\nimport {cvtTimetoInt, cvtIntToTime, cvtTimetoIntList} from \"../../utils/formatting\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\nclass ScoreDataView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\twodID: props.wodID,\n\t\t\tgraphData: new Array(),\n\t\t\trawScores: new Array(),\n\t\t\tscoreType: \"\",\n\t\t\tstats: new Map()\n\t\t}\n\t\t\n\t}\n\n\tcomponentDidMount(){\n\t\tlet scoresPath = `scores/${this.state.wodID}`\n\t\tthis.scoreListener  = db.ref(scoresPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet [graphData, rawScores, scoreType] = this.getData(ss.val())\n\t\t\t\tlet stats = this.getDescStats(rawScores)\n\t\t\t\t\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tgraphData: graphData, \n\t\t\t\t\trawScores: rawScores, \n\t\t\t\t\tscoreType: scoreType, \n\t\t\t\t\tstats: stats\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconsole.log(\"Component will unmount\")\n\t}\n\n\t\n\tgetData(obj){\n\t\t// create two arrays\n\t\t// One for data display in graph, \n\t\t//\t\t[ {\"category\": \"A\", \"amount\": 28}, ... ]\n\t\t// Second to crunch data, raw values\n\t\t/*\n\t\t\t\tkey\t\t\t(uid)\n\t\t\t\tboxID: \t\t\"-MMVcVjihF2bXFc6qIEp\"\n\t\t\t\tscore:  \t\"321\"\n\t\t\t\tusername:  \t\"TestOwner\"\n\t\t\t\twodID:  \t\"-MMjP1_MQH23dnFQOfjR\"\n\t\t*/\n\t\tlet graphData = []\n\t\tlet values = []\n\t\tlet scoreType = \"\"\n\n\t\t// extract scores form obj and convert time to integer of seconds\n\t\tfor(let item of Object.values(obj)){\n\t\t\tscoreType = item.scoreType\n\t\t\tif(item.scoreType === \"time\"){\n\t\t\t\tvalues.push(cvtTimetoInt(item.score))\n\t\t\t}else if(item.scoreType === \"reps\"){\n\t\t\t\tvalues.push(parseFloat(item.score))\n\t\t\t}\n\t\t}\n\n\t\t// sort scores\n\t\tvalues.sort((x,y) => {\n\t\t\tif(scoreType === \"time\"){\n\t\t\t\treturn x - y\n\t\t\t}else if(scoreType === \"reps\"){\n\t\t\t\treturn parseFloat(x) - parseFloat(y)\n\t\t\t}\n\t\t\treturn 1\n\t\t})\n\n\t\t// create data list for chart \n\t\tfor(let i =0; i < values.length; i++){\n\t\t\t graphData.push({\"x\": i, \"y\": values[i], \"c\": 0})\n\t\t}\n\t\treturn [graphData, values, scoreType]\n\t}\n\n\t getDescStats(vals){\n\t\tlet stats = [\n\t\t\t['min', Math.min(...vals)],\n\t\t\t['max', Math.max(...vals)],\n\t\t\t['mean', mean(vals)],\n\t\t\t['median', median(vals)],\n\t\t\t['sd', standardDeviation(vals)]\n\t\t]\n\t\treturn new Map(stats)\n    }\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t\t<Grid  item  container xs={12}>\n\t\t\t\t<Grid  item  xs={12}>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<Typography>Low: {this.state.scoreType === \"time\"? cvtIntToTime(this.state.stats.get(\"min\")): this.state.stats.get(\"min\")}</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid  item  xs={12}>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<Typography>High: {this.state.scoreType === \"time\"? cvtIntToTime(this.state.stats.get(\"max\")): this.state.stats.get(\"max\")}</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t<Grid  item  xs={12}>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<Typography>Avg: {this.state.scoreType === \"time\"? cvtIntToTime(this.state.stats.get(\"mean\")): this.state.stats.get(\"mean\")}</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\n\t\n\t\t\t</Grid>\n\t\t\t\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\n\t\t\t\t\t<LineChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType} />\n\t\t\t\t\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t\n\t\t\t\t\t<BarChart \n\t\t\t\t\t\tdata = {this.state.graphData}\n\t\t\t\t\t\tvalues={this.state.rawScores}\n\t\t\t\t\t\tscoreType={this.state.scoreType} />\n\t\t\t\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default ScoreDataView = withTheme(ScoreDataView);\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/storage\";\nimport \"firebase/database\"; \nvar storage = firebase.storage()\nvar db = firebase.database();\n\n\n\n\n\nexport default function mTea(){}\n\n/*\n\tBoxes\n*/\n\nexport function setBox(title, uid){\n  \tlet boxNamesTitle = `boxNames/${title}`\n  \tlet userBoxes = `users/${uid}/boxes`\n  \tlet boxes = `boxes`\n\n  \treturn new Promise((res, rej) => {\n  \t\tdb.ref(boxNamesTitle).once(\"value\", ss =>{\n\t\t\tif(ss.exists()){\n\t\t\t\trej(\"Title exists\")\n\t\t\t}else{\n\t\t\t\tlet boxID = db.ref(boxes).push().key\n\t\t\t\tlet boxData = {\n\t\t\t\t\ttitle: title,\n\t\t\t\t\townerUID: uid,\n\t\t\t\t\tboxID: boxID,\n\t\t\t\t\tdate: Date.now()\n\t\t\t\t}\n\n\t\t\t\tPromise.all([\n\t\t\t\t\t// add to list of all boxes\n\t\t\t\t\tdb.ref(`${boxes}/${boxID}`).set(boxData),\n\t\t\t\t\t// add to list of boxNames\n\t\t\t\t\tdb.ref(boxNamesTitle).set(boxData),\n\t\t\t\t\t// add to users list of boxes\n\t\t\t\t\tdb.ref(`${userBoxes}/${boxID}`).set(boxData)\n\t\t\t\t])\n\t\t\t\t.then((values) => {\n\t\t\t\t\tres(`Succefully created box ${values.toString()}`)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n  \t})\n }\n\n export function removeBox(boxID, title, uid){\n\n  \tlet boxNamesTitle = `boxNames/${title}`\n  \tlet userBoxes = `users/${uid}/boxes/${boxID}`\n  \tlet boxes = `boxes/${boxID}`\n  \tlet wods = `wods/${boxID}`\n  \treturn Promise.all([\n  \t\tdb.ref(boxes).set({}),\n\t  \tdb.ref(wods).set({}),\n\t\tdb.ref(boxNamesTitle).set({}),\n\t\tdb.ref(userBoxes).set({})]\n\t)\n  \t\n  }\n\n/*\n\tWods\n*/\n\nexport function setWod(boxID, title, wodText, scoreType){\n  \tlet wodBoxPath = `wods/${boxID}`\n\tlet wodID = db.ref(wodBoxPath).push().key\n\n\tlet wodPath = `${wodBoxPath}/${wodID}`\n\tlet shallowPath = `shallow/${wodBoxPath}/${wodID}` // able to query at boxid for wods\n\n\t\n\tlet updates = {}\n\tupdates[shallowPath] = true \n\tupdates[wodPath] = {\n\t\tboxID: boxID,\n\t\twodID: wodID,\n\t\ttitle: title,\n\t\tscoreType: scoreType,\n\t\twodText: wodText,\n\t\tdate: Date.now()\n\t}\n\treturn db.ref().update(updates)\n\t\n\n\t\n  }\nexport function editWod(boxID, wodID, title, wodText, scoreType){\n\tlet wodBoxPath = `wods/${boxID}/${wodID}`\n\n\treturn db.ref(wodBoxPath).update({\n\t\ttitle: title,\n\t\twodText: wodText,\n\t\tscoreType: scoreType\n\t})\n}\n\n\n// delete wod plus its scores from wods and scores nodes in Firebase\n// leaving scores under users node for now.\nexport function removeWod(wodPath, scorePath){\n\t// let wodPath = `wods/${this.state.curRemoveWodBoxID}/${this.state.curRemoveWodID}`\n\t// let scorePath = `scores/${this.state.curRemoveWodID}`\n\n\treturn new Promise((res, rej) => {\n\t\ttry{\n\t\t\tdb.ref(wodPath)\n\t\t\t.remove()\n\t\t\t.then(()=>{\n\t\t\t\tdb.ref(scorePath)\n\t\t\t\t.remove()\n\t\t\t\t.then(() => {\n\t\t\t\t\tres(\"Deleting complete\")\n\t\t\t\t})\n\t\t\t})\n\t\t}catch{\n\t\t\trej(\"error while deleting Wod\")\n\t\t}\n\t})\n}\n\n\n\n/*\n\tScores\n*/\n\nexport function setScore( path,\n\ttitle,\n\tusername, \n\tuid, \n\tuserScore,\n\twodID,\n\tboxID,\n\tscoreType\n){\n\treturn new Promise((res, rej) => {\n\n\t\tdb.ref(path).set({\n\t\t\tusername: username,\n\t\t\tuid: uid,\n\t\t\ttitle: title,\n\t\t\tscore: userScore,\n\t\t\twodID: wodID,\n\t\t\tboxID: boxID,\n\t\t\tscoreType: scoreType,\n\t\t\tdate: Date.now()\n\t\t})\n\t\t.then(() => res(\"Success added score\"))\n\t\t.catch(() => rej(\"Failed to add score\"))\t\n\t})\n}\n\nexport function setShallowScore( path\n){\n\treturn new Promise((res, rej) => {\n\n\t\tdb.ref(`shallow/${path}`).set(true)\n\t\t.then(() => res(\"Success added score\"))\n\t\t.catch(() => rej(\"Failed to add score\"))\t\n\t})\n}\n\n\nexport function removeScore(scoreID){\n\treturn new Promise((res, rej) => {\n\t\tdb.ref(`scores/${scoreID}`)\n\t\t.remove()\n\t\t.then(()=>{res(`Successfully removed score: ${scoreID}`)})\n\t\t.catch((err) => {rej(`Failed to remove score: ${scoreID}`)})\n\t})\n}\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport ReactMarkdown from 'react-markdown'\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tListItem, List, ListItemText, TableRow, TableHead, TableContainer,\n\tTableCell, TableBody, Table, Modal\n} \nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport ScoreDataView from \"./scoreDataView\" \n\nimport { setScore, removeScore } from \"../../utils/firebaseData\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n/*\nShow details of Box and its WODS\n*/\nfunction ScoreRow(props){\n\tlet score = props.info.get(\"score\")\n\tlet username = props.info.get(\"username\")\n\tlet wodID = props.info.get(\"wodID\")\n\tlet uid = props.info.get(\"uid\")\n\tlet scoreID = `${wodID}/${uid}`\n\tlet rowStyle = (props.isUserScore)? \"\": \"\"\n\tconsole.log(props.info)\n\treturn(\n\t\t<TableRow selected={props.isUserScore}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{username}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{score} \n\t\t\t\t</TableCell>\n\t\t\t\t{\n\t\t  \t\t\tprops.isUserScore\n\t\t  \t\t\t?\n\t\t\t  \t\t<TableCell>\n\t\t\t\t\t    <Button size=\"small\" \n\t\t\t\t\t    \tcolor=\"error\" \n\t\t\t\t\t    \tonClick={() => props.handleRemoveScore(scoreID)}>\n\t\t\t\t\t    \tRemove\n\t\t\t\t\t    </Button>\n\t\t\t  \t\t</TableCell>\n\t\t\t  \t\t:\n\t\t\t  \t\t<TableCell></TableCell>\n\n\t\t  \t\t}\n\t\t</TableRow>\n\t)\n}\n\n\n/*\n\tNeed to add scores to User in Firebase\n\t   users - uid - Score - wodId - score info\n\n*/\n\nclass ScoreView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tlet wodID = props.wodMD.get(\"wodID\")\n\t\tlet scoreType = props.wodMD.get(\"scoreType\")\n\t\t// console.log(`UserMD`)\n\t\t// console.log(this.props.userMD)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\twodID: wodID,\n\t\t\twodMD: props.wodMD,\n\t\t\tscoreType: scoreType,\n\t\t\tscores: new Array(),\n\t\t\tuserScore: {},\n\t\t\tcurRemoveScoreID: \"\",\n\t\t\tshowRemoveAlert: false\n\t\t}\n\t}\n\n\n\tcomponentDidMount(){\n\t\tlet scorePath = `scores/${this.state.wodID}`\n\n\t\tthis.scoreListener  = db.ref(scorePath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet arr = this.objListToArray(ss.val())\n\t\n\t\t\t\tconsole.log(\"Score listener\")\n\t\t\t\tconsole.log(arr)\n\t\t\t\t/*\n\t\t\t\t\tsort score depending on:\n\t\t\t\t\t\ttime (low to high) or \n\t\t\t\t\t\treps (high to low)\n\t\t\n\t\t\t\t*/\n\t\t\t\tlet isTime = (this.state.scoreType && this.state.scoreType === \"time\") ? 1 : 0\n\t\t\t\tarr.sort((a,b) => {\n\t\t\t\t\treturn isTime \n\t\t\t\t\t?\n\t\t\t\t\t\t  parseFloat(a.get(\"score\")) < parseFloat(b.get(\"score\")) ? -1 : 1\n\t\t\t\t\t:\n\t\t\t\t\t\t parseFloat(a.get(\"score\")) > parseFloat(b.get(\"score\")) ? 1 : -1\n\n\t\t\t\t})\n\t\t\t\tthis.setState({scores: arr})\n\t\t\t}\n\t\t})\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tthis.scoreListener()\n\t}\n\n\tobjListToArray(obj){\n\t\t// let key = Object.keys(obj)[0]\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\tisNumInSane(s){\n\t\tlet hasNonDigitRegex = /\\D/\n\t\tlet res = s.search(hasNonDigitRegex) \n\t\tlet isSane = (res === -1) ? true: false\n\t\treturn isSane \n\t\t\n\t}\n\n\thandleAddScore(){\n\t\tif(!this.state.userMD){return}\n\n\t\tlet userScore = \"\"\n\t\tif(this.state.scoreType === \"time\"){\n\t\t\tlet mins =  document.getElementById(\"scoreViewUserScoreMins\").value\n\t\t\tlet secs =  document.getElementById(\"scoreViewUserScoreSecs\").value\n\t\t\tif(!this.isNumInSane(mins) || !this.isNumInSane(secs)){\n\t\t\t\talert(`Time must only contain numbers, entered: ${mins}:${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) > 59){\n\t\t\t\talert(`Seconds must be 59 or below, entered: ${secs}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(parseInt(secs) < 10 && secs.length === 1){\n\t\t\t\tsecs = `0${secs}`\n\t\t\t}\n\t\t\tif(mins.length > 2){\n\t\t\t\talert(`Minutes must be 99 or below, entered: ${mins}`)\t\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(mins.length === 0){\n\t\t\t\tmins = \"0\"\n\t\t\t}\n\t\t\tif(secs.length === 0){\n\t\t\t\tsecs = \"0\"\n\t\t\t}\n\t\t\tuserScore = `${mins}:${secs}`\n\t\t}else{\n\t\t\t// reps or rounds\n\t\t\tuserScore =  document.getElementById(\"scoreViewUserScore\").value\n\t\t\tif(userScore.length > 3){\n\t\t\t\talert(`Score must be 3 digits or less, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(!this.isNumInSane(userScore)){\n\t\t\t\talert(`Score must be digits only, entered: ${userScore}`)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t}\n\n\t\tlet username = this.state.userMD.username\n\t\tlet uid = this.state.userMD.uid\n\t\tlet wodID = this.state.wodMD.get(\"wodID\")\n\t\tlet boxID = this.state.wodMD.get(\"boxID\")\n\t\tlet title = this.state.wodMD.get(\"title\")\n\n\n\t\t// each score can be idnetified by wodID/uid, enforces 1 score per workout per user\n\t\tlet scorePath = `scores/${wodID}/${uid}`\n\t\tlet userScorePath = `users/${uid}/scores/${boxID}/${wodID}`\n\n\t\tsetScore( scorePath,\n\t\t\ttitle,\n\t\t\tusername, \n\t\t\tuid, \n\t\t\tuserScore,\n\t\t\twodID,\n\t\t\tboxID,\n\t\t\tthis.state.wodMD.get(\"scoreType\")\n\t\t)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\n\n\t\tsetScore( userScorePath,\n\t\t\ttitle,\n\t\t\tusername, \n\t\t\tuid, \n\t\t\tuserScore,\n\t\t\twodID,\n\t\t\tboxID,\n\t\t\tthis.state.wodMD.get(\"scoreType\")\n\t\t)\n\t\t.then((res) => console.log(res))\n\t\t.catch((err) => console.log(err))\n\t}\n\n\thandleModalClose(){\n\t\tthis.setState({showRemoveAlert:false})\n\t}\n\n\n\n\n\thandleRemoveScore(scoreID){\n\t\tconsole.log(`Remove score with ID: ${scoreID}`)\n\t\tthis.setState({curRemoveScoreID: scoreID, showRemoveAlert: true})\n\t}\n\n\tremoveScore(){\n\t\tlet scoreID = this.state.curRemoveScoreID\n\t\tif(scoreID === \"\" || scoreID.length <=0){return}\n\n\t\tthis.setState({showRemoveAlert: false})\n\n\t\tremoveScore(scoreID)\n\t\t.then((res)=>{\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\t\t\t\n\t\t})\n\t\t.catch((err)=>{console.log(err)})\n\t}\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12}>\n\t\t<Grid item xs={12}>\n\t\t\t<Typography>{this.state.wodMD.get(\"title\")}</Typography>\n\t\t\t<Typography>{this.state.wodMD.get(\"scoreType\")}</Typography>\n\t\t\t<ReactMarkdown>{this.state.wodMD.get(\"wodText\")}</ReactMarkdown>\n\t\t</Grid>\n\n\n\n\t\t<Grid item xs={12}>\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tstyle={{background: this.props.theme.palette.primary.main}}\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-label=\"Expand\"\n\t\t\t\t\taria-controls=\"additional-actions2-content\"\n\t\t\t\t\tid=\"additional-actions2-header\">\n\t\t\t\t\t<Typography >\n\t\t\t\t\t\tAdd Score\n\t\t\t\t\t</Typography>\t        \n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid  item xs={12} >\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\t{this.state.scoreType\n\t\t\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\t\t\tthis.state.scoreType[0],\n\t\t\t\t\t\t\t\t\tthis.state.scoreType[0].toUpperCase())\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{this.state.scoreType === \"reps\"\n\t\t\t\t\t?\t<Grid item xs={10}>\n\t\t\t\t\t\t<TextField\n\t\t\t              id=\"scoreViewUserScore\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{4}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 4\",\n\t\t\t                placeholder: \"Score\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t        :\n\t\t\t        \t<React.Fragment>\n\t\t\t        \t<Grid item xs={5}>\n\t\t\t        \t<TextField\n\t\t\t              id=\"scoreViewUserScoreMins\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{3}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 3\",\n\t\t\t                placeholder: \"Minutes\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t            <Grid item xs={5}>\n\t\t\t            <TextField\n\t\t\t              id=\"scoreViewUserScoreSecs\"\n\t\t\t              type=\"number\"\n\t\t\t              style={{ margin: 8}}\n\t\t\t              pattern=\"[0-9]{2}\"\n\t\t\t              inputProps={{\n\t\t\t                title: \"Numbers only, max length 2\",\n\t\t\t                placeholder: \"Seconds\"\n\t\t\t              }}\n\t\t\t              margin=\"normal\"\n\t\t\t              color=\"primary\"\n\t\t\t              InputLabelProps={{\n\t\t\t                shrink: true,\n\t\t\t              }}\n\t\t\t            />\n\t\t\t            </Grid>\n\t\t\t        \t</React.Fragment>\n\n\t\t\t\t\t}\n\t\t\t\t\t<Grid item xs={2}>\n\t\t            \t<Button variant=\"outline\" color=\"primary\" onClick={this.handleAddScore.bind(this)}>Add</Button>\n\t\t            </Grid>\n\t\t        </Grid>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\t\t\n\t\t</Grid>\n\n\t\t<Grid item xs={12}>\n\t\t\t<ScoreDataView \n\t\t\t\twodID={this.state.wodMD.get(\"wodID\")} \n\t\t\t/>\n\t\t</Grid>\n\t\t<Grid item xs={12}>\n\t\t\t<Paper>\n\t\t\t{this.state.scores.length > 0?\n\t\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table aria-label=\"score table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableCell>Username</TableCell>\n\t\t\t\t\t<TableCell>Score</TableCell>\n\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.scores.map(score => {\n\t\t\t\t\t\tlet isCurUserScore = \n\t\t\t\t\t\t\t(this.state.userMD[\"uid\"] == score.get(\"uid\"))? true : false\n\t\t\t\t\t\treturn <ScoreRow \n\t\t\t\t\t\t\tinfo={score}\n\t\t\t\t\t\t\thandleRemoveScore = {this.handleRemoveScore.bind(this)}\n\t\t\t\t\t\t\tisUserScore={isCurUserScore} \n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t    </TableBody>\n\t\t\t    </Table>\n\t\t\t    </TableContainer>\n\t\t\t:\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Card variant=\"outlined\" color=\"primary\">\n\t\t\t\t\t  <CardContent>\n\t\t\t\t\t    <Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t   \tNo Scores!\n\t\t\t\t\t    </Typography>\n\t\t\t\t\t   </CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\t</Paper>\n\t\t</Grid>\n\t\t<Grid item xs={12} align=\"center\">\n\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={()=>{this.props.handleBack()}}>Back</Button>\n\t\t</Grid>\n\t\t<Modal\n\t        open={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        aria-labelledby=\"simple-modal-title\"\n\t        aria-describedby=\"simple-modal-description\"\n\t\t    >\n\t    \t<div style={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\twidth: \"80vw\",\n\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t}}>\n\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t    \t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\",justifyContent: \"center\"}}>\n\t    \t\t\t<Typography style={{position: \"\"}}>\n\t    \t\t\t\t Remove score?\n\t    \t\t\t</Typography>\n\t    \t\t\t\n\t    \t\t\t<Button color=\"primary\" variant=\"outlined\" \n\t    \t\t\t\tonClick={()=>{ this.removeScore()}}>\n\t    \t\t\t\t\tDelete\n\t    \t\t\t</Button>\n\t    \t\t</Paper>\n\t    \t\t</Grid>\n\t    \t</div>\n\t\t</Modal>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default ScoreView = withTheme(ScoreView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\n\nimport {editWod} from \"../../utils/firebaseData\"\n\n\nvar db = firebase.database();\n\nexport default class EditWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\t\n\n\t\tthis.state = {\n\t\t\twodInfo: props.wodInfo,\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes,\n\t\t\topen: props.open,\n\t\t\tonClose: props.onClose,\n\t\t\ttitle: props.title,\n\t\t\twodText: props.wodText\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\t\n\n\teditWOD(){\n\t  \tlet boxID = document.getElementById(\"editOwnerBoxAddWodBoxID\").value\n\t  \tlet title = document.getElementById(\"editOwnerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"editOwnerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"editOwnerBoxAddWodWodText\").value\n\t  \tlet wodID = this.state.wodInfo.get(\"wodID\")\n\n\t  \tif(!boxID || !title || !scoreType || !wodText || !wodID){\n\t  \t\tconsole.log(\"Error with input editWod\")\n\t  \t\tconsole.log(boxID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\n\t  \teditWod(boxID, wodID, title, wodText, scoreType)\n\t  \t.then((res)=> {\n\t  \t\tconsole.log(res)\n\t  \t\tthis.props.onClose()\n\t  \t})\n\t  \t.catch((err)=>{console.log(err)})\n\n\t  }\n\n\thandleValChange(ev, val){\n\t\tconst name = ev.target.name;\n\t\tconsole.log(name, val)\n\t    this.setState({\n\t      [name]: ev.target.value\n\t  \t})\n\t}\n\n\trender(){\n\t\tlet oldScoreType = this.state.wodInfo.get(\"scoreType\")\n\t\tlet scoreTypes = [\"time\", \"reps\"]\n\t\tlet oldBoxID = this.state.wodInfo.get(\"boxID\")\n\t\treturn(\n\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"edit-wod-modal\"\n\t\t\t    aria-describedby=\"edit-wod\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t Edit Wod({this.state.wodInfo.get(\"wodID\")})\n\t\t    \t\t\t</Typography>\n\n\n\t\t    \t\t\t<Grid item container xs={12}>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t    <Select\n\t\t\t\t\t          native\n\t\t\t\t\t          inputProps={{\n\t\t\t\t\t            name: 'Box',\n\t\t\t\t\t            id: 'editOwnerBoxAddWodBoxID',\n\t\t\t\t\t          }}\n\t\t\t\t\t        >\n\t\t\t\t\t          { this.state.hasBoxes ?\n\t\t\t\t\t          \tthis.state.userBoxes\n\t\t\t\t        \t\t.map((box, i) => {\n\t\t\t\t\t        \t\tlet boxID = box.get(\"boxID\")\n\t\t\t\t\t        \t\treturn (\n\t\t\t\t\t        \t\t\t<option \n\t\t\t\t        \t\t\t\t\tkey={i}\n\t\t\t\t        \t\t\t\t\tvalue={boxID}\n\t\t\t\t        \t\t\t\t\tselected={oldBoxID === boxID? true: false}\n\t\t\t\t        \t\t\t\t>\n\t\t\t\t        \t\t\t\t\t{box.get(\"title\")}\n\t\t\t\t        \t\t\t\t</option>\n\t\t\t\t\t        \t\t)\n\t\t\t\t\t        \t})\n\t\t\t\t\t        \t:\n\t\t\t\t\t        \t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t\t\t          }\n\t\t\t\t\t      </Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={6}>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t  native\n\t\t\t\t\t\t\t  inputProps={{\n\t\t\t\t\t\t\t    name: 'Score Type',\n\t\t\t\t\t\t\t    id: 'editOwnerBoxAddWodScoreType',\n\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tscoreTypes.map((scoreType) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<option \n\t\t\t\t\t\t\t\t\t\t      \tvalue={scoreType}\n\t\t\t\t\t\t\t\t\t\t      \tselected={oldScoreType === scoreType? true: false}\n\t\t\t\t\t\t\t\t\t\t      >\n\t\t\t\t\t\t\t\t\t\t      \t{scoreType}\n\t\t\t\t\t\t\t\t\t\t    </option>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t    </Grid>\n\t\t\t\t\t    <Grid item xs={12}>\n\t\t\t\t          <TextField\n\t\t\t\t              id=\"editOwnerBoxAddWodTitle\"\n\t\t\t\t              type=\"text\"\n\t\t\t\t              name=\"title\"\n\t\t\t\t              style={{ margin: 8}}\n\t\t\t\t              value= {this.state.title}\n\t\t\t\t              onChange={this.handleValChange.bind(this)}\n\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t              inputProps={{\n\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t                placeholder: \"Title\"\n\t\t\t\t              }}\n\t\t\t\t              margin=\"normal\"\n\t\t\t\t              color=\"primary\"\n\t\t\t\t              InputLabelProps={{\n\t\t\t\t                shrink: true,\n\t\t\t\t              }}\n\t\t\t\t            />\n\t\t\t\t        </Grid>\n\t\t\t\t        <Grid item xs={12}>\n\t\t\t\t             <TextField\n\t\t\t\t              id=\"editOwnerBoxAddWodWodText\"\n\t\t\t\t              type=\"text\"\n\t\t\t\t              name=\"wodText\"\n\t\t\t\t              style={{ margin: 8}}\n\t\t\t\t              value= {this.state.wodText}\n\t\t\t\t              onChange={this.handleValChange.bind(this)}\n\t\t\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t\t\t              inputProps={{\n\t\t\t\t                title: \"Letters only, max length 35\",\n\t\t\t\t                placeholder: \"Workout here\"\n\t\t\t\t              }}\n\t\t\t\t              margin=\"normal\"\n\t\t\t\t              color=\"primary\"\n\t\t\t\t              multiline\n  \t\t\t\t\t  \t\t  rows={5}\n\t\t\t\t              InputLabelProps={{\n\t\t\t\t                shrink: true,\n\t\t\t\t              }}\n\t\t\t\t            />\n\t\t\t\t        </Grid>\n\t\t\t\t\t      <Grid item xs={12}>\n\t\t\t\t\t\t      <Button \n\t\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t\t      \tonClick={this.editWOD.bind(this)}\n\t\t\t\t\t\t      >\n\t\t\t\t\t\t      \tUpdate\n\t\t\t\t\t\t      </Button>\n\t\t\t\t\t      </Grid>\n\t\t\t\t\t         <Grid item xs={12}>\n\t\t\t\t\t\t      <Button \n\t\t\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t\t\t      \tonClick={this.props.onClose}\n\t\t\t\t\t\t      >\n\t\t\t\t\t\t      \tCancel\n\t\t\t\t\t\t      </Button>\n\t\t\t\t\t      </Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t\t\n\t\t)\n\t}\n}","// Firebase\nimport firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport ReactMarkdown from 'react-markdown'\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport {msToDate} from \"../utils/formatting\"\n\nclass SearchSortTable extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\theaders: props.headers,\n\t\t\trows: props.rows,\t\t\n\t\t\tfilteredRows: props.filteredRows,\n\t\t\torderTableBy: \"date\",\n\t\t\torderTable: \"asc\",\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage:5,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: 5\n\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\t/*\n\t\tSearch Table\n\t*/\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tconsole.log(val)\n\t\tlet filteredRows = this.state.rows.filter(wod =>{\n\t\t  return wod.get(\"title\").toLowerCase().includes(val.toLowerCase())\n\t\t})\n\n\t\tthis.setState({filteredRows: filteredRows})\n\t}\n\n\t/*\n\t\tSort Table\n\t*/ \n\tdescendingComparator(a, b, orderBy) {\n\t\tif (b.get(orderBy) < a.get(orderBy)) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (b.get(orderBy) > a.get(orderBy)) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tgetComparator(order, orderBy) {\n\t\treturn order === 'desc'\n\t\t? (a, b) => this.descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -this.descendingComparator(a, b, orderBy);\n\t}\n\n\tstableSort(comparator) {\n\t\tlet arr = this.state.filteredRows\n\t\tconst stabilizedThis = arr.map((el, index) => [el, index]);\n\n\t\tstabilizedThis.sort((a, b) => {\n\t\t\tconst order = comparator(a[0], b[0]);\n\t\t\t\n\t\t\tif (order !== 0) return order;\n\t\t\treturn a[1] - b[1];\n\t\t});\n\t\treturn stabilizedThis.map((el) => el[0]);\n\t}\n\n\tcreateSortHandler(orderBy){\n\t\tlet isAsc = \n\t\t\tthis.state.orderTableBy === orderBy &&\n\t\t\tthis.state.orderTable === \"asc\"\n\t\tthis.setState({\n\t\t\torderTableBy: orderBy,\n\t\t\torderTable: isAsc? \"desc\" : \"asc\"\n\t\t}) \n\t}\n\n\thandleChangePage(ev, newPage){\n\t\tlet start = newPage * this.state.rowsPerPage\n\t\tlet end = (newPage * this.state.rowsPerPage) + this.state.rowsPerPage\n\t\tthis.setState({\n\t\t\tpageNum: newPage,\n\t\t\tpageStart: start,\n\t\t\tpageEnd: end\n\t\t})\n\t}\n\n\thandleChangeRowsPerPage(ev){\n\t\tlet rowsPerPage = parseInt(ev.target.value)\n\t\tconsole.log(rowsPerPage)\n\t\tthis.setState({\n\t\t\tpageNum: 0,\n\t\t\trowsPerPage: rowsPerPage,\n\t\t\tpageStart: 0,\n\t\t\tpageEnd: rowsPerPage\n\t\t})\n\t}\n\n\n\n\n  render(){\n\treturn(\n\t\t<Grid item xs={12} align=\"center\">\n\t\t<Paper elevation={2}>\n\t\t    <Paper elevation={2} component=\"form\">\n\t\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant=\"outlined\"\n\t\t\tonKeyUp={this.onKeyUp.bind(this)}\n\t\t\tonChange={this.onChange.bind(this)}\n\t\t\tplaceholder=\"Search\"\n\t\t\tInputProps={{\n\t\t\t  startAdornment: (\n\t\t\t    <InputAdornment position=\"start\">\n\t\t\t      <SearchIcon color=\"primary\" />\n\t\t\t    </InputAdornment>\n\t\t\t  ),\n\t\t\t}}\n\t\t\t/>\n\t\t\t</Paper>\n\n\t\t\t<Grid container item xs={12}>\n\t\t\t<TableContainer>\n  \t\t\t<Table>\n\t\t\t<TableHead>\n\t\t    \t<TableRow>\n\t\t    \t{\n\t\t    \t\tthis.state.headers.map((header)=>{\n\t\t\t        \treturn (\n\t\t\t        \t<TableCell>\n\t\t\t        \t\t{\n\t\t\t        \t\t\theader.sortable?\n\t\t\t\t\t        \t\t<TableSortLabel\n\t\t\t\t\t\t              active={header.id === this.state.orderTableBy}\n\t\t\t\t\t\t              direction={header.id === this.state.orderTableBy?  this.state.orderTable: \"asc\"}\n\t\t\t\t\t\t              onClick={()=>{ this.createSortHandler(header.id)}}\n\t\t\t\t\t\t            >            \n\t\t\t\t\t        \t\t\t{header.label}\n\t\t\t\t\t\t\t        </TableSortLabel>\n\t\t\t\t\t\t\t    :\n\t\t\t\t\t\t\t    \t<React.Fragment>{header.label}</React.Fragment>\n\t\t\t        \t\t}\n\t\t\t        \t</TableCell>)\n\t\t    \t\t})\n\t\t    \t}\n\t\t    \t</TableRow>\n\t\t    </TableHead>\n\n\t\t    <TableBody>\n\t\t\t\t{this.state.filteredRows.length > 0\n\t\t\t\t?\n\t\t\t\t\tthis.stableSort(\n\t\t\t\t\t\tthis.getComparator(\n\t\t\t\t\t\t\tthis.state.orderTable,\n\t\t\t\t\t\t\tthis.state.orderTableBy\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.slice(this.state.pageStart, this.state.pageEnd)\n\t\t\t\t\t.map(row => {\n\t\t\t\t\t\treturn <Wod \n\t\t\t\t\t\t\thandleView={this.props.handleView}\n\t\t\t\t\t\t\thandleRemove={this.props.handleRemove}\n\t\t\t\t\t\t\thandleEdit={this.props.handleEdit}\n\t\t\t\t\t\t\tinfo={row}\n\t\t\t\t\t\t\tshowOwnerBtns={this.props.showOwnerBtns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t:\n\t\t\t\t\t\n\t\t\t\t\t<span>No data!</span>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t    </TableBody>\n  \t\t\t</Table>\n\t\t    </TableContainer>\n\t\t     <TablePagination\n\t          rowsPerPageOptions={[5, 10, 25]}\n\t          component=\"div\"\n\t          count={this.state.filteredRows.length}\n\t          rowsPerPage={this.state.rowsPerPage}\n\t          page={this.state.pageNum}\n\t          onChangePage={this.handleChangePage.bind(this)}\n\t          onChangeRowsPerPage={this.handleChangeRowsPerPage.bind(this)}\n\t        />\n\t\t\t</Grid>\n\t\t</Paper>\n\t\t</Grid>\n\t)\n  }\n}\n\nfunction Wod(props){\n\tlet title = props.info.get(\"title\")\n\tlet scoreType = props.info.get(\"scoreType\")\n\tlet wodText = props.info.get(\"wodText\")\n\tlet date = props.info.get(\"date\")\n\treturn(\n\t\t<TableRow>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{msToDate(date)}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t{scoreType}\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Typography variant=\"h5\" component=\"h2\"gutterBottom>\n\t\t\t\t\t<ReactMarkdown>{wodText}</ReactMarkdown>\n\t\t\t\t</Typography>\n\t\t\t</TableCell>\n\t\t\t<TableCell>\n\t\t\t\t<Button size=\"small\" color=\"primary\" \n\t\t\t\t\tonClick={() => props.handleView(props.info)}>\n\t\t\t\t\tView Scores\n\t\t\t\t</Button>\n\t\t\t</TableCell>\n\t\t\t<React.Fragment>\n\t\t\t{\n\t  \t\t\tprops.showOwnerBtns\n\t  \t\t\t?\n\t\t\t\t<TableCell>\n\t\t\t    <Button size=\"small\" \n\t\t\t    \tcolor=\"secondary\" \n\t\t\t    \tonClick={() => props.handleEdit(props.info)}>\n\t\t\t    \tEdit\n\t\t\t    </Button>\n\t\t\t\t</TableCell>\n\t\t  \t\t:\n\t\t  \t\t<React.Fragment></React.Fragment>\n\t  \t\t}\n\t  \t\t</React.Fragment>\n\n\t\t\t<React.Fragment>\n\t\t\t{\n\t  \t\t\tprops.showOwnerBtns\n\t  \t\t\t?\n\t\t\t\t<TableCell>\n\t\t\t    <Button size=\"small\" \n\t\t\t    \tcolor=\"error\" \n\t\t\t    \tonClick={() => props.handleRemove(props.info)}>\n\t\t\t    \tRemove\n\t\t\t    </Button>\n\t\t\t\t</TableCell>\n\t\t  \t\t:\n\t\t  \t\t<React.Fragment></React.Fragment>\n\t  \t\t}\n\t  \t\t</React.Fragment>\n\t\t</TableRow>\n\t)\n}\n\nexport default SearchSortTable = withTheme(SearchSortTable);","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\n\n\nexport default class ActionCancelModal extends Component{\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\topen: props.open\n\t\t}\n\t\tconsole.log(\"Modal\")\n\t\tconsole.log(this)\n\t}\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Modal\n\t\t\t    open={this.state.open}\n\t\t\t    onClose={this.props.onClose}\n\t\t\t    aria-labelledby=\"simple-modal-title\"\n\t\t\t    aria-describedby=\"simple-modal-description\">\n\t\t\t\t<div style={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\twidth: \"80vw\",\n\t\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t\t}}>\n\t\t\t\t\t<Grid \n\t\t\t\t\t\titem \n\t\t\t\t\t\talign=\"center\" \n\t\t\t\t\t\txs={12}\n\t\t\t\t\t>\n\t\t\t\t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\n\t\t    \t\t\t<Typography style={{position: \"\"}}>\n\t\t    \t\t\t\t {this.props.modalText}\n\t\t    \t\t\t</Typography>\n\n\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"primary\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onAction()}}>\n\t\t    \t\t\t\t{this.props.actionText}\n\t\t    \t\t\t</Button>\n\t\t    \t\t\t<Button \n\t\t    \t\t\t\tcolor=\"error\"\n\t\t    \t\t\t\tvariant=\"outlined\" \n\t\t    \t\t\t\tonClick={()=>{ this.props.onClose()}}>\n\t\t    \t\t\t\t{this.props.cancelText}\n\t\t    \t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t)\n\t}\n\n}\n\n","// Firebase\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n// React\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\n// Material UI\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, CardActions, Card, CardContent,\n\tModal, InputAdornment, TableBody, Table, TableCell, TableContainer,\n\tTableHead, TablePagination, TableRow, TableSortLabel\n} from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\n\n// WodTrackrr\nimport ScoreView from \"../scores/scoreView\"\nimport EditWod from \"../wods/editWod\"\nimport { removeWod } from \"../../utils/firebaseData\"\nimport SearchSortTable from \"../searchSortTable\"\nimport ActionCancelModal from \"../actionCancelModal\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n\n/*\n\tGiven:\n\t\tuserMD: props.userMD,\n\t\tboxID: props.boxID,\n\tShow:\n\t\tdetails of Box and its WODS, allows for removal of wods by owner\n*/\n\n\nclass BoxView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserMD: props.userMD,\n\t\t\tboxID: props.boxID,\n\t\t\tboxMD: new Map(),\n\t\t\tuserBoxes: props.userBoxes, // from boxListAccordion from OwnerBox\n\t\t\thasBoxes: props.hasBoxes,   // from boxListAccordion from OwnerBox\n\t\t\twods: new Array(),\n\t\t\tshowWodList: true,\n\t\t\tcurrentWodID: \"\",\n\t\t\tcurrentWodMD: new Map(),\n\t\t\tshowRemoveAlert: false,\n\t\t\tshowEditModal: false,\n\t\t\teditWodInfo: new Map(),\n\t\t\tcurRemoveWodBoxID: \"\",\n\t\t\tcurRemoveWodID: \"\",\n\t\t\tcurRemoveWodTitle: \"\"\n\n\t\t}\n\t\tthis.wodPath = `wods/${this.props.boxID}`\n\t\tthis.boxPath = `boxes/${this.props.boxID}`\n\t}\n\n\n\tcomponentDidMount(){\n\t\tthis.boxListener  = db.ref(this.boxPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet boxMD = new Map(Object.entries(ss.val()))\n\t\t\t\tthis.setState({boxMD: boxMD})\n\t\t\t}\n\t\t})\n\n\t\tthis.wodListener  = db.ref(this.wodPath).on(\"value\", ss => {\n\t\t\tif(ss && ss.exists()){\n\t\t\t\tlet wods = this.objListToArray(ss.val())\n\t\t\t\tthis.setState({\n\t\t\t\t\twods: wods\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcomponentWillUnmount(){\n\t\tthis.wodListener()\n\t\tthis.boxListener()\n\t}\n\n\t// \n\tobjListToArray(obj){\n\t\treturn Array.from(Object.entries(obj), entry => {\n\t\t\t return new Map(Object.entries(entry[1]));\n\t\t})\n\t}\n\n\thandleScoreView(wodMD){\n\t\tthis.setState({showWodList: false, currentWodMD: wodMD})\n\t}\n\n\thandleBack(){\n\t\tthis.setState({showWodList: true})\n\t}\n\n\thandleModalClose(){\n\t  \tthis.setState({showRemoveAlert:false})\n\t  }\n\n\thandleRemoveWod(wodInfo){\n\t\tconsole.log(wodInfo)\n\t\tthis.setState({\n\t\t\tshowRemoveAlert: true,\n\t\t\tcurRemoveWodBoxID: wodInfo.get(\"boxID\"),\n\t\t\tcurRemoveWodID: wodInfo.get(\"wodID\"),\n\t\t\tcurRemoveWodTitle: wodInfo.get(\"title\"),\n\t\t})\n\t}\n\n\tdeleteWod(){\n\t\tlet wodPath = `wods/${this.state.curRemoveWodBoxID}/${this.state.curRemoveWodID}`\n\t\tlet scorePath = `scores/${this.state.curRemoveWodID}`\n\n\t\tremoveWod(wodPath, scorePath)\n\t\t.then((res) => {\n\t\t\tconsole.log(res)\n\t\t\tthis.setState({showRemoveAlert: false})\n\t\t})\n\t}\n\n\tonKeyUp(data){\n\t\tif((data.keyCode || data.which) == 13){\n\t\t    \n\t\t}\n\t}\n\t/*\n\t\tSearch bar, filter by name\n\t*/\n\tonChange(ev){\n\t\tlet val = ev.target.value\n\t\tlet filteredWods = this.state.wods.filter(wod =>{\n\t\t  return wod.get(\"title\").toLowerCase().includes(val.toLowerCase())\n\t\t})\n\t\tthis.setState({filteredWods: filteredWods})\n\t}\n\n\n\thandleEdit(info){\n\t\tconsole.log(\"Populate with info, show in modal with form\")\n\t\tconsole.log(info)\n\t\tthis.setState({\n\t\t\teditWodInfo: info,\n\t\t\tshowEditModal: true\n\t\t})\n\t}\n\thandleEditModalClose(){\n\t\tthis.setState({showEditModal: false})\n\t}\n\n  render(){\n  \tlet showOwnerBtns = this.state.boxMD.get(\"ownerUID\") === this.state.userMD.uid && !this.props.isReadOnly\n\n\n \tlet sortableHeadersOwner = [\n \t\t{id:\"date\", sortable:true, label:\"Date\"},\n \t\t{id:\"title\", sortable:true, label:\"Title\"},\n \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n \t\t{id:\"view\", sortable:false, label:\"\"},\n \t\t{id:\"edit\", sortable:false, label:\"\"},\n \t\t{id:\"remove\", sortable:false, label:\"\"}\n \t]\n \tlet sortableHeadersUser = [\n \t\t{id:\"date\", sortable:true, label:\"Date\"},\n \t\t{id:\"title\", sortable:true, label:\"Title\"},\n \t\t{id:\"scoreType\", sortable:true, label:\"Scoring\"},\n \t\t{id:\"wodText\", sortable:false, label:\"Wod\"},\n \t\t{id:\"view\", sortable:false, label:\"\"}\n \t]\n \n\treturn(\n\t\t<Grid item xs={12} align=\"center\">\n\t\t<Paper elevation={2}>\n\t\t\t<Typography align=\"center\" variant=\"h3\">{this.state.boxMD.get(\"title\")}</Typography>\n\n\n\t\t\t{this.state.showWodList\n\t\t\t?\t\n\t\t\t\t<React.Fragment>\n\t\t\t\t{\n\t\t\t\t\tthis.state.wods.length > 0?\n\t\t\t\t\t<SearchSortTable\n\t\t\t\t\t\trows = {this.state.wods}\n\t\t\t\t\t\tfilteredRows={this.state.wods}\n\t\t\t\t\t\theaders={showOwnerBtns? sortableHeadersOwner: sortableHeadersUser}\n\t\t\t\t\t\thandleView={this.handleScoreView.bind(this)}\n\t\t\t\t\t\thandleRemove={this.handleRemoveWod.bind(this)}\n\t\t\t\t\t\thandleEdit={this.handleEdit.bind(this)}\n\t\t\t\t\t\tshowOwnerBtns={showOwnerBtns}\n\t\t\t\t\t/>\n\t\t\t\t\t:\n\t\t\t\t\t<React.Fragment></React.Fragment>\n\n\t\t\t\t}\n\t\t\t\t</React.Fragment>\n\t\t\t:\n\t\t\t\t<ScoreView \n\t\t\t\t\tuserMD={this.state.userMD}\n\t\t\t\t\twodMD={this.state.currentWodMD} \n\t\t\t\t\thandleBack={this.handleBack.bind(this)}/>\n\n\t\t\t}\n\t\t</Paper>\n\n\n\n\t\t<Grid item xs={12} align=\"center\">\n\t\t\t<Button variant=\"outlined\" color=\"secondary\" onClick={()=>{this.props.handleBack()}}>Back</Button>\n\t\t</Grid>\n\t\t<ActionCancelModal\n\t\t\topen={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        onAction={this.deleteWod.bind(this)}\n\t        modalText={ `Remove ${this.state.curRemoveWodTitle} (${this.state.curRemoveWodID})?`}\n\t        actionText={\"Delete\"}\n\t        cancelText={\"Cancel\"}\n\t\t/>\n\n\t\t<EditWod \n\t\t\topen={this.state.showEditModal}\n\t\t\tonClose={this.handleEditModalClose.bind(this)}\n\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\twodInfo={this.state.editWodInfo}\n\t\t\ttitle={this.state.editWodInfo.get(\"title\")}\n\t\t\twodText={this.state.editWodInfo.get(\"wodText\")}\n\n\t\t/>\n\t\t</Grid>\n\t)\n  }\n}\n\n\n\n\n  \nexport default BoxView = withTheme(BoxView);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment,  }\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"./boxView\" \n\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\nclass BoxSearch extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      isOwner: props.isOwner,\n      allBoxes: props.allBoxes,\n      filteredBoxes: props.allBoxes\n    }  \n  }\n\n  componentDidMount(){\n  \tthis.setState({filteredBoxes: this.props.allBoxes})\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        \n    }\n  }\n\n  onChange(ev){\n    let val = ev.target.value\n    let filteredBoxes = this.state.allBoxes.filter(box =>{\n      return box.get(\"title\").toLowerCase().includes(val.toLowerCase())\n    })\n    this.setState({filteredBoxes: filteredBoxes})\n  }\n\n  render () {\n    return (\n      <Grid item xs={12} >\n      <Paper elevation={2} component=\"form\">\n  \n       <TextField\n       fullWidth\n        variant=\"outlined\"\n        onKeyUp={this.onKeyUp.bind(this)}\n        onChange={this.onChange.bind(this)}\n        placeholder=\"Search Boxes\"\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon color=\"primary\" />\n            </InputAdornment>\n          )\n        }}\n      />\n      \n      </Paper>\n      <Grid item xs={12}>\n        {\n          this.state.filteredBoxes.map((box, i) => {\n            return <Box \n                    key={i} \n                    info={box} \n                    color={this.props.theme.palette.primary.mainGrad}\n                    handleBoxView={this.props.handleBoxView}\n                    handleRemoveBox={this.props.handleRemoveBox}\n                    isOwner={this.props.isOwner}\n                    />\n          })\n        }\n      </Grid>\n      </Grid>\n    );\n  }\n}\n\n\nfunction Box(props){\n  let title = props.info.get(\"title\")\n  let boxID = props.info.get(\"boxID\")\n  return(\n    <Grid item xs={12}>\n      <Paper>\n        <Grid container itemxs={12}>\n        <Grid item xs={10}>\n          <Typography align=\"left\" style={{padding: \"2.5vw\"}} variant=\"body1\">\n            {title}\n          </Typography>\n        </Grid>\n\n        <Grid container item xs={2} align=\"center\" alignItems='center'>\n          <Button \n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={()=>{props.handleBoxView(boxID)}}>\n              View\n          </Button>\n          {\n            props.isOwner\n            ?\n              <Button variant=\"outlined\" color=\"error\" \n                onClick={()=>{props.handleRemoveBox(boxID, title)}}>Remove</Button>\n            :\n            <React.Fragment></React.Fragment>\n          }\n        </Grid>\n      </Grid>\n      </Paper>\n    </Grid>)\n}\n\nexport default BoxSearch = withTheme(BoxSearch);\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport \n{Grid, Paper, Button, Typography, Collapse, IconButton, TextField,\nInputBase, InputAdornment,  }\nfrom '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport BoxView from \"../comps/boxes/boxView\" \nimport BoxSearch from \"../comps/boxes/boxSearch\" \n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\nvar db = firebase.database();\n\n\nclass BoxSearchPage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      showBoxView: false,\n      allBoxes: [],\n      currentBoxID: null\n    }  \n  }\n\n\n  componentDidMount(){\n    this.allBoxesListener = db.ref(\"boxes\")\n    .on('value', ss => {\n      if(ss && ss.exists()){\n        let arr = this.objectsToArray(ss.val())\n        arr.sort((x, y) => {return x.get(\"title\").toLowerCase() > y.get(\"title\").toLowerCase() ? -1 : 1})\n        \n        this.setState({\n          allBoxes: arr\n        })\n      }\n    })\n  }\n\n\n  componentWillUnmount(){\n    if(this.allBoxesListener !== undefined){\n      this.allBoxesListener()\n    }\n  }\n\n    objectsToArray(obj){\n    return Array.from(Object.entries(obj), entry => {\n       return new Map(Object.entries(entry[1]));\n    })\n  }\n\n  handleBoxView(boxID){\n    this.setState({showBoxView: true, currentBoxID: boxID})\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n  handleBack(){\n    this.setState({showBoxView: false})\n  }\n\n\n  render () {\n    return (\n    \t<Grid item xs={12} >\n      {!this.state.showBoxView\n        ?\n          <React.Fragment>\n          {\n            this.state.allBoxes.length > 0?\n            <BoxSearch \n                handleBoxView={this.handleBoxView.bind(this)}\n                allBoxes={this.state.allBoxes}\n                isOwner={false}\n                handleRemoveBox={this.props.handleRemoveBox}\n            />\n            :\n            <React.Fragment></React.Fragment>\n          }\n          </React.Fragment>\n        :\n        \n        <BoxView userMD={this.state.userMD} \n          handleBack={this.handleBack.bind(this)} \n          boxID={this.state.currentBoxID}\n          isReadOnly={true}\n        />\n\n      }\n      \n  \t\t</Grid>\n    )\n  }\n}\nexport default BoxSearchPage = withTheme(BoxSearchPage);\n","import firebase from \"../../context/firebaseContext\"\n// import * as firebase from \"firebase/app\";\nimport \"firebase/auth\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport postData from \"../../utils/api\"\nimport \"../../css/login.css\"\nimport \"../../styles.css\"\n\n\nexport default class Login extends Component {\n  \n  handleSubmit(ev){\n    let email = document.getElementById('email')\n\n    let pass1 = document.getElementById('password')\n    let pass2 = document.getElementById('passwordConfirm')\n    \n    console.log(email.value, pass1)\n  \n    firebase.auth().signInWithEmailAndPassword(email.value, pass1.value)\n    .then(res=>{\n      console.log(\"Firebase res\")\n      console.log(res)\n      this.props.onLogin(res.user)\n    })\n    .catch(function(error) {\n      console.log(error)\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // ...\n    });\n  }\n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  render () {\n    return (\n      <Grid container id=\"login\" align=\"center\" justify=\"center\">\n        <br />\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Typography variant=\"h4\">\n              Login\n            </Typography>\n          \n            <br />\n        \n            <TextField\n            id=\"email\"\n            style={{ margin: 8 }}\n            placeholder=\"Email\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            /><br /><br />\n            <TextField\n            id=\"password\"\n            type=\"password\"\n            style={{ margin: 8 }}\n            placeholder=\"Passowrd\"\n            margin=\"normal\"\n            InputLabelProps={{\n            shrink: true,\n            }}\n            />\n            <br/><br/>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} >\n          <Paper elevation=\"2\">\n            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit.bind(this)}>\n              Login\n            </Button>\n            <Link to=\"/register\" className=\"no-line\" style={{'padding-left': '10px'}}>\n              <Button variant=\"outlined\" color=\"secondary\" >\n                Register\n              </Button>\n            </Link>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\n\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress, Modal\n} \nfrom '@material-ui/core';\n\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport BoxView from \"./boxView\" \nimport BoxSearch from \"./boxSearch\" \n\nimport {removeBox} from \"../../utils/firebaseData\"\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n/*\nAccordion to toggle between list of boxes and the box view component\n**box view compnent will be sued in search as well\n\n\n*/\n\n\nclass BoxListAccordion extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: props.userBoxes,\n      hasBoxes: props.hasBoxes,\n      showBoxList: true,\n      currentBoxID: \"\",\n      showRemoveAlert: false,\n      curRemoveBoxID: \"\",\n      curRemoveBoxTitle: \"\"\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n  componentWillUnmount(){\n  \tconsole.log(\"Component will unmount\")\n  }\n\n  handleBoxView(boxID){\n  \tthis.setState({showBoxList: false, currentBoxID: boxID})\n  }\n\n  handleRemoveBox(boxID, boxTitle){\n  \tthis.setState({\n  \t\tshowRemoveAlert: true, \n  \t\tcurRemoveBoxID: boxID,\n  \t\tcurRemoveBoxTitle: boxTitle\n  \t})\n  }\n\n\n  handleBack(){\n  \tthis.setState({showBoxList: true})\n  }\n\n  handleModalClose(){\n  \tthis.setState({showRemoveAlert:false})\n  }\n\n  deleteBox(){  \t\n  \tremoveBox(this.state.curRemoveBoxID, \n  \t\tthis.state.curRemoveBoxTitle,\n  \t\tthis.state.userMD.uid)\n  \t.then((res)=>{this.handleModalClose()})\n  \t.catch((err)=>{console.log(err)})\n\n  }\n\n  render(){\n\treturn(\n\t<Accordion id=\"BoxListAccordion\">\n\t\t<AccordionSummary\n\t\tstyle={{background: this.props.theme.palette.primary.main}}\n\t\texpandIcon={<ExpandMoreIcon />}\n\t\taria-label=\"Expand\"\n\t\taria-controls=\"additional-actions2-content\"\n\t\tid=\"additional-actions2-header\"\n\t\t>\n\t\t\t<Typography >\n\t\t\t\tBoxes and Wods\n\t\t\t</Typography>\t        \n\t\t</AccordionSummary>\n\t\t<AccordionDetails>\n\t\t{this.state.showBoxList\n\t\t?\n\t\t\t\n\t\t\t<Grid container  item={12}>\n\t\t\t{\n\t\t\t\tthis.state.userBoxes.length > 0\n\t\t\t?\n\t\t\t\t<BoxSearch \n\t\t\t\t\tuser = {this.state.user}\n\t\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\t\tallBoxes = {this.state.userBoxes}\n\t\t\t\t\thandleRemoveBox={this.handleRemoveBox.bind(this)}\n\t\t\t\t\thandleBoxView={this.handleBoxView.bind(this)}\n\t\t\t\t\tisOwner = {true}\n\t\t\t\t/>\n\t\t\t:\n\t\t\t\t<Grid item zeroMinWidth xs={6}>\n\t\t\t\t\t<Paper elevation={4} style={{padding: \"1vw\"}}>\n\t\t\t\t\t\t<Typography noWrap align=\"left\">No boxes Found!</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\t</Grid>\n\t\t:\n\t\t\t<BoxView \n\t\t\t\thandleBack={this.handleBack.bind(this)}\n\t\t\t\tuserMD={this.state.userMD} \n\t\t\t\tboxID={this.state.currentBoxID} \n\t\t\t\tuserBoxes={this.state.userBoxes}\n\t\t\t\thasBoxes={this.state.hasBoxes}\n\t\t\t\tisReadOnly={false}\n\t\t\t/>\n\n\t\t}\n\n\t\t\n\t\t</AccordionDetails>\n\t\t<Modal\n\t        open={this.state.showRemoveAlert}\n\t        onClose={this.handleModalClose.bind(this)}\n\t        aria-labelledby=\"simple-modal-title\"\n\t        aria-describedby=\"simple-modal-description\"\n\t    >\n\t    \t<div style={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: \"50%\",\n\t\t\t\tleft: \"50%\",\n\t\t\t\twidth: \"80vw\",\n\t\t\t    transform: \"translate(-50%, -50%)\",\n\t\t\t}}>\n\t\t\t\t<Grid item align=\"center\" xs={12}>\n\t    \t\t<Paper style={{height:\"25vh\", display: \"flex\", flexDirection: \"column\",justifyContent: \"center\"}}>\n\t    \t\t\t<Typography style={{position: \"\"}}>\n\t    \t\t\t\t Remove {this.state.curRemoveBoxTitle} ({this.state.curRemoveBoxID})\n\t    \t\t\t</Typography>\n\t    \t\t\t\n\t    \t\t\t<Button color=\"primary\" variant=\"outlined\" onClick={()=>{ this.deleteBox()}}>Delete</Button>\n\t    \t\t</Paper>\n\t    \t\t</Grid>\n\t    \t</div>\n\n\t    </Modal>\n\t</Accordion>\t\t\n\t)\n  }\n}\n\n  \nexport default BoxListAccordion = withTheme(BoxListAccordion);\n\n","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress\n} \nfrom '@material-ui/core';\n\nimport {setWod} from \"../../utils/firebaseData\"\n\n\nvar db = firebase.database();\n\nexport default class AddWod extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuserBoxes: props.userBoxes,\n\t\t\thasBoxes: props.hasBoxes\n\t\t}\n\t}\n\n\n\tcomponentWillReceiveProps(newProps){\n\t\tthis.setState({...newProps})\n\t}\n\n\tcreateWOD(){\n\t  \tlet boxID = document.getElementById(\"ownerBoxAddWodBoxID\").value\n\t  \tlet title = document.getElementById(\"ownerBoxAddWodTitle\").value\n\t  \tlet scoreType = document.getElementById(\"ownerBoxAddWodScoreType\").value\n\t  \tlet wodText = document.getElementById(\"ownerBoxAddWodWodText\").value\n\n\t  \tif(!boxID || !title || !scoreType || !wodText){\n\t  \t\tconsole.log(\"Error with input createWod\")\n\t  \t\tconsole.log(boxID, title, scoreType, wodText)\n\t  \t\treturn\n\t  \t}\n\n\t  \tsetWod(boxID, title, wodText, scoreType)\n\t  \t.then((res)=> {console.log(res)})\n\t  \t.catch((err)=>{console.log(err)})\n\n\t  }\n\n\n\trender(){\n\t\treturn(\n\t\t\t<Grid item container xs={12}>\n\t\t\t\t<Grid item xs={6}>\n\t\t\t\t    <Select\n\t\t\t          native\n\t\t\t          inputProps={{\n\t\t\t            name: 'Box',\n\t\t\t            id: 'ownerBoxAddWodBoxID',\n\t\t\t          }}\n\t\t\t        >\n\t\t\t          { this.state.hasBoxes ?\n\t\t\t          \tthis.state.userBoxes\n\t\t        \t\t.map((box, i) => {\n\t\t\t        \t\treturn (<option key={i} value={box.get(\"boxID\")} >{box.get(\"title\")}</option>)\n\t\t\t        \t})\n\t\t\t        \t:\n\t\t\t        \t<option aria-label=\"None\" value=\"\" >No boxes!</option>\n\t\t\t          }\n\t\t\t      </Select>\n\t\t\t    </Grid>\n\t\t\t    <Grid item xs={6}>\n\t\t\t\t\t<Select\n\t\t\t\t\t  native\n\t\t\t\t\t  \n\t\t\t\t\t  inputProps={{\n\t\t\t\t\t    name: 'Score Type',\n\t\t\t\t\t    id: 'ownerBoxAddWodScoreType',\n\t\t\t\t\t  }}\n\t\t\t\t\t>\n\t\t\t\t\t      <option value={\"time\"}>Time</option>\n\t\t\t\t\t      <option value={\"reps\"}>Reps</option>\n\t\t\t\t\t  </Select>\n\t\t\t    </Grid>\n\t\t\t    <Grid item xs={12}>\n\t\t          <TextField\n\t\t              id=\"ownerBoxAddWodTitle\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Title\"\n\t\t              }}\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </Grid>\n\t\t        <Grid item xs={12}>\n\t\t             <TextField\n\t\t              id=\"ownerBoxAddWodWodText\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Workout here\"\n\t\t              }}\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              multiline\n  \t\t\t\t\t  rows={10}\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </Grid>\n\t\t        \n\t\t\t      <Grid item xs={12}>\n\t\t\t\t      <Button \n\t\t\t\t      \tvariant=\"outlined\" \n\t\t\t\t      \tcolor=\"primary\" \n\t\t\t\t      \tonClick={this.createWOD.bind(this)}\n\t\t\t\t      >\n\t\t\t\t      \tEnter WOD\n\t\t\t\t      </Button>\n\t\t\t      </Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n}","import firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport \n{ \tGrid, Paper, Button, Typography, Collapse, TextField, Select,\n\tAccordion, AccordionSummary, AccordionDetails, FormControlLabel,\n\tCircularProgress, LinearProgress\n} \nfrom '@material-ui/core';\n\nimport { Alert } from '@material-ui/lab';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nimport BoxListAccordion from \"./boxListAccordion\"\n\nimport {setBox, setWod, removeWod} from \"../../utils/firebaseData\"\nimport AddWod from \"../wods/addWod\"\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\n\nvar db = firebase.database();\n\n\n\n/*\nAccordion for:\nAdd Box\nShow Boxes\n\n\n*/\n\n\n\nclass OwnerBox extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD,\n      userBoxes: [],\n      hasBoxes: false,\n      addBoxProgress: true,\n      scoreTypeSelectVal: \"\",\n      boxIDSelectVal: \"\"\n    }\n  }\n  \n\n\n  componentDidMount(){\n  \tthis.listenForBoxes()\n  }\n\n \n  componentWillReceiveProps(newProps){\n\tthis.setState({...newProps})\n\tif(newProps.userMD.accountType === \"owner\"){\n\t\tthis.listenForBoxes()\n\t}\n  }\n\n  componentWillUnmount(){\n  \tif(this.boxListener !== undefined){\n    \tthis.boxListener()\n  \t}\n  }\n\n\n  getArrayOfBoxes(boxObj){\n\treturn Array.from(Object.entries(boxObj), entry => {\n\t\t return new Map(Object.entries(entry[1]));\n\t})\n  }\n\n  listenForBoxes(){\n  \tif(this.state.user.uid === null){return}\n  \tlet path = `users/${this.state.user.uid}/boxes`\n  \t\n  \tthis.boxListener = db.ref(path).on('value', ss => {\n  \t\tif(ss != null && ss.exists()){\n\t\t\tthis.setState({\n\t\t\t\thasBoxes: true, \n\t\t\t\tuserBoxes: this.getArrayOfBoxes(ss.val())\n\t\t\t})  \t\t\t\n  \t\t}else{\n  \t\t\tthis.setState({\n\t\t\t\thasBoxes: false, \n\t\t\t\tuserBoxes: []\n\t\t\t})\n  \t\t}\n  \t})\n  }\n  \n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        let a = document.getElementById(\"ownerBoxAddBoxTitle\")\n        let title = a.value\n        this.setState({showAddBoxProgress: true})\n        this.createBox(title)\n    }\n  }\n\n  // import setBox from \"\"\n  createBox(title){\n\tsetBox(title, this.props.user.uid)\n\t.then((res) => {console.log(res)})\n  }\n\n\n  handleSelectValChange(ev){\n\tconst name = ev.target.name;\n\tconsole.log(name)\n    this.setState({\n      [name]: ev.target.value\n  \t})\n  }\n \n  render () {\n    return (\n    \t<Grid item xs={12} id=\"ownerBox\" >\n\t\t\t<Typography variant=\"h3\">\n\t\t\t\tWelcome, {this.state.userMD.accountType}!\n\t\t\t</Typography>\n\t\t\t\n\t\t\t<Accordion>\n\t\t        <AccordionSummary\n\t\t\t\t  style={{background: this.props.theme.palette.primary.mainGrad}}\n\t\t          expandIcon={<ExpandMoreIcon />}\n\t\t          aria-label=\"Expand\"\n\t\t          aria-controls=\"additional-actions1-content\"\n\t\t          id=\"additional-actions1-header\"\n\t\t        >\n\t\t        \t<Typography >\n\t\t        \t\tAdd Box\n\t\t        \t</Typography>\t        \n\t\t        </AccordionSummary>\n\t\t        <AccordionDetails>\n\t\t          <TextField\n\t\t              id=\"ownerBoxAddBoxTitle\"\n\t\t              type=\"text\"\n\t\t              style={{ margin: 8}}\n\t\t              pattern=\"[\\sA-Za-z0-9]{35}\"\n\t\t              inputProps={{\n\t\t                title: \"Letters only, max length 35\",\n\t\t                placeholder: \"Name of box\"\n\t\t              }}\n\t\t              onKeyUp={this.onKeyUp.bind(this) }\n\t\t              margin=\"normal\"\n\t\t              color=\"primary\"\n\t\t              InputLabelProps={{\n\t\t                shrink: true,\n\t\t              }}\n\t\t            />\n\t\t        </AccordionDetails>\n\t\t    </Accordion>\n\t\n\t\t\t<Accordion>\n\t\t        <AccordionSummary\n\t\t\t\t  style={{background: this.props.theme.palette.primary.mainGrad}}\n\t\t          expandIcon={<ExpandMoreIcon />}\n\t\t          aria-label=\"Expand\"\n\t\t          aria-controls=\"additional-actions0-content\"\n\t\t          id=\"additional-actions0-header\"\n\t\t        >\n\t        \t<Typography >\n\t        \t\tAdd WOD\n\t        \t</Typography>\t        \n\t\t        </AccordionSummary>\n\t\t        <AccordionDetails>\n\t\t        {this.state.hasBoxes ?\n\t\t          \t<AddWod\n  \t\t          \tuid={this.state.user.uid}\n  \t\t          \tuserMD={this.state.userMD}\n  \t\t          \tuserBoxes={this.state.userBoxes}\n  \t\t          \thasBoxes={this.state.hasBoxes}\n  \t\t          />\n  \t\t          :\n  \t\t          <span>No boxes</span>\n  \t\t      \t}\n\t\t        </AccordionDetails>\n\t\t    </Accordion>\n\n\t\t  \t<BoxListAccordion \n\t\t  \t\tuser = {this.state.user}\n\t\t\t\tuserMD = {this.state.userMD}\n\t\t\t\tuserBoxes = {this.state.userBoxes}\n\t\t\t\thasBoxes = {this.state.hasBoxes}\n\t\t  \t/>\n\t\t  \n    \t\n  \t\t</Grid>\n    );\n  }\n}\n\n\n\n\nexport default OwnerBox = withTheme(OwnerBox);","// Add the Firebase services that you want to use\nimport firebase from \"../../context/firebaseContext\"\nimport \"firebase/auth\"; \nimport \"firebase/database\"; \n\nimport React, { Component } from 'react'\nimport { Grid, TextField, Button, Typography } from '@material-ui/core';\n\nimport postData from \"../../utils/api\"\nimport \"../../styles.css\"\n\nvar db = firebase.database();\n\nconst usernameMaxLength = 12\nconst usernameMaxLengthErrMsg = \"Username cannot be longer than 12 characters\"\nconst usernameErrMsg = \"Username can only contain letters & numbers\" \n\n\nexport default class UsernamePanel extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n\ncomponentDidMount(){\n  this.hideUsernameInput()\n}\ncomponentDidUpdate(){\n  this.hideUsernameInput()\n}\n\n\n  // <!-- TODO: Add SDKs for Firebase products that you want to use\n  //      https://firebase.google.com/docs/web/setup#available-libraries -->\n\n  updateUsername(ev){\n    let usernameInput = document.getElementById('updateUsernameInput')\n    \n\n    if(usernameInput.style.display === \"none\"){\n      usernameInput.style.display = \"block\"\n\n    }else{\n\n      let re = /\\W/g  // match non word characters ^[A-Za-z0-9]\n    \n      if(usernameInput.value.length > 12){\n        alert(usernameMaxLengthErrMsg)\n        return\n      } \n      if(re.exec(usernameInput.value) !== null ){\n        alert(usernameErrMsg)\n        return\n      }\n      //update \n      if(usernameInput.value.length <= 0){ \n        this.hideUsernameInput()     \n        return \n      }\n\n      db.ref(`users/${this.state.user.uid}/`)\n      .update({\n        \"username\": usernameInput.value\n      })\n      .then(() => {\n       this.hideUsernameInput()\n      })\n      .catch(err => { console.log(err) })\n    }\n  }\n\n  onKeyUp(data){\n    if((data.keyCode || data.which) == 13){\n        this.updateUsername()\n    }\n  }\n\n  hideUsernameInput(){\n    try{\n      let usernameInput = document.getElementById('updateUsernameInput')\n      usernameInput.value = \"\"\n      usernameInput.style.display = \"none\"\n    }catch{return}\n  }\n\n  render () {\n    \n    return (\n    <Grid container id=\"usernamePanel\" >\n    {\n      !this.state.userMD\n      ? \n        <h1> Loading </h1>\n      :\n        <React.Fragment>\n          <Grid item xs={12} >\n            <Typography gutterBottom variant=\"h4\">\n              Username\n            </Typography>\n            <Typography gutterBottom variant=\"h5\">\n              {this.state.userMD.username}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={12} >\n            <Button  \n                variant=\"outlined\" \n                color=\"primary\" \n                onClick={this.updateUsername.bind(this)}\n            >\n              <Typography>\n                  Update Username\n              </Typography>\n            </Button>\n          </Grid>\n          <Grid item xs={12} >\n            <TextField\n              id=\"updateUsernameInput\"\n              type=\"text\"\n              style={{ margin: 8}}\n              pattern=\"[A-Za-z]{12}\"\n              inputProps={{\n                title: \"Letters only, max length 12\",\n                placeholder: \"New username\"\n              }}\n              onKeyUp={this.onKeyUp.bind(this) }\n              margin=\"normal\"\n              color=\"primary\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />    \n          </Grid>\n        </React.Fragment>\n    }\n    </Grid>\n    );\n  }\n}\n\n\n\n","import firebase from \"../context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/database\"; \n\n\nimport React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom';\n\nimport { Grid, Paper, Button, Typography, Collapse } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\n\nimport Login from \"../comps/profile/login\"\nimport OwnerBox from \"../comps/boxes/ownerBox\"\n\nimport UsernamePanel from \"../comps/profile/usernamePanel\"\n\nimport postData from \"../utils/api\"\nimport \"../styles.css\"\n\n\n\nvar db = firebase.database();\n\n\nexport class PageContent extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n  \n  sendVerificationEmail(){\n    this.state.user.sendEmailVerification()\n    .then( () => {\n        this.setState({emailAlertOpen: true})\n    })\n    .catch( err => {console.log(err)})\n  }\n\n  render(){\n    return (\n      <Grid container align=\"center\">\n      <Grid item xs={12}>\n        <Collapse in={this.state.emailAlertOpen}>\n          <Alert onClose={() => {this.setState({emailAlertOpen: false})}}>\n            Email sent!\n          </Alert>\n        </Collapse>\n      </Grid>\n      <Grid item xs={12}>\n          <Paper elevation={2} >\n          </Paper>\n          {\n          !this.state.user.emailVerified\n          ?\n          \n            <Paper elevation={2}>\n              <Button variant=\"outline\" onClick={this.sendVerificationEmail.bind(this)} >\n               <Typography  variant=\"h5\" component=\"h3\">\n                  Send Verification Email\n                </Typography>\n              </Button>\n            </Paper>\n          :\n            <React.Fragment></React.Fragment>\n          }\n\n          \n          <Paper elevation={2}>\n            <OwnerBox user={this.state.user}\n              userMD={this.state.userMD}\n            />\n          </Paper>\n      </Grid>\n\n\n\n\n      <Grid item xs={12}>\n        <Grid item xs={12} className=\"compBorderOutline\">\n          <Paper elevation={2}>\n            <Button variant=\"outlined\" color=\"secondary\"\n                      onClick={this.props.onLogout}>\n                  <Typography variant=\"h6\" component=\"h6\">\n                    Logout\n                  </Typography>\n            </Button>\n          </Paper>\n          \n        </Grid>\n      </Grid>\n    </Grid>\n\n    )\n  }\n}\n\n\n\nexport default class ProfilePage extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: props.user,\n      userMD: props.userMD\n    }  \n  }\n\n \n  handleLogout(){\n    firebase.auth().signOut().then(() => {\n      alert('Signed Out');\n      this.setState({user: null})\n    }, (error) => {\n      console.error('Sign Out Error', error )\n    });\n  }\n\n  /*\n    login.js has the form and does the login, calls this with the user obj\n  */\n  handleLogIn(user){\n      this.setState({user: user} )\n  }\n\n  componentWillReceiveProps(newProps){\n    this.setState({...newProps})\n  }\n\n\n  render () {\n    \n    return (\n    \t<Grid item xs={12} id=\"profilepage\">\n        {\n          this.state.user !== null\n          ? <PageContent \n                onLogout={this.handleLogout.bind(this)} \n                user= {this.state.user}\n                userMD={this.state.userMD}\n            />\n          : <Login \n            onLogin={this.handleLogIn.bind(this)} />\n        }\n  \t\t</Grid>\n    );\n  }\n}\n\n","import React, { Component } from \"react\";\n\nimport { AppBar, Toolbar, IconButton, Button, Typography} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { withTheme } from '@material-ui/core/styles';\n\n\nclass Header extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<AppBar position=\"static\" \n\t\t\t\t\tstyle={{background:this.props.theme.palette.background.toolbar}}>\n\t\t\t<Toolbar disableGutters={false}>\n\t\t\t    <Typography gutterBottom variant=\"h3\" style={{\"margin\": \"0 auto\"}}>\n\t\t            WodTrackrr\n\t\t          </Typography>\n\t\t        </Toolbar>\n\t\t\t</AppBar>\n\t\t)\n\t}\n}\n\n\nexport default Header = withTheme(Header);","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","let apptheme = {\n   \"palette\":{\n      \"common\":{\n         \"black\":\"#000\",\n         \"white\":\"#fff\"\n      },\n      \"background\":{\n         \"paper\":\"#2e3134\",\n         \"toolbar\": \"#0d0e0e\",\n         \"tableHeader\": \"#1b1d1e\",\n         \"default\":\"rgba(48, 48, 48, 1)\"\n      },\n      \"primary\":{\n         \"main\":\"#03ceec\",\n         \"mainGrad\": 'linear-gradient(90deg,#0890fd,#01d3fe)',\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"secondary\":{\n         \"light\":\"#6C30FF\",\n         \"main\":\"#6C30FF\",\n         \"dark\":\"#6C30FF\",\n         \"contrastText\":\"#fff\"\n      },\n      \"error\":{\n         \"light\":\"#ea4331\",\n         \"main\":\"#c43627\",\n         \"dark\":\"#2d0d0b\",\n         \"contrastText\":\"rgba(255, 255, 255, 1)\"\n      },\n      \"text\":{\n         \"primary\":\"#ffffff\",\n         \"secondary\":\"#e0dfdf\",\n         \"disabled\":\"#bdbdbd\",\n         \"hint\":\"#afafaf\"\n      }\n   },\n   \n};\n\nexport default apptheme = apptheme;","import firebase, { FirebaseAuthContext } from \"./context/firebaseContext\"\nimport \"firebase/auth\";\nimport \"firebase/storage\"; \nimport \"firebase/database\"; \n\n\nimport React from \"react\";\nimport { HashRouter, Switch, Route, Link } from 'react-router-dom';\n\n\nimport { Paper, Button, BottomNavigation, BottomNavigationAction ,Grid, Container} from '@material-ui/core';\n\n\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport PanoramaIcon from '@material-ui/icons/Panorama';\n\nimport \"./styles.css\";\n\n\nimport BoxSearchPage from \"./pages/boxSearchPage\"\nimport Profile from \"./pages/profile\"\nimport Header from \"./comps/header\"\n\nimport postData from \"./utils/api\"\n\nimport history from \"./history\"\n\nimport { createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport pink from '@material-ui/core/colors/pink';\nimport teal from '@material-ui/core/colors/teal';\n\nimport apptheme from \"./css/apptheme\"\n\nvar db = firebase.database();\n\n// Needs to move to its own file\nlet theme = createMuiTheme(apptheme);\ntheme = responsiveFontSizes(theme)\n\nexport default class App extends React.Component {\n  constructor(props){\n    super(props)\n  \n    this.state={\n      btmnav: 0,\n      user: firebase.auth().currentUser,\n      userMD: false\n    }\n    \n\n\n\n    this.firebaseAuthListener = firebase.auth()\n    .onAuthStateChanged(user => {\n      if(user){\n        console.log(\"Firebase user listener\")\n        this.setState({ user: user })\n        this.userMDListener = db.ref('users/' + user.uid)\n          .on('value', metadata => {\n             if(metadata.val()){\n              console.log(\"Metadata change\")\n              console.log(metadata.val())\n              this.setState({\n                userMD: metadata.val()\n              })\n             }\n          })\n      }\n    })\n  }\n\n  componentWillUnmount(){\n    if(this.firebaseAuthListener !== undefined)\n      this.firebaseAuthListener && this.firebaseAuthListener()\n    if(this.userMDListener !== null)\n      this.userMDListener && this.userMDListener()\n  }\n\n\n          // <Route path=\"/subscribe\"  >\n          //   <SubscribePage \n              // user={this.state.user}\n              // userMetadata={this.state.userMetadata}\n          //   />\n\n  render(){\n    return(\n    <FirebaseAuthContext.Provider>\n    <HashRouter history={history} >\n   \n    <ThemeProvider theme={theme}>\n      \n      <Grid container>\n\n        <Grid item xs={12} id=\"page-header\">\n          <Header className=\"header\" />\n        </Grid>\n        <Grid item xs={11} id=\"page-container\" className=\"page-content\">\n        <Switch>\n          <Route exact path=\"/boxSearch\">\n            <BoxSearchPage user={this.state.user}\n              userMD={this.state.userMD} />\n          </Route>     \n          <Route exact path=\"/profile\">\n            <Profile user={this.state.user}\n              userMD={this.state.userMD} />\n          </Route>      \n        </Switch>\n        </Grid>\n\n        <Grid item xs={12} className=\"footer\">\n          <BottomNavigation className=\"footer\"\n            value = {this.state.btmnav}\n            onChange = {(event, newValue) => {\n                this.setState({btmnav: newValue})\n              }}\n              style={{background: theme.palette.background.toolbar}}\n            showLabels>\n            <BottomNavigationAction label=\"Search\" component={Link} to=\"/boxSearch\" icon={<PersonIcon />}  />\n            <BottomNavigationAction label=\"Profile\" component={Link} to=\"/profile\" icon={<PersonIcon />}  />\n          </BottomNavigation>\n        </Grid>\n    </Grid>\n    \n       </ThemeProvider>\n\n      </HashRouter>\n      </FirebaseAuthContext.Provider>\n  \n    );\n  }\n}\n\nApp.contextType = FirebaseAuthContext;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\n\n\n\n\nReactDOM.render( <App />, document.getElementById('root'));"],"sourceRoot":""}